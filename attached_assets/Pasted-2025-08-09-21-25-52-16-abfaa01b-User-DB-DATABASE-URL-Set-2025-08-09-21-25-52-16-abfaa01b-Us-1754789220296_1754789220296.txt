2025-08-09 21:25:52.16
abfaa01b
User
[DB] DATABASE_URL: Set
2025-08-09 21:25:52.16
abfaa01b
User
[DB] DATABASE_URL_PROD: Missing
2025-08-09 21:25:52.16
abfaa01b
User
[DB] Environment detected via NODE_ENV=production
2025-08-09 21:25:52.16
abfaa01b
User
file:///home/runner/workspace/dist/index.js:701
2025-08-09 21:25:52.16
abfaa01b
User
throw new Error("DATABASE_URL_PROD must be set for production environment. Add it to Replit Secrets.");
2025-08-09 21:25:52.16
abfaa01b
User
^
2025-08-09 21:25:52.16
abfaa01b
User
2025-08-09 21:25:52.16
abfaa01b
User
Error: DATABASE_URL_PROD must be set for production environment. Add it to Replit Secrets.
2025-08-09 21:25:52.16
abfaa01b
User
at getDatabaseConfig (file:///home/runner/workspace/dist/index.js:701:13)
2025-08-09 21:25:52.16
abfaa01b
User
at server/db.ts (file:///home/runner/workspace/dist/index.js:750:16)
2025-08-09 21:25:52.16
abfaa01b
User
at __init (file:///home/runner/workspace/dist/index.js:10:56)
2025-08-09 21:25:52.16
abfaa01b
User
at server/storage.ts (file:///home/runner/workspace/dist/index.js:855:5)
2025-08-09 21:25:52.16
abfaa01b
User
at __init (file:///home/runner/workspace/dist/index.js:10:56)
2025-08-09 21:25:52.16
abfaa01b
User
at file:///home/runner/workspace/dist/index.js:2076:1
2025-08-09 21:25:52.16
abfaa01b
User
at ModuleJob.run (node:internal/modules/esm/module_job:263:25)
2025-08-09 21:25:52.16
abfaa01b
User
at async ModuleLoader.import (node:internal/modules/esm/loader:540:24)
2025-08-09 21:25:52.16
abfaa01b
User
at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-08-09 21:25:52.16
abfaa01b
User
2025-08-09 21:25:52.16
abfaa01b
User
Node.js v20.19.3
2025-08-09 21:25:52.18
abfaa01b
System
command finished with error [npm run start]: exit status 1
2025-08-09 21:25:58.62
abfaa01b
User
> rest-express@1.0.0 start
2025-08-09 21:25:58.62
abfaa01b
User
> NODE_ENV=production node dist/index.js
2025-08-09 21:25:59.28
abfaa01b
User
[DB] ❌ CRITICAL: DATABASE_URL_PROD is required for production!
2025-08-09 21:25:59.28
abfaa01b
User
[DB] Available database URLs:
2025-08-09 21:25:59.28
abfaa01b
User
[DB] DATABASE_URL: Set
2025-08-09 21:25:59.28
abfaa01b
User
[DB] DATABASE_URL_PROD: Missing
2025-08-09 21:25:59.28
abfaa01b
User
[DB] Environment detected via NODE_ENV=production
2025-08-09 21:25:59.28
abfaa01b
User
file:///home/runner/workspace/dist/index.js:701
2025-08-09 21:25:59.28
abfaa01b
User
throw new Error("DATABASE_URL_PROD must be set for production environment. Add it to Replit Secrets.");
2025-08-09 21:25:59.28
abfaa01b
User
^
2025-08-09 21:25:59.28
abfaa01b
User
2025-08-09 21:25:59.28
abfaa01b
User
Error: DATABASE_URL_PROD must be set for production environment. Add it to Replit Secrets.
2025-08-09 21:25:59.28
abfaa01b
User
at getDatabaseConfig (file:///home/runner/workspace/dist/index.js:701:13)
2025-08-09 21:25:59.28
abfaa01b
User
at server/db.ts (file:///home/runner/workspace/dist/index.js:750:16)
2025-08-09 21:25:59.28
abfaa01b
User
at __init (file:///home/runner/workspace/dist/index.js:10:56)
2025-08-09 21:25:59.28
abfaa01b
User
at server/storage.ts (file:///home/runner/workspace/dist/index.js:855:5)
2025-08-09 21:25:59.28
abfaa01b
User
at __init (file:///home/runner/workspace/dist/index.js:10:56)
2025-08-09 21:25:59.28
abfaa01b
User
at file:///home/runner/workspace/dist/index.js:2076:1
2025-08-09 21:25:59.28
abfaa01b
User
at ModuleJob.run (node:internal/modules/esm/module_job:263:25)
2025-08-09 21:25:59.28
abfaa01b
User
at async ModuleLoader.import (node:internal/modules/esm/loader:540:24)
2025-08-09 21:25:59.28
abfaa01b
User
at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-08-09 21:25:59.28
abfaa01b
User
2025-08-09 21:25:59.28
abfaa01b
User
Node.js v20.19.3
2025-08-09 21:25:59.29
abfaa01b
System
command finished with error [npm run start]: exit status 1
2025-08-09 21:26:09.05
abfaa01b
User
> rest-express@1.0.0 start
2025-08-09 21:26:09.05
abfaa01b
User
> NODE_ENV=production node dist/index.js
2025-08-09 21:26:09.73
abfaa01b
User
[DB] ❌ CRITICAL: DATABASE_URL_PROD is required for production!
2025-08-09 21:26:09.73
abfaa01b
User
[DB] Available database URLs:
2025-08-09 21:26:09.73
abfaa01b
User
[DB] DATABASE_URL: Set
2025-08-09 21:26:09.73
abfaa01b
User
[DB] DATABASE_URL_PROD: Missing
2025-08-09 21:26:09.73
abfaa01b
User
[DB] Environment detected via NODE_ENV=production
2025-08-09 21:26:09.73
abfaa01b
User
file:///home/runner/workspace/dist/index.js:701
2025-08-09 21:26:09.73
abfaa01b
User
throw new Error("DATABASE_URL_PROD must be set for production environment. Add it to Replit Secrets.");
2025-08-09 21:26:09.73
abfaa01b
User
^
2025-08-09 21:26:09.73
abfaa01b
User
2025-08-09 21:26:09.73
abfaa01b
User
Error: DATABASE_URL_PROD must be set for production environment. Add it to Replit Secrets.
2025-08-09 21:26:09.73
abfaa01b
User
at getDatabaseConfig (file:///home/runner/workspace/dist/index.js:701:13)
2025-08-09 21:26:09.73
abfaa01b
User
at server/db.ts (file:///home/runner/workspace/dist/index.js:750:16)
2025-08-09 21:26:09.73
abfaa01b
User
at __init (file:///home/runner/workspace/dist/index.js:10:56)
2025-08-09 21:26:09.73
abfaa01b
User
at server/storage.ts (file:///home/runner/workspace/dist/index.js:855:5)
2025-08-09 21:26:09.73
abfaa01b
User
at __init (file:///home/runner/workspace/dist/index.js:10:56)
2025-08-09 21:26:09.73
abfaa01b
User
at file:///home/runner/workspace/dist/index.js:2076:1
2025-08-09 21:26:09.73
abfaa01b
User
at ModuleJob.run (node:internal/modules/esm/module_job:263:25)
2025-08-09 21:26:09.73
abfaa01b
User
at async ModuleLoader.import (node:internal/modules/esm/loader:540:24)
2025-08-09 21:26:09.73
abfaa01b
User
at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
2025-08-09 21:26:09.73
abfaa01b
User
2025-08-09 21:26:09.73
abfaa01b
User
Node.js v20.19.3
2025-08-09 21:26:09.74
abfaa01b
System
command finished with error [npm run start]: exit status 1
2025-08-09 21:26:18.87
abfaa01b
System
crash loop detected