Fix These Search Bar Issues
1. Fix the Left-Right Jump Animation
The dropdown is jumping because:

The animation starts from x: -30 but the dropdown position is calculated after render
The left position changes during animation causing the jump
Portal mounting happens before position is set

Tell Replit to:

Calculate dropdown position BEFORE rendering the portal
Remove the x animation completely - only use y and scale
Set the dropdown position in CSS as a fixed value before animation starts
Use transform-origin: top left and animate from scale(0.95) to scale(1) only

2. Fix X Button to Close Dropdown
The X button currently only clears text but doesn't close the dropdown.
Tell Replit to modify the clearSearch function:
javascriptconst clearSearch = () => {
  setQuery('');
  setSelectedIndex(-1);
  setIsOpen(false); // ADD THIS LINE
  inputRef.current?.focus();
  
  if (context === 'header') {
    navigate('/');
  } else {
    onSearch?.('');
  }
};
3. Fix Animation Jumping Issues
Tell Replit to change the animation:
FROM:
javascriptinitial={{ opacity: 0, x: -30, y: -30, scale: 0.9 }}
animate={{ opacity: 1, x: 0, y: 0, scale: 1 }}
TO:
javascriptinitial={{ opacity: 0, y: -10, scale: 0.95 }}
animate={{ opacity: 1, y: 0, scale: 1 }}
4. Fix Position Calculation Timing
Tell Replit to:

Use useLayoutEffect instead of useEffect for position calculation
Set position synchronously before setting isOpen to true
Add position: fixed to the dropdown container style object
Remove any dynamic position recalculation during animation

5. Complete Fix Instructions for Replit
Tell Replit: "The search dropdown has animation bugs - it jumps left to right when opening. Fix by:

Remove ALL x transforms from the motion animation
Make the X button close the dropdown by adding setIsOpen(false) to clearSearch
Calculate dropdown position BEFORE opening, not after
Use only opacity, y, and scale for animation
Set transform-origin: 0 0 (top left) on the dropdown
Don't recalculate position during animation
Test that clicking X closes dropdown AND clears text
Ensure no horizontal movement during open/close animations"

6. Quick Test to Verify Fixes
Tell Replit to test:

Open dropdown → should appear smoothly from top without horizontal movement
Click X → should close dropdown AND clear text
Reopen → should appear in same position without jumps
Type and clear repeatedly → smooth animations each time

The core issue is the animation trying to animate position properties that are being calculated dynamically. Keep position static and only animate transform properties.