const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/checkout-Cdup2RM8.js","assets/vendor-query-CoA2KGsa.js","assets/vendor-react-Bg7tF2Ta.js","assets/index-CiygW3Vf.js","assets/vendor-router-CuiUI5dJ.js","assets/zod-YIuxXgnh.js","assets/vendor-ui-BRIy5LFq.js","assets/vendor-form-DFvvgXD3.js","assets/vendor-icons-owZ3yLAb.js","assets/vendor-utils-CrFdsnXa.js","assets/sell-to-us-DkMJWBTx.js","assets/price-input-CUpIg_gj.js","assets/UnifiedDropdown-D25oL3E9.js","assets/track-submission-813g5FW1.js","assets/dashboard-D8hFeivZ.js","assets/address-autocomplete-BsqSNb0U.js","assets/admin-ByVNSJrL.js","assets/ProductForm-WcynsP3_.js","assets/orders-D8qCjTqm.js","assets/about-13tKJNtH.js","assets/contact-7WWhq9mu.js","assets/auth-XFhg63hM.js","assets/forgot-password-dAU48W75.js","assets/alert-CwFtWvQs.js","assets/reset-password-CzCup4Ah.js"])))=>i.map(i=>d[i]);
var e,t=Object.defineProperty,s=(e,s,n)=>((e,s,n)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n)(e,"symbol"!=typeof s?s+"":s,n);import{Q as n,j as r,u as a,a as i,b as o,c as l}from"./vendor-query-CoA2KGsa.js";import{b as c,r as d,a as u}from"./vendor-react-Bg7tF2Ta.js";import{u as h,L as m,a as p,S as f,R as x}from"./vendor-router-CuiUI5dJ.js";import{V as g,R as v,A as y,C as b,T as j,D as w,P as N,a as S,b as P,S as E,O as T,c as k,d as C,e as A,f as R,g as D,h as M,i as F,j as L,k as O,l as I,m as V,I as B,n as z,o as U,u as $,p as _,q,r as K,s as W,t as Y,v as H,w as G}from"./vendor-ui-BRIy5LFq.js";import{c as Q,t as X}from"./vendor-utils-CrFdsnXa.js";import{X as J,A as Z,R as ee,H as te,L as se,C as ne,a as re,S as ae,b as ie,c as oe,d as le,e as ce,T as de,U as ue,f as he,g as me,h as pe,i as fe,j as xe,k as ge,M as ve,l as ye,P as be,m as je,F as we,I as Ne,Y as Se,n as Pe,o as Ee,p as Te,q as ke,r as Ce,E as Ae,D as Re,s as De,t as Me,u as Fe,v as Le,G as Oe,w as Ie,x as Ve,Z as Be,y as ze,z as Ue,B as $e,J as _e}from"./vendor-icons-owZ3yLAb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var qe=c;e=qe.createRoot,qe.hydrateRoot;const Ke={},We=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");n=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Ke)return;Ke[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},Ye="/",He="/products",Ge="/products/:id",Qe="/cart",Xe="/checkout",Je="/auth",Ze="/dashboard",et="/orders",tt="/sell-to-us",st="/track-submission",nt="/admin",rt="/admin/products/new",at="/admin/products/edit/:id",it="/about",ot="/contact",lt=e=>`/products/${e}`;async function ct(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function dt(e,t,s){const n=await fetch(t,{method:e,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await ct(n),n}const ut=new EventTarget,ht=new n({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:e})=>{const t=function(e){const[t,s]=e;if("string"!=typeof t)throw new Error("First element of queryKey must be a URL string");if(!s||"object"!=typeof s||Array.isArray(s))return t;const n=new URLSearchParams;Object.entries(s).forEach(([e,t])=>{null!=t&&""!==t&&n.append(e,String(t))});const r=n.toString();return r?`${t}?${r}`:t}(e),s=await fetch(t,{credentials:"include"});return 401===s.status?null:(await ct(s),await s.json())})({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:3e5,gcTime:6e5,retry:(e,t)=>!(t instanceof Error&&t.message.includes("4"))&&e<3},mutations:{retry:1}}}),mt=(e,t,s)=>{ut.dispatchEvent(new CustomEvent("productUpdated",{detail:{productId:e,action:t,updates:s,timestamp:Date.now()}})),window.dispatchEvent(new CustomEvent("productUpdated",{detail:{productId:e,action:t,updates:s,timestamp:Date.now()}})),ht.invalidateQueries({queryKey:["/api/products"]}),ht.invalidateQueries({queryKey:["/api/products/featured"]}),ht.invalidateQueries({queryKey:["/api/admin/stats"]}),e&&ht.invalidateQueries({queryKey:[`/api/products/${e}`]}),ht.refetchQueries({queryKey:["/api/products"]}),ht.refetchQueries({queryKey:["/api/products/featured"]})};let pt=0;const ft=new Map,xt=e=>{if(ft.has(e))return;const t=setTimeout(()=>{ft.delete(e),bt({type:"REMOVE_TOAST",toastId:e})},2e3);ft.set(e,t)},gt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?xt(s):e.toasts.forEach(e=>{xt(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},vt=[];let yt={toasts:[]};function bt(e){yt=gt(yt,e),vt.forEach(e=>{e(yt)})}function jt({...e}){const t=(pt=(pt+1)%Number.MAX_SAFE_INTEGER,pt.toString()),s=()=>bt({type:"DISMISS_TOAST",toastId:t});return bt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),setTimeout(()=>{s()},2e3),{id:t,dismiss:s,update:e=>bt({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function wt(){const[e,t]=d.useState(yt);return d.useEffect(()=>(vt.push(t),()=>{const e=vt.indexOf(t);e>-1&&vt.splice(e,1)}),[e]),{...e,toast:jt,dismiss:e=>bt({type:"DISMISS_TOAST",toastId:e})}}const Nt=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,St=Q,Pt=(e,t)=>s=>{var n;if(null==(null==t?void 0:t.variants))return St(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:r,defaultVariants:a}=t,i=Object.keys(r).map(e=>{const t=null==s?void 0:s[e],n=null==a?void 0:a[e];if(null===t)return null;const i=Nt(t)||Nt(n);return r[e][i]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,n]=t;return void 0===n||(e[s]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:s,className:n,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...a,...o}[t]):{...a,...o}[t]===s})?[...e,s,n]:e},[]);return St(e,i,l,null==s?void 0:s.class,null==s?void 0:s.className)};function Et(...e){return X(Q(e))}const Tt=N,kt=d.forwardRef(({className:e,...t},s)=>r.jsx(g,{ref:s,className:Et("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));kt.displayName=g.displayName;const Ct=Pt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-primary",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),At=d.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(v,{ref:n,className:Et(Ct({variant:t}),e),...s}));At.displayName=v.displayName;d.forwardRef(({className:e,...t},s)=>r.jsx(y,{ref:s,className:Et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-card focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=y.displayName;const Rt=d.forwardRef(({className:e,...t},s)=>r.jsx(b,{ref:s,className:Et("absolute right-2 top-2 rounded-md p-1 text-primary/50 opacity-0 transition-opacity hover:text-primary focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(J,{className:"h-4 w-4"})}));Rt.displayName=b.displayName;const Dt=d.forwardRef(({className:e,...t},s)=>r.jsx(j,{ref:s,className:Et("text-sm font-semibold",e),...t}));Dt.displayName=j.displayName;const Mt=d.forwardRef(({className:e,...t},s)=>r.jsx(w,{ref:s,className:Et("text-sm opacity-90",e),...t}));function Ft(){const{toasts:e}=wt();return r.jsxs(Tt,{children:[e.map(function({id:e,title:t,description:s,action:n,...a}){return r.jsxs(At,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[t&&r.jsx(Dt,{children:t}),s&&r.jsx(Mt,{children:s})]}),n,r.jsx(Rt,{})]},e)}),r.jsx(kt,{})]})}Mt.displayName=w.displayName;const Lt=P;d.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(S,{ref:n,sideOffset:t,className:Et("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s})).displayName=S.displayName;const Ot=d.createContext(void 0);function It({children:e}){const{toast:t}=wt(),s=a(),{data:n=[],isLoading:l,refetch:c}=i({queryKey:["/api/cart"],queryFn:async()=>{const e=await fetch("/api/cart",{credentials:"include",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!e.ok)throw new Error("Failed to fetch cart");return e.json()},staleTime:0,gcTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:3e4});d.useEffect(()=>{const e=()=>{s.invalidateQueries({queryKey:["/api/cart"]}),c()},t=()=>{c()};return window.addEventListener("productUpdated",e),window.addEventListener("storageChanged",t),window.addEventListener("productDeleted",e),()=>{window.removeEventListener("productUpdated",e),window.removeEventListener("storageChanged",t),window.removeEventListener("productDeleted",e)}},[s,c]);const u=o({mutationFn:async e=>(await dt("POST","/api/cart",{productId:e.productId,quantity:e.quantity})).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/cart"]})},onError:e=>{t({title:"Failed to add to cart",description:"Please try again.",variant:"destructive"})}}),h=o({mutationFn:async({itemId:e,quantity:t})=>{if(0===t){return(await dt("DELETE",`/api/cart/${e}`)).json()}return(await dt("PUT",`/api/cart/${e}`,{quantity:t})).json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/cart"]})},onError:e=>{t({title:"Failed to update cart",description:"Please try again.",variant:"destructive"})}}),m=o({mutationFn:async e=>(await dt("DELETE",`/api/cart/${e}`)).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/cart"]}),t({title:"Item removed",description:"Item has been removed from your cart."})},onError:e=>{t({title:"Failed to remove item",description:"Please try again.",variant:"destructive"})}}),p=o({mutationFn:async()=>{await Promise.all((n||[]).map(e=>dt("DELETE",`/api/cart/${e.id}`)))},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/cart"]}),t({title:"Cart cleared",description:"All items have been removed from your cart."})},onError:e=>{t({title:"Failed to clear cart",description:"Please try again.",variant:"destructive"})}}),f=n?.reduce((e,t)=>e+t.quantity,0)||0,x=n?.reduce((e,t)=>e+Number(t.product.price)*t.quantity,0)||0,g=e=>{m.mutate(e)},v={cartItems:n||[],cartCount:f,cartTotal:x,isLoading:l,addToCart:e=>{u.mutate(e)},updateQuantity:(e,t)=>{h.mutate({itemId:e,quantity:t})},removeFromCart:g,clearCart:()=>{p.mutate()},isInCart:e=>n?.some(t=>t.productId===e)||!1,removeProductFromCart:e=>{const t=n?.find(t=>t.productId===e);t&&g(t.id)}};return r.jsx(Ot.Provider,{value:v,children:e})}function Vt(){const e=d.useContext(Ot);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e}const Bt=d.createContext(null);function zt({children:e}){const{toast:t}=wt(),{data:s,error:n,isLoading:a}=i({queryKey:["/api/user"],retry:!1,throwOnError:!1,staleTime:0,gcTime:0,refetchOnWindowFocus:!1,refetchOnMount:!0}),l=o({mutationFn:async e=>{const t={...e,email:e.email.toLowerCase().trim()},s=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),n=await s.json();if(!s.ok){const e=new Error(n.details||n.error||"Login failed");throw e.code=n.code,e.suggestion=n.suggestion,e}return n.user||n},onSuccess:async e=>{await new Promise(e=>setTimeout(e,200)),ht.setQueryData(["/api/user"],e),await ht.refetchQueries({queryKey:["/api/user"]}),t({title:"Welcome back!",description:`Logged in as ${e.email}`})},onError:e=>{let s=e.message;e.suggestion&&(s+=` ${e.suggestion}`),t({title:"Login Failed",description:s,variant:"destructive"})}}),c=o({mutationFn:async e=>{const t={...e,email:e.email.toLowerCase().trim()},s=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),n=await s.json();if(!s.ok){const e=new Error(n.details||n.error||"Registration failed");throw e.code=n.code,e.suggestion=n.suggestion,e}return n.user||n},onSuccess:async e=>{await new Promise(e=>setTimeout(e,200)),ht.setQueryData(["/api/user"],e),await ht.refetchQueries({queryKey:["/api/user"]}),t({title:"Account created!",description:`Welcome to Clean & Flip, ${e.firstName||e.email}!`})},onError:e=>{let s=e.message;e.suggestion&&(s+=` ${e.suggestion}`),"EMAIL_EXISTS"!==e.code?t({title:"Registration Failed",description:s,variant:"destructive"}):t({title:"Account Already Exists",description:e.message,variant:"destructive",action:r.jsx("button",{onClick:()=>window.location.hash="#login",className:"text-sm underline",children:"Go to Sign In"})})}}),d=o({mutationFn:async()=>{await dt("POST","/api/logout")},onSuccess:()=>{ht.setQueryData(["/api/user"],null),ht.invalidateQueries({queryKey:["/api/user"]}),ht.clear(),localStorage.clear(),sessionStorage.clear(),setTimeout(()=>{window.location.href="/"},100),t({title:"Logged out",description:"See you next time!"})},onError:e=>{t({title:"Logout failed",description:e.message,variant:"destructive"})}});return r.jsx(Bt.Provider,{value:{user:s??null,isLoading:a,error:n,loginMutation:l,logoutMutation:d,registerMutation:c},children:e})}function Ut(){const e=d.useContext(Bt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}class $t extends d.Component{constructor(){super(...arguments),s(this,"state",{hasError:!1}),s(this,"handleRetry",()=>{window.location.reload()}),s(this,"handleGoHome",()=>{window.location.href=Ye})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error boundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center px-4 py-8 relative overflow-auto",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gray-600 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob animation-delay-2000"})]}),r.jsx("div",{className:"max-w-md w-full relative z-10",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-red-600 rounded-full blur-2xl opacity-10 animate-pulse"}),r.jsx("div",{className:"relative bg-gray-800/50 rounded-full p-6 border border-gray-700/50",children:r.jsx(Z,{className:"w-16 h-16 text-red-400"})})]})}),r.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-8 border border-gray-800/50",children:[r.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-400 text-center mb-8",children:"An unexpected error occurred. Please try refreshing the page or return to the homepage."}),this.state.error&&r.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-left",children:r.jsx("p",{className:"text-red-300 text-sm font-mono",children:this.state.error.message})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs("button",{onClick:this.handleRetry,className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all",children:[r.jsx(ee,{className:"w-5 h-5"}),"Try Again"]}),r.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all border border-gray-700",children:[r.jsx(te,{className:"w-5 h-5"}),"Home"]})]})]}),r.jsxs("p",{className:"text-center text-gray-500 text-sm mt-8",children:["Unexpected Error | Need help?",r.jsx("a",{href:"/contact",className:"text-blue-500 hover:text-blue-400 ml-1",children:"Contact Support"})]})]})})]}):this.props.children}}function _t({status:e=404,message:t,title:s}){const{title:n,message:a,icon:i}=(()=>{switch(e){case 404:return{title:s||"Page Not Found",message:t||"The page you're looking for doesn't exist.",icon:"ðŸ”"};case 403:return{title:s||"Access Denied",message:t||"You don't have permission to access this page.",icon:"ðŸ”’"};case 500:return{title:s||"Server Error",message:t||"Something went wrong on our end. Please try again later.",icon:"âš ï¸"};default:return{title:s||"Error",message:t||"An unexpected error occurred.",icon:"âŒ"}}})();return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center px-4 py-8 relative overflow-auto",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gray-600 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob animation-delay-2000"})]}),r.jsx("div",{className:"max-w-md w-full relative z-10",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-blue-600 rounded-full blur-2xl opacity-10 animate-pulse"}),r.jsx("div",{className:"relative bg-gray-800/50 rounded-full p-6 border border-gray-700/50",children:r.jsx("div",{className:"text-6xl",children:i})})]})}),r.jsx("div",{className:"text-center mb-4",children:r.jsx("span",{className:"text-6xl font-bold bg-gradient-to-r from-blue-500 to-blue-400 bg-clip-text text-transparent",children:e})}),r.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-8 border border-gray-800/50",children:[r.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-4",children:n}),r.jsx("p",{className:"text-gray-400 text-center mb-8",children:a}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs("button",{onClick:()=>{window.location.href="/"},className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all",children:[r.jsx(te,{className:"w-5 h-5"}),"Go Home"]}),r.jsx("button",{onClick:()=>{window.history.back()},className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all border border-gray-700",children:"Go Back"})]})]}),r.jsxs("p",{className:"text-center text-gray-500 text-sm mt-8",children:["Error Code: ",e," | Need help?",r.jsx("a",{href:"/contact",className:"text-blue-500 hover:text-blue-400 ml-1",children:"Contact Support"})]})]})})]})}const qt=Pt("btn",{variants:{variant:{default:"btn-primary",primary:"btn-primary",secondary:"btn-secondary",destructive:"btn-danger",outline:"btn-outline",ghost:"btn-ghost",link:"btn-ghost underline-offset-4 hover:underline",glass:"btn-glass",danger:"btn-danger",success:"btn-success"},size:{default:"btn-md",sm:"btn-sm",lg:"btn-lg",icon:"btn-sm w-10 p-0"}},defaultVariants:{variant:"default",size:"default"}}),Kt=d.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,loading:a=!1,icon:i,children:o,disabled:l,...c},d)=>{const u=n?E:"button";return r.jsxs(u,{className:Et(qt({variant:t,size:s,className:e}),a&&"btn-loading"),ref:d,disabled:l||a,...c,children:[a?r.jsx(se,{className:"h-4 w-4 animate-spin"}):i?r.jsx("span",{className:"btn-icon",children:i}):null,!a&&o]})});Kt.displayName="Button";const Wt=M,Yt=F,Ht=k,Gt=d.forwardRef(({className:e,...t},s)=>r.jsx(T,{className:Et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Gt.displayName=T.displayName;const Qt=Pt("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Xt=d.forwardRef(({side:e="right",className:t,children:s,...n},a)=>r.jsxs(Ht,{children:[r.jsx(Gt,{}),r.jsxs(C,{ref:a,className:Et(Qt({side:e}),t),...n,children:[s,r.jsxs(A,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(J,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xt.displayName=C.displayName;const Jt=({className:e,...t})=>r.jsx("div",{className:Et("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jt.displayName="SheetHeader";const Zt=d.forwardRef(({className:e,...t},s)=>r.jsx(R,{ref:s,className:Et("text-lg font-semibold text-primary",e),...t}));Zt.displayName=R.displayName;function es(e,t){let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}}function ts({productId:e,stock:t,className:s="",variant:n="default",size:a="default",quantity:i=1}){const[o,l]=d.useState(!1),[c,u]=d.useState(null),{toast:m}=wt(),{user:p}=Ut(),{addToCart:f,isInCart:x,removeProductFromCart:g}=Vt(),[,v]=h(),y=x(e),b=t||0,j=d.useMemo(()=>es(async t=>{if(t.stopPropagation(),t.preventDefault(),!o)if(p){l(!0);try{g(e)}catch(s){m({title:"Remove failed",description:s?.message||"Failed to remove from cart",variant:"destructive"})}finally{l(!1)}}else m({title:"Sign in required",description:"Please sign in to manage your cart",variant:"destructive",action:r.jsx(Kt,{variant:"outline",size:"sm",onClick:()=>v("/auth"),className:"ml-2",children:"Sign In"})})},500),[e,o,g,m,p,v]),w=d.useMemo(()=>es(async()=>{if(!o)if(p){l(!0),u(null);try{await f({productId:e,quantity:i}),m({title:"Added to cart",description:(i>1?`${i} items`:"Item")+" added successfully"})}catch(t){const e=t?.message||"Failed to add to cart";u(e),m({title:"Add to cart failed",description:e,variant:"destructive"})}finally{l(!1)}}else m({title:"Sign in required",description:"Please sign in to add items to your cart",variant:"destructive",action:r.jsx(Kt,{variant:"outline",size:"sm",onClick:()=>v("/auth"),className:"ml-2",children:"Sign In"})})},100),[e,o,i,f,m,p,v]),N=()=>{v("/cart")},S=0===b,P=o||S;return S?r.jsx(Kt,{variant:"outline",size:a,disabled:!0,className:`opacity-50 cursor-not-allowed ${s}`,children:"Out of Stock"}):y?r.jsxs("div",{className:"relative group",children:[r.jsxs(Kt,{onClick:N,variant:"success",size:a,className:`w-full py-3 px-6 gap-2 ${s}`,children:[r.jsx(ne,{className:"w-5 h-5"}),"In Cart - View"]}),r.jsx(Kt,{onClick:j,disabled:o,variant:"danger",size:"icon",className:"absolute -top-2 -right-2 w-6 h-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 disabled:opacity-50 z-10",title:"Remove from cart",children:r.jsx(J,{className:"w-3 h-3 text-white"})})]}):r.jsx(Kt,{onClick:w,disabled:P,variant:p?"primary":"secondary",size:a,className:`w-full py-3 px-6 gap-2 ${s}`,loading:o,title:p?"Add to cart":"Sign in required to add to cart",children:o?"Adding...":r.jsxs(r.Fragment,{children:[p?r.jsx(ae,{className:"w-5 h-5"}):r.jsx(re,{className:"w-5 h-5"}),p?"Add to Cart"+(i>1?` (${i})`:""):"Sign In to Shop"]})})}d.forwardRef(({className:e,...t},s)=>r.jsx(D,{ref:s,className:Et("text-sm text-muted-foreground",e),...t})).displayName=D.displayName;const ss=({price:e,originalPrice:t,size:s="default",className:n=""})=>{const a="string"==typeof e?parseFloat(e):e,i=t?"string"==typeof t?parseFloat(t):t:null,o=i&&i>a?Math.round((i-a)/i*100):0;return r.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[r.jsxs("span",{className:`font-bold text-white ${{small:"text-sm",default:"text-lg",large:"text-2xl"}[s]}`,children:["$",a.toFixed(2)]}),i&&i>a&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:`line-through text-gray-400 ${{small:"text-xs",default:"text-sm",large:"text-lg"}[s]}`,children:["$",i.toFixed(2)]}),r.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:["-",o,"%"]})]})]})},ns=({stock:e,showNumber:t=!1,size:s="default",className:n=""})=>{const a=e||0,i="small"===s?14:16;return 0===a?r.jsxs("div",{className:`flex items-center gap-1 text-red-400 font-medium ${n}`,children:[r.jsx(ie,{size:i}),"Out of Stock"]}):a<=3?r.jsxs("div",{className:`flex items-center gap-1 text-red-400 font-medium ${n}`,children:[r.jsx(Z,{size:i}),"Only ",a," left!"]}):t?r.jsxs("div",{className:`flex items-center gap-1 text-emerald-400 ${n}`,children:[r.jsx(oe,{size:i}),a," in stock"]}):r.jsxs("div",{className:`flex items-center gap-1 text-emerald-400 ${n}`,children:[r.jsx(oe,{size:i}),"In Stock"]})},rs=d.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rs.displayName="Card";const as=d.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Et("flex flex-col space-y-1.5 p-6",e),...t}));as.displayName="CardHeader";const is=d.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Et("text-2xl font-semibold leading-none tracking-tight",e),...t}));is.displayName="CardTitle";const os=d.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Et("text-sm text-muted-foreground-foreground",e),...t}));os.displayName="CardDescription";const ls=d.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Et("p-6 pt-0",e),...t}));ls.displayName="CardContent";d.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Et("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const cs=Pt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-card text-secondary-foreground hover:bg-card/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-primary"}},defaultVariants:{variant:"default"}});function ds({className:e,variant:t,...s}){return r.jsx("div",{className:Et(cs({variant:t}),e),...s})}const us=d.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:Et("flex h-10 w-full rounded-md border border-input bg-input px-3 py-2 text-base text-input-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-primary placeholder:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));us.displayName="Input";var hs=d.forwardRef((e,t)=>r.jsx(L.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));hs.displayName="Label";var ms=hs;const ps=Pt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-white"),fs=d.forwardRef(({className:e,...t},s)=>r.jsx(ms,{ref:s,className:Et(ps(),e),...t}));fs.displayName=ms.displayName;const xs=d.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:Et("flex min-h-[80px] w-full rounded-md border border-input bg-input px-3 py-2 text-base text-input-foreground ring-offset-background placeholder:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));xs.displayName="Textarea";var gs="Tabs",[vs,ys]=O(gs,[I]),bs=I(),[js,ws]=vs(gs),Ns=d.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=$(l),[h,m]=_({prop:n,onChange:a,defaultProp:i??"",caller:gs});return r.jsx(js,{scope:s,baseId:q(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(L.div,{dir:u,"data-orientation":o,...d,ref:t})})});Ns.displayName=gs;var Ss="TabsList",Ps=d.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...a}=e,i=ws(Ss,s),o=bs(s);return r.jsx(V,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:r.jsx(L.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Ps.displayName=Ss;var Es="TabsTrigger",Ts=d.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...i}=e,o=ws(Es,s),l=bs(s),c=As(o.baseId,n),d=Rs(o.baseId,n),u=n===o.value;return r.jsx(B,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(L.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:z(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:z(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:z(e.onFocus,()=>{const e="manual"!==o.activationMode;u||a||!e||o.onValueChange(n)})})})});Ts.displayName=Es;var ks="TabsContent",Cs=d.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,forceMount:a,children:i,...o}=e,l=ws(ks,s),c=As(l.baseId,n),u=Rs(l.baseId,n),h=n===l.value,m=d.useRef(h);return d.useEffect(()=>{const e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),r.jsx(U,{present:a||h,children:({present:s})=>r.jsx(L.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!s,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:s&&i})})});function As(e,t){return`${e}-trigger-${t}`}function Rs(e,t){return`${e}-content-${t}`}Cs.displayName=ks;var Ds=Ps,Ms=Ts,Fs=Cs;const Ls=Ns,Os=d.forwardRef(({className:e,...t},s)=>r.jsx(Ds,{ref:s,className:Et("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground-foreground",e),...t}));Os.displayName=Ds.displayName;const Is=d.forwardRef(({className:e,...t},s)=>r.jsx(Ms,{ref:s,className:Et("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm",e),...t}));Is.displayName=Ms.displayName;const Vs=d.forwardRef(({className:e,...t},s)=>r.jsx(Fs,{ref:s,className:Et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vs.displayName=Fs.displayName;var Bs="horizontal",zs=["horizontal","vertical"],Us=d.forwardRef((e,t)=>{const{decorative:s,orientation:n=Bs,...a}=e,i=function(e){return zs.includes(e)}(n)?n:Bs,o=s?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return r.jsx(L.div,{"data-orientation":i,...o,...a,ref:t})});Us.displayName="Separator";var $s=Us;const _s=d.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...n},a)=>r.jsx($s,{ref:a,decorative:s,orientation:t,className:Et("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...n}));_s.displayName=$s.displayName;const qs={colors:{bg:{primary:"#1A1F2E",secondary:"#232937",overlay:"rgba(0, 0, 0, 0.6)"},text:{primary:"#FFFFFF",secondary:"#E2E8F0",muted:"#94A3B8"},brand:{blue:"#3B82F6",green:"#10B981",purple:"#8B5CF6"},status:{warning:"#F59E0B",error:"#EF4444"},border:{default:"rgba(255, 255, 255, 0.08)"}}},Ks=M,Ws=k,Ys=d.forwardRef(({className:e,...t},s)=>r.jsx(T,{ref:s,className:Et("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{backgroundColor:qs.colors.bg.overlay},...t}));Ys.displayName=T.displayName;const Hs=d.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Ws,{children:[r.jsx(Ys,{}),r.jsxs(C,{ref:n,className:Et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),style:{backgroundColor:qs.colors.bg.secondary,border:`1px solid ${qs.colors.border.default}`,color:qs.colors.text.primary},...s,children:[t,r.jsxs(A,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",style:{color:qs.colors.text.muted},children:[r.jsx(J,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hs.displayName=C.displayName;const Gs=({className:e,...t})=>r.jsx("div",{className:Et("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gs.displayName="DialogHeader";const Qs=d.forwardRef(({className:e,...t},s)=>r.jsx(R,{ref:s,className:Et("text-lg font-semibold leading-none tracking-tight",e),...t}));Qs.displayName=R.displayName;d.forwardRef(({className:e,...t},s)=>r.jsx(D,{ref:s,className:Et("text-sm text-muted-foreground",e),...t})).displayName=D.displayName;const Xs=u.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Js=()=>{const e=u.useContext(Xs);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};function Zs(...e){return d.useCallback(function(...e){return t=>e.forEach(e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t))}(...e),e)}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");const en=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function tn(e,t){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=s}}const sn={DURATION:.5,EASE:[.32,.72,0,1]};const nn=u.forwardRef(function({...e},t){const{overlayRef:s,snapPoints:n,onRelease:r,shouldFade:a,isOpen:i,modal:o,shouldAnimate:l}=Js(),c=Zs(t,s),d=n&&n.length>0;if(!o)return null;const h=u.useCallback(e=>r(e),[r]);return u.createElement(T,{onMouseUp:h,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&d?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false","data-vaul-animate":(null==l?void 0:l.current)?"true":"false",...e})});nn.displayName="Drawer.Overlay";const rn=u.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:s,...n},r){const{drawerRef:a,onPress:i,onRelease:o,onDrag:l,keyboardIsOpen:c,snapPointsOffset:h,activeSnapPointIndex:m,modal:p,isOpen:f,direction:x,snapPoints:g,container:v,handleOnly:y,shouldAnimate:b,autoFocus:j}=Js(),[w,N]=u.useState(!1),S=Zs(r,a),P=u.useRef(null),E=u.useRef(null),T=u.useRef(!1),k=g&&g.length>0;!function(){const{direction:e,isOpen:t,shouldScaleBackground:s,setBackgroundColorOnScale:n,noBodyStyles:r}=Js(),a=u.useRef(null),i=d.useMemo(()=>document.body.style.backgroundColor,[]);function o(){return(window.innerWidth-26)/window.innerWidth}u.useEffect(()=>{if(t&&s){a.current&&clearTimeout(a.current);const t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;n&&!r&&tn(document.body,{background:"black"}),tn(t,{transformOrigin:en(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${sn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${sn.EASE.join(",")})`});const s=tn(t,{borderRadius:"8px",overflow:"hidden",...en(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{s(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},1e3*sn.DURATION)}}},[t,s,i])}();function A(e){P.current=null,T.current=!1,o(e)}return u.useEffect(()=>{k&&window.requestAnimationFrame(()=>{N(!0)})},[]),u.createElement(C,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":f&&k?"true":"false","data-vaul-custom-container":v?"true":"false","data-vaul-animate":(null==b?void 0:b.current)?"true":"false",...n,ref:S,style:h&&h.length>0?{"--snap-point-height":`${h[null!=m?m:0]}px`,...t}:t,onPointerDown:e=>{y||(null==n.onPointerDown||n.onPointerDown.call(n,e),P.current={x:e.pageX,y:e.pageY},i(e))},onOpenAutoFocus:e=>{null==s||s(e),j||e.preventDefault()},onPointerDownOutside:t=>{null==e||e(t),p&&!t.defaultPrevented?c.current&&(c.current=!1):t.preventDefault()},onFocusOutside:e=>{p||e.preventDefault()},onPointerMove:e=>{if(E.current=e,y)return;if(null==n.onPointerMove||n.onPointerMove.call(n,e),!P.current)return;const t=e.pageY-P.current.y,s=e.pageX-P.current.x,r="touch"===e.pointerType?10:2,a=((e,t,s=0)=>{if(T.current)return!0;const n=Math.abs(e.y),r=Math.abs(e.x),a=r>n,i=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*i<0)&&r>=0&&r<=s)return a}else if(!(e.y*i<0)&&n>=0&&n<=s)return!a;return T.current=!0,!0})({x:s,y:t},x,r);a?l(e):(Math.abs(s)>r||Math.abs(t)>r)&&(P.current=null)},onPointerUp:e=>{null==n.onPointerUp||n.onPointerUp.call(n,e),P.current=null,T.current=!1,o(e)},onPointerOut:e=>{null==n.onPointerOut||n.onPointerOut.call(n,e),A(E.current)},onContextMenu:e=>{null==n.onContextMenu||n.onContextMenu.call(n,e),E.current&&A(E.current)}})});rn.displayName="Drawer.Content";u.forwardRef(function({preventCycle:e=!1,children:t,...s},n){const{closeDrawer:r,isDragging:a,snapPoints:i,activeSnapPoint:o,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:h,onPress:m,onDrag:p}=Js(),f=u.useRef(null),x=u.useRef(!1);function g(){f.current&&window.clearTimeout(f.current),x.current=!1}return u.createElement("div",{onClick:function(){x.current?g():window.setTimeout(()=>{!function(){if(a||e||x.current)return void g();if(g(),!i||0===i.length)return void(c||r());if(o===i[i.length-1]&&c)return void r();const t=i.findIndex(e=>e===o);if(-1===t)return;const s=i[t+1];l(s)}()},120)},onPointerCancel:g,onPointerDown:e=>{d&&m(e),f.current=window.setTimeout(()=>{x.current=!0},250)},onPointerMove:e=>{d&&p(e)},ref:n,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...s},u.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))}).displayName="Drawer.Handle";const an={Content:rn,Overlay:nn,Portal:function(e){const t=Js(),{container:s=t.container,...n}=e;return u.createElement(k,{container:s,...n})},Title:R,Description:D},on=an.Portal,ln=d.forwardRef(({className:e,...t},s)=>r.jsx(an.Overlay,{ref:s,className:Et("fixed inset-0 z-50 bg-black/80",e),...t}));ln.displayName=an.Overlay.displayName;d.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(on,{children:[r.jsx(ln,{}),r.jsxs(an.Content,{ref:n,className:Et("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...s,children:[r.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})).displayName="DrawerContent";d.forwardRef(({className:e,...t},s)=>r.jsx(an.Title,{ref:s,className:Et("text-lg font-semibold leading-none tracking-tight",e),...t})).displayName=an.Title.displayName;d.forwardRef(({className:e,...t},s)=>r.jsx(an.Description,{ref:s,className:Et("text-sm text-muted-foreground-foreground",e),...t})).displayName=an.Description.displayName;const cn={colors:{cardBg:"rgba(30, 41, 59, 0.5)",inputBg:"rgba(30, 41, 59, 0.8)",border:"rgba(148, 163, 184, 0.2)",textPrimary:"#F1F5F9",textSecondary:"#94A3B8",accent:"#3B82F6",accentFocus:"rgba(59, 130, 246, 0.4)",selected:"rgba(59, 130, 246, 0.2)"},effects:{blur:"blur(12px)",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"}};function dn(e,t){const[s,n]=d.useState(e);return d.useEffect(()=>{const s=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}function un({placeholder:e="Search equipment...",className:t="",showTrending:s=!0,showRecent:n=!0,apiEndpoint:a="/api/search",onSearch:i,onSelect:o,variant:l="navbar"}){const[u,m]=d.useState(""),[p,f]=d.useState(!1),[x,g]=d.useState([]),[v,y]=d.useState(!1),[b,j]=d.useState([]),[w,N]=d.useState(null),S=d.useRef(null),P=d.useRef(null),E=dn(u,300),[,T]=h();d.useEffect(()=>{const e=localStorage.getItem("recentSearches");e&&j(JSON.parse(e).slice(0,5))},[]),d.useEffect(()=>{if("page"===l){const e=new URLSearchParams(window.location.search).get("search");e&&(m(e),i&&i(e))}},[l,i]),d.useEffect(()=>{const e=()=>{if("page"===l){const e=new URLSearchParams(window.location.search).get("search");m(e||""),i&&i(e||"")}};return window.addEventListener("popstate",e),window.addEventListener("pushstate",e),()=>{window.removeEventListener("popstate",e),window.removeEventListener("pushstate",e)}},[l,i]),d.useEffect(()=>{E.length>=2?(y(!0),fetch(`${a}?q=${encodeURIComponent(E)}`).then(e=>e.json()).then(e=>{g(e.results||[]),y(!1)}).catch(()=>{g([]),y(!1)})):g([])},[E,a]),d.useEffect(()=>{if(p&&P.current){const e=P.current.getBoundingClientRect();N({top:e.bottom,left:e.left,width:e.width})}else N(null)},[p]),d.useEffect(()=>{const e=()=>{if(p&&P.current){const e=P.current.getBoundingClientRect();N({top:e.bottom,left:e.left,width:e.width})}};if(p)return e(),window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[p]),d.useEffect(()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&f(!1)};return p&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[p]),d.useEffect(()=>()=>{m(""),g([]),f(!1)},[]);const k=d.useCallback(e=>{if(console.log("handleSearch:",e,"variant:",l),!e?.trim()){if(m(""),g([]),"navbar"===l){"/products"===window.location.pathname&&T("/products")}else"page"===l&&i&&i("");return}const t=[e,...b.filter(t=>t!==e)].slice(0,5);if(j(t),localStorage.setItem("recentSearches",JSON.stringify(t)),m(e),"navbar"===l)T(`/products?search=${encodeURIComponent(e)}`);else if("page"===l){const t=new URL(window.location.href);t.searchParams.set("search",e),window.history.pushState(null,"",t.toString()),i&&i(e)}f(!1),P.current?.blur()},[b,i,T,l]),C=e=>{console.log("ðŸ”¥ TRENDING CLICK TRIGGERED:",e),console.log("Current variant:",l),console.log("Current query state:",u),m(e),setTimeout(()=>{console.log("ðŸš€ EXECUTING SEARCH FOR:",e),k(e)},50)},A={container:"navbar"===l?"relative max-w-md":"relative w-full max-w-2xl mx-auto",input:Et("w-full pl-10 pr-10 py-2.5 rounded-lg","transition-all duration-200","border focus:outline-none focus:ring-2","navbar"===l?"text-sm":"text-base")},R={backgroundColor:cn.colors.inputBg,borderColor:cn.colors.border,color:cn.colors.textPrimary,...p&&{borderColor:cn.colors.accent,boxShadow:`0 0 0 3px ${cn.colors.accentFocus}`}},D={backgroundColor:cn.colors.cardBg,borderColor:cn.colors.border,backdropFilter:cn.effects.blur,boxShadow:cn.effects.shadow};return r.jsxs("div",{className:Et(A.container,t),ref:S,children:[r.jsxs("div",{className:"relative",children:[r.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:cn.colors.textSecondary}}),r.jsx("input",{ref:P,type:"text",value:u,onChange:e=>m(e.target.value),onFocus:()=>{console.log("ðŸŽ¯ SEARCH INPUT FOCUSED - Opening dropdown"),f(!0)},onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),u.trim()&&k(u)):"Escape"===e.key&&(e.preventDefault(),m(""),g([]),f(!1),P.current?.blur())},placeholder:e,className:A.input,style:R}),u&&r.jsx("button",{onClick:()=>{if(console.log("Clear button clicked, variant:",l),m(""),g([]),f(!1),"navbar"===l)window.location.pathname,T("/");else if("page"===l){const e=new URL(window.location.href);e.searchParams.delete("search"),window.history.pushState(null,"",e.pathname),i&&i("")}P.current?.blur()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 hover:opacity-80",style:{color:cn.colors.textSecondary},children:r.jsx(J,{className:"w-4 h-4"})})]}),p&&w&&c.createPortal(r.jsx("div",{className:"rounded-lg shadow-xl search-dropdown-portal",style:{position:"fixed",top:`${w.top}px`,left:`${w.left}px`,width:`${w.width}px`,maxHeight:"384px",overflowY:"auto",overflowX:"hidden",zIndex:999999,transition:"opacity 0.2s ease-in-out",opacity:1,pointerEvents:"auto",...D,scrollbarWidth:"thin",scrollbarColor:`${cn.colors.textSecondary} ${cn.colors.cardBg}`},onWheel:e=>{const t=e.currentTarget,{scrollTop:s,scrollHeight:n,clientHeight:r}=t,a=e.deltaY<0,i=e.deltaY>0;a&&0===s||i&&s+r>=n||e.stopPropagation()},children:v?r.jsxs("div",{className:"flex items-center justify-center p-6",children:[r.jsx(se,{className:"w-6 h-6 animate-spin",style:{color:cn.colors.accent}}),r.jsx("span",{className:"ml-2",style:{color:cn.colors.textSecondary},children:"Searching..."})]}):u.length>=2&&x.length>0?r.jsxs("div",{children:[r.jsx("div",{className:"px-4 py-2 text-xs font-medium uppercase tracking-wider border-b",style:{color:cn.colors.textSecondary,borderColor:cn.colors.border},children:"Search Results"}),x.map(e=>r.jsxs("button",{onClick:()=>(e=>{o?o(e):T(e.url),f(!1)})(e),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-white hover:bg-opacity-5 transition-colors",children:[e.image&&r.jsx("img",{src:e.image,alt:e.title,className:"w-10 h-10 object-cover rounded"}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("div",{style:{color:cn.colors.textPrimary},children:e.title}),e.subtitle&&r.jsx("div",{className:"text-sm",style:{color:cn.colors.textSecondary},children:e.subtitle})]}),e.price&&r.jsx("div",{className:"font-semibold",style:{color:cn.colors.accent},children:e.price})]},e.id))]}):r.jsxs("div",{children:[n&&b.length>0&&!u&&r.jsxs("div",{children:[r.jsxs("div",{className:"px-4 py-2 text-xs font-medium uppercase tracking-wider border-b flex items-center gap-2",style:{color:cn.colors.textSecondary,borderColor:cn.colors.border},children:[r.jsx(ce,{className:"w-3 h-3"}),"Recent Searches"]}),b.map((e,t)=>r.jsx("button",{type:"button",onMouseDown:t=>{console.log("ðŸ” RECENT SEARCH BUTTON MOUSEDOWN:",e),t.preventDefault(),t.stopPropagation(),C(e)},onClick:t=>{console.log("ðŸ” RECENT SEARCH BUTTON CLICKED:",e),t.preventDefault(),t.stopPropagation()},className:"w-full px-4 py-2 text-left hover:bg-white hover:bg-opacity-5 transition-colors cursor-pointer",style:{color:cn.colors.textPrimary,WebkitUserSelect:"none",userSelect:"none"},children:e},t))]}),s&&!u&&r.jsxs("div",{children:[r.jsxs("div",{className:"px-4 py-2 text-xs font-medium uppercase tracking-wider border-b flex items-center gap-2",style:{color:cn.colors.textSecondary,borderColor:cn.colors.border},children:[r.jsx(de,{className:"w-3 h-3"}),"Trending"]}),["Dumbbells","Bench Press","Protein","Yoga Mat"].map((e,t)=>r.jsx("button",{type:"button",onMouseDown:t=>{console.log("â­ TRENDING BUTTON MOUSEDOWN:",e),t.preventDefault(),t.stopPropagation(),C(e)},onClick:t=>{console.log("â­ TRENDING BUTTON CLICKED:",e),t.preventDefault(),t.stopPropagation()},className:"w-full px-4 py-2 text-left hover:bg-white hover:bg-opacity-5 transition-colors cursor-pointer",style:{color:cn.colors.textPrimary,WebkitUserSelect:"none",userSelect:"none"},children:e},t))]}),u.length>0&&u.length<2&&r.jsx("div",{className:"px-4 py-6 text-center",style:{color:cn.colors.textSecondary},children:"Type at least 2 characters to search"}),u.length>=2&&0===x.length&&!v&&r.jsxs("div",{className:"px-4 py-6 text-center",style:{color:cn.colors.textSecondary},children:['No results found for "',u,'"']})]})}),document.body)]})}class hn{static saveState(e,t,s){const n={[e]:{state:t,savedAt:Date.now(),fromPath:s}};sessionStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),sessionStorage.setItem(this.PREVIOUS_PATH_KEY,s)}static getState(e,t){const s=sessionStorage.getItem(this.STORAGE_KEY),n=sessionStorage.getItem(this.PREVIOUS_PATH_KEY);if(!s)return null;try{const r=JSON.parse(s)[e];return r?t&&n!==t||Date.now()-r.savedAt>18e5?(this.clearState(e),null):r.state:null}catch{return null}}static clearState(e){const t=sessionStorage.getItem(this.STORAGE_KEY);if(t)try{const s=JSON.parse(t);delete s[e],sessionStorage.setItem(this.STORAGE_KEY,JSON.stringify(s))}catch{sessionStorage.removeItem(this.STORAGE_KEY)}}static clearAll(){sessionStorage.removeItem(this.STORAGE_KEY),sessionStorage.removeItem(this.PREVIOUS_PATH_KEY)}static isFromProductDetail(){return"/products"===sessionStorage.getItem(this.PREVIOUS_PATH_KEY)}static updatePreviousPath(e){sessionStorage.setItem(this.PREVIOUS_PATH_KEY,e)}}function mn({className:e="",size:t="md",clickable:s=!0,textOnly:n=!1}){const a={sm:{container:"text-lg",logo:"h-12 w-12 logo-glow"},md:{container:"text-2xl",logo:"h-16 w-16 logo-glow"},lg:{container:"text-4xl",logo:"h-32 w-32 logo-glow-large"}},i=a[t],o=()=>n?r.jsx("div",{className:`flex justify-center ${e}`,children:r.jsx("img",{src:"/clean-flip-logo-final.png",alt:"Clean & Flip",className:`${i?.logo||a.lg.logo} brightness-0 invert`,style:{minHeight:"128px",minWidth:"128px"}})}):r.jsxs("div",{className:`flex items-center gap-3 hover:opacity-80 transition-opacity ${e}`,children:[r.jsx("img",{src:"/clean-flip-logo-final.png",alt:"Clean & Flip Logo",className:`${i?.logo||a.md.logo} brightness-0 invert`,style:{minHeight:"lg"===t?"128px":"md"===t?"64px":"48px",minWidth:"lg"===t?"128px":"md"===t?"64px":"48px"}}),r.jsx("span",{className:`font-bebas ${i?.container||a.md.container} text-white tracking-wider`,children:"CLEAN & FLIP"})]});return s?r.jsx(m,{href:Ye,children:r.jsx(o,{})}):r.jsx(o,{})}function pn(){const[e,t]=h(),[s,n]=d.useState(!1),[a,i]=d.useState(!1),[o,l]=d.useState(null),[c,u]=d.useState(!1),[m,p]=d.useState(!1),{cartCount:f}=Vt(),{user:x,logoutMutation:g}=Ut(),v=d.useRef(null);d.useEffect(()=>{u(e===Qe)},[e]),d.useEffect(()=>{const e=e=>{const t=e.target;v.current&&!v.current.contains(t)&&p(!1)};if(m){const t=setTimeout(()=>{document.addEventListener("click",e)},10);return()=>{clearTimeout(t),document.removeEventListener("click",e)}}},[m]);const y=[{name:"Shop",href:He},{name:"Sell",href:tt},{name:"About",href:it},{name:"Contact",href:ot}],b=t=>!(!t||!e)&&(t===Ye&&e===Ye||!(t===Ye||!e.startsWith(t))),j=(s,n)=>{n&&n.preventDefault(),e!==s&&(s&&s!==He&&!s.startsWith("/products/")&&hn.clearState(He),t(s))};return r.jsxs(r.Fragment,{children:[r.jsxs("nav",{className:"fixed top-4 left-4 right-4 z-50 rounded-xl px-6 lg:px-8 py-4 max-w-7xl mx-auto overflow-visible",style:{background:"rgba(35, 41, 55, 0.4)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.08)"},children:[r.jsxs("div",{className:"flex items-center justify-between w-full gap-6",children:[r.jsx("div",{className:"flex items-center flex-shrink-0",children:r.jsx("button",{onClick:e=>j(Ye,e),children:r.jsx(mn,{size:"md"})})}),r.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:y.map(e=>r.jsx("button",{onClick:t=>{t.stopPropagation(),j(e.href,t)},className:"transition-all duration-300 font-medium cursor-pointer px-4 py-2.5 rounded-lg text-base whitespace-nowrap "+(b(e.href)?"text-white bg-blue-500/30 border border-blue-400/50 shadow-md cursor-default":"text-text-secondary hover:text-blue-300 hover:bg-white/5"),disabled:b(e.href),children:e.name},e.name))}),r.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0 min-w-0 overflow-visible",children:[r.jsx("div",{className:"hidden lg:block h-8 w-px bg-white/10"}),r.jsx("div",{className:"hidden lg:block flex-1 max-w-md mx-4",children:r.jsx(un,{placeholder:"Search equipment...",onSearch:e=>{const t=`${He}?search=${encodeURIComponent(e)}`;j(t)},onSelect:e=>{j(e.url)},className:"w-full",variant:"navbar"})}),r.jsx(Kt,{variant:"ghost",size:"icon",className:"lg:hidden w-11 h-11 flex-shrink-0 transition-all duration-200 hover:bg-white/10",style:{background:"rgba(75, 85, 99, 0.4)",border:"1px solid rgba(156, 163, 175, 0.4)",backdropFilter:"blur(8px)",color:"white",fontWeight:"500"},onClick:()=>n(!s),children:r.jsx(le,{size:20})}),x?r.jsxs("div",{className:"relative",ref:v,children:[r.jsxs("button",{onClick:e=>{e.stopPropagation(),p(!m)},className:"flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 focus:outline-none hover:bg-white/20 h-11 min-w-[44px] cursor-pointer",style:{background:"rgba(75, 85, 99, 0.4)",border:"1px solid rgba(156, 163, 175, 0.4)",backdropFilter:"blur(8px)",color:"white",fontWeight:"500",zIndex:10},children:[r.jsx(ue,{className:"w-5 h-5 text-gray-300"}),r.jsx(he,{className:"w-4 h-4 text-gray-400 transition-transform "+(m?"rotate-180":"")})]}),m&&r.jsxs("div",{className:"absolute right-0 mt-2 w-56 \n                                  rounded-xl shadow-2xl \n                                  overflow-hidden z-50",style:{background:"rgba(35, 41, 55, 0.4)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.08)",zIndex:9999},children:[r.jsxs("div",{className:"p-4",style:{background:"rgba(15, 23, 42, 0.3)"},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-600 \n                                        rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold",children:x?.firstName?.[0]?.toUpperCase()||x?.email?.[0]?.toUpperCase()||"U"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:x?.firstName||"User"}),r.jsx("div",{className:"text-gray-400 text-xs capitalize",children:x?.role||"user"})]})]}),"developer"===x?.role&&r.jsx("div",{className:"mt-3",children:r.jsx("span",{className:"inline-block px-2 py-1 \n                                         bg-purple-500/20 text-purple-400 \n                                         text-xs font-medium rounded",children:"Developer Access"})})]}),r.jsxs("div",{className:"py-1",children:[r.jsxs("button",{onClick:()=>{j(Ze),p(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 \n                                  text-gray-300 hover:bg-white/15 hover:text-white\n                                  transition-all duration-200 group text-left",children:[r.jsx(me,{className:"w-4 h-4 text-gray-500 group-hover:text-gray-300"}),r.jsx("span",{className:"text-sm",children:"Dashboard"})]}),r.jsxs("button",{onClick:()=>{j(et),p(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 \n                                  text-gray-300 hover:bg-white/15 hover:text-white\n                                  transition-all duration-200 group text-left",children:[r.jsx(pe,{className:"w-4 h-4 text-gray-500 group-hover:text-gray-300"}),r.jsx("span",{className:"text-sm",children:"Order History"})]}),"developer"===x?.role&&r.jsx(r.Fragment,{children:r.jsxs("button",{onClick:()=>{j(nt),p(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 \n                                      text-purple-400 hover:bg-purple-500/20 hover:text-purple-300\n                                      transition-all duration-200 group text-left",children:[r.jsx(fe,{className:"w-4 h-4 text-purple-500 group-hover:text-purple-400"}),r.jsx("span",{className:"text-sm font-medium",children:"Developer Dashboard"})]})}),r.jsxs("button",{onClick:()=>{g.mutate(),p(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 \n                                  text-red-400 hover:bg-red-500/20 hover:text-red-300\n                                  transition-all duration-200 group text-left",children:[r.jsx(xe,{className:"w-4 h-4 text-red-500 group-hover:text-red-400"}),r.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]}):r.jsxs(Kt,{variant:"primary",size:"sm",onClick:e=>j(Je,e),className:"font-medium px-6 py-2.5 whitespace-nowrap h-11",children:[r.jsx(ge,{className:"mr-2 h-4 w-4"}),"Sign In"]}),r.jsx("div",{className:"relative",children:r.jsxs("button",{onClick:s=>{if(s.preventDefault(),c){const e=sessionStorage.getItem("cartPreviousPath")||o;e&&e!==Qe?(t(e),sessionStorage.removeItem("cartPreviousPath")):t(He)}else e!==Qe&&(l(e),sessionStorage.setItem("cartPreviousPath",e)),t(Qe)},className:"flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 focus:outline-none relative hover:bg-white/10 h-11 min-w-[44px]",style:{background:"rgba(75, 85, 99, 0.4)",border:c?"1px solid #3b82f6":"1px solid rgba(156, 163, 175, 0.4)",backdropFilter:"blur(8px)",color:"white",fontWeight:"500"},children:[c?r.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx(J,{size:14,className:"text-white"})}):r.jsx(ae,{size:22,className:"text-white"}),f>0&&r.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full min-w-[22px] h-[22px] flex items-center justify-center font-semibold px-1",children:f})]})}),r.jsxs(Wt,{open:a,onOpenChange:i,children:[r.jsx(Yt,{asChild:!0,children:r.jsx(Kt,{variant:"outline",size:"icon",className:"lg:hidden w-11 h-11 flex-shrink-0",children:r.jsx(ve,{size:20})})}),r.jsxs(Xt,{side:"right",className:"bg-secondary border-bg-secondary-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx(mn,{}),r.jsx(Kt,{variant:"outline",size:"icon",onClick:()=>i(!1),children:r.jsx(J,{size:20})})]}),r.jsxs("nav",{className:"space-y-4",children:[y.map(e=>r.jsx(Kt,{variant:b(e.href)?"primary":"outline",onClick:()=>{j(e.href),i(!1)},className:"w-full justify-start",disabled:b(e.href),children:e.name},e.name)),r.jsx(Kt,{variant:b("/dashboard")?"primary":"outline",onClick:()=>{j("/dashboard"),i(!1)},className:"w-full justify-start",disabled:b("/dashboard"),children:"Dashboard"})]})]})]})]})]}),s&&r.jsx("div",{className:"lg:hidden mt-4 pt-4 border-t border-bg-secondary-border",children:r.jsx(un,{placeholder:"Search equipment...",onSearch:e=>{const t=`/products?search=${encodeURIComponent(e)}`;j(t),n(!1)},onSelect:e=>{j(e.url),n(!1)},className:"w-full",variant:"page"})})]}),r.jsx("div",{className:"h-28"})]})}function fn(){const e=[{name:"All Equipment",href:He},{name:"Barbells",href:`${He}?category=barbells`},{name:"Plates",href:`${He}?category=plates`},{name:"Racks",href:`${He}?category=racks`},{name:"Dumbbells",href:`${He}?category=dumbbells`},{name:"Accessories",href:`${He}?category=accessories`}],t=[{name:"About Us",href:it},{name:"Sell To Us",href:tt},{name:"Contact",href:ot},{name:"FAQ",href:"/faq"},{name:"Reviews",href:"/reviews"},{name:"Blog",href:"/blog"}];return r.jsx("footer",{className:"footer-dark py-16 px-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bebas text-xl mb-4 text-slate-300",children:"SHOP"}),r.jsx("div",{className:"space-y-2",children:e.map(e=>r.jsx(m,{href:e.href,children:r.jsx("span",{className:"block text-text-secondary hover:text-white transition-colors text-sm cursor-pointer",children:e.name})},e.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bebas text-xl mb-4 text-slate-300",children:"COMPANY"}),r.jsx("div",{className:"space-y-2",children:t.map(e=>r.jsx(m,{href:e.href,children:r.jsx("span",{className:"block text-text-secondary hover:text-white transition-colors text-sm cursor-pointer",children:e.name})},e.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bebas text-xl mb-4 text-slate-300",children:"POLICIES"}),r.jsx("div",{className:"space-y-2",children:[{name:"Terms of Service",href:"/terms"},{name:"Privacy Policy",href:"/privacy"},{name:"Shipping Info",href:"/shipping"},{name:"Returns",href:"/returns"},{name:"Warranty",href:"/warranty"},{name:"Inspection Process",href:"/inspection"}].map(e=>r.jsx(m,{href:e.href,children:r.jsx("span",{className:"block text-text-secondary hover:text-white transition-colors text-sm cursor-pointer",children:e.name})},e.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bebas text-xl mb-4 text-slate-300",children:"CONNECT"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-text-secondary text-sm",children:[r.jsx(ye,{className:"mr-2 flex-shrink-0",size:16}),r.jsx("a",{href:"mailto:support@cleanandflip.com",className:"hover:text-white transition-colors",children:"support@cleanandflip.com"})]}),r.jsxs("div",{className:"flex items-center text-text-secondary text-sm",children:[r.jsx(be,{className:"mr-2 flex-shrink-0",size:16}),r.jsx("a",{href:"tel:+18285550123",className:"hover:text-white transition-colors",children:"(828) 555-0123"})]}),r.jsxs("div",{className:"flex items-center text-text-secondary text-sm",children:[r.jsx(je,{className:"mr-2 flex-shrink-0",size:16}),r.jsx("span",{children:"Asheville, NC"})]}),r.jsxs("div",{className:"flex items-center text-text-secondary text-sm",children:[r.jsx(ce,{className:"mr-2 flex-shrink-0",size:16}),r.jsx("span",{children:"Mon-Fri 9AM-5PM EST"})]})]}),r.jsxs("div",{className:"flex space-x-4 mt-6",children:[r.jsx("a",{href:"#",className:"text-text-muted-foreground hover:text-slate-200 transition-colors","aria-label":"Facebook",children:r.jsx(we,{size:20})}),r.jsx("a",{href:"#",className:"text-text-muted-foreground hover:text-slate-200 transition-colors","aria-label":"Instagram",children:r.jsx(Ne,{size:20})}),r.jsx("a",{href:"#",className:"text-text-muted-foreground hover:text-slate-200 transition-colors","aria-label":"YouTube",children:r.jsx(Se,{size:20})})]})]})]}),r.jsxs("div",{className:"border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center",children:[r.jsx("div",{className:"mb-4 md:mb-0",children:r.jsx(mn,{})}),r.jsx("div",{className:"text-text-muted-foreground text-sm mb-4 md:mb-0",children:r.jsx("p",{children:"Â© 2024 Clean & Flip. All rights reserved."})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"bg-blue-600 text-white px-3 py-1 rounded text-xs font-semibold",children:"VISA"}),r.jsx("div",{className:"bg-red-600 text-white px-3 py-1 rounded text-xs font-semibold",children:"MASTER"}),r.jsx("div",{className:"bg-blue-800 text-white px-3 py-1 rounded text-xs font-semibold",children:"PayPal"})]})]})]})})}function xn({isOpen:e,onClose:t}){const[s,n]=d.useState(!1),{cartItems:a,updateQuantity:i,removeFromCart:o,cartTotal:l,cartCount:c,isLoading:u}=Vt(),h=void 0!==e?e:s,p=e=>{t?e||t():n(e)},f=l,x=f>100?0:25,g=.08*f,v=f+x+g;return r.jsx(Wt,{open:h,onOpenChange:p,children:r.jsx(Xt,{side:"right",className:"bg-card border-bg-card-border w-full sm:w-96 p-0",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs(Jt,{className:"p-6 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Zt,{className:"font-bebas text-xl",children:"SHOPPING CART"}),r.jsx(Kt,{variant:"ghost",size:"icon",onClick:()=>p(!1),className:"hover:bg-white/10",children:r.jsx(J,{size:20})})]}),c>0&&r.jsxs("p",{className:"text-text-secondary text-sm",children:[c," ",1===c?"item":"items"]})]}),r.jsx("div",{className:"flex-1 flex flex-col",children:u?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"animate-pulse space-y-4",children:Array.from({length:3}).map((e,t)=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-bg-card-bg rounded"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-bg-card-bg rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-bg-card-bg rounded w-1/2"})]})]},t))})}):0===a.length?r.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pe,{className:"mx-auto mb-4 text-gray-400",size:48}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-text-secondary text-sm mb-6",children:"Start shopping to add items to your cart."}),r.jsx(m,{href:He,children:r.jsx(Kt,{className:"bg-accent-blue hover:bg-blue-500",onClick:()=>p(!1),children:"Start Shopping"})})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:r.jsx("div",{className:"space-y-4",children:a.map(e=>r.jsx("div",{className:"bg-card rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(m,{href:lt(e.product.id),children:r.jsx("img",{src:e.product.images?.[0]||"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100",alt:e.product.name,className:"w-16 h-16 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>p(!1)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(m,{href:lt(e.product.id),children:r.jsx("h4",{className:"font-medium text-sm hover:text-accent-blue transition-colors cursor-pointer line-clamp-2",onClick:()=>p(!1),children:e.product.name})}),e.product.brand&&r.jsx("p",{className:"text-text-muted text-xs",children:e.product.brand})]}),r.jsx("button",{onClick:()=>o(e.id),className:"text-gray-400 hover:text-red-400 transition-colors p-1 ml-2",children:r.jsx(Ee,{size:14})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center bg-card rounded",children:[r.jsx("button",{onClick:()=>i(e.id,Math.max(0,e.quantity-1)),className:"p-1 hover:bg-white/10 transition-colors",disabled:e.quantity<=1,children:r.jsx(Te,{size:12})}),r.jsx("span",{className:"px-2 py-1 text-sm min-w-[2rem] text-center",children:e.quantity}),r.jsx("button",{onClick:()=>i(e.id,e.quantity+1),className:"p-1 hover:bg-white/10 transition-colors",disabled:!e.product.stockQuantity||e.quantity>=e.product.stockQuantity,children:r.jsx(ke,{size:12})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-sm",children:["$",(Number(e.product.price)*e.quantity).toFixed(2)]}),r.jsxs("div",{className:"text-text-muted text-xs",children:["$",e.product.price," each"]})]})]}),e.product.stockQuantity&&e.product.stockQuantity<=3&&r.jsxs("div",{className:"mt-2 text-red-400 text-xs",children:["Only ",e.product.stockQuantity," left"]})]})]})},e.id))})}),r.jsxs("div",{className:"p-6 border-t border-bg-card-border mt-auto",children:[r.jsx("div",{className:"bg-card rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",f.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsx("span",{children:0===x?r.jsx("span",{className:"text-green-400",children:"Free"}):`$${x.toFixed(2)}`})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",g.toFixed(2)]})]}),r.jsx(_s,{className:"bg-bg-card-border"}),r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["$",v.toFixed(2)]})]})]})}),x>0&&r.jsxs("div",{className:"mb-4 p-3 bg-card rounded-lg text-sm text-text-secondary",children:[r.jsx("p",{children:"Free shipping on orders over $100"}),r.jsxs("p",{className:"text-accent-blue",children:["Add $",(100-f).toFixed(2)," more to qualify"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(m,{href:Qe,children:r.jsx(Kt,{variant:"outline",className:"w-full bg-card border-bg-card-border",onClick:()=>p(!1),children:"View Cart"})}),r.jsx(m,{href:Xe,children:r.jsxs(Kt,{className:"w-full bg-accent-blue hover:bg-blue-500 text-primary",onClick:()=>p(!1),children:["Checkout",r.jsx(Ce,{className:"ml-2",size:16})]})})]}),r.jsx("div",{className:"mt-4 text-center text-xs text-text-muted",children:"ðŸ”’ Secure checkout with SSL encryption"})]})]})})]})})})}function gn(){return r.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(se,{className:"h-12 w-12 animate-spin text-blue-500"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})}s(hn,"STORAGE_KEY","nav-state"),s(hn,"PREVIOUS_PATH_KEY","prev-path");const vn={isReplit:window.location.hostname.includes("repl"),isEmbed:window.parent!==window,isDevelopment:!1,isProduction:!0,disableReplitEmbeds:()=>{if(vn.isReplit||vn.isEmbed){const e=window.__replitHandlers;e&&e.forEach(e=>{window.removeEventListener("beforeunload",e)}),window.onbeforeunload=null,Object.defineProperty(window,"onbeforeunload",{set:function(e){e&&e.toString().includes("replit")||(this._onbeforeunload=e)},get:function(){return this._onbeforeunload}})}}};"undefined"!=typeof window&&vn.disableReplitEmbeds();const yn=d.createContext({});const bn=d.createContext(null),jn=d.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});const wn="undefined"!=typeof window,Nn=wn?d.useLayoutEffect:d.useEffect,Sn=e=>e;let Pn=Sn;function En(e){let t;return()=>(void 0===t&&(t=e()),t)}const Tn=(e,t,s)=>{const n=t-e;return 0===n?1:(s-e)/n},kn=e=>1e3*e,Cn=e=>e/1e3,An=!1;const Rn=["read","resolveKeyframes","update","preRender","render","postRender"];function Dn(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,i=Rn.reduce((e,t)=>(e[t]=function(e){let t=new Set,s=new Set,n=!1,r=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function o(t){a.has(t)&&(l.schedule(t),e()),t(i)}const l={schedule:(e,r=!1,i=!1)=>{const o=i&&n?t:s;return r&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),a.delete(e)},process:e=>{i=e,n?r=!0:(n=!0,[t,s]=[s,t],t.forEach(o),t.clear(),n=!1,r&&(r=!1,l.process(e)))}};return l}(a),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=i,m=()=>{const a=performance.now();s=!1,r.delta=n?1e3/60:Math.max(Math.min(a-r.timestamp,40),1),r.timestamp=a,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),r.isProcessing=!1,s&&t&&(n=!1,e(m))};return{schedule:Rn.reduce((t,a)=>{const o=i[a];return t[a]=(t,a=!1,i=!1)=>(s||(s=!0,n=!0,r.isProcessing||e(m)),o.schedule(t,a,i)),t},{}),cancel:e=>{for(let t=0;t<Rn.length;t++)i[Rn[t]].cancel(e)},state:r,steps:i}}const{schedule:Mn,cancel:Fn,state:Ln,steps:On}=Dn("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Sn,!0),In=d.createContext({strict:!1}),Vn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bn={};for(const Sh in Vn)Bn[Sh]={isEnabled:e=>Vn[Sh].some(t=>!!e[t])};const zn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Un(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zn.has(e)}let $n=e=>!Un(e);try{(_n=require("@emotion/is-prop-valid").default)&&($n=e=>e.startsWith("on")?!Un(e):_n(e))}catch(Nh){}var _n;function qn(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy((...t)=>e(...t),{get:(s,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}const Kn=d.createContext({});function Wn(e){return"string"==typeof e||Array.isArray(e)}function Yn(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const Hn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gn=["initial",...Hn];function Qn(e){return Yn(e.animate)||Gn.some(t=>Wn(e[t]))}function Xn(e){return Boolean(Qn(e)||e.variants)}function Jn(e){const{initial:t,animate:s}=function(e,t){if(Qn(e)){const{initial:t,animate:s}=e;return{initial:!1===t||Wn(t)?t:void 0,animate:Wn(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,d.useContext(Kn));return d.useMemo(()=>({initial:t,animate:s}),[Zn(t),Zn(s)])}function Zn(e){return Array.isArray(e)?e.join(" "):e}const er=Symbol.for("motionComponentSymbol");function tr(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function sr(e,t,s){return d.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&("function"==typeof s?s(n):tr(s)&&(s.current=n))},[t])}const nr=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rr="data-"+nr("framerAppearId"),{schedule:ar}=Dn(queueMicrotask,!1),ir=d.createContext({});function or(e,t,s,n,r){var a,i;const{visualElement:o}=d.useContext(Kn),l=d.useContext(In),c=d.useContext(bn),u=d.useContext(jn).reducedMotion,h=d.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:s,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const m=h.current,p=d.useContext(ir);!m||m.projection||!r||"html"!==m.type&&"svg"!==m.type||function(e,t,s,n){const{layoutId:r,layout:a,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:lr(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:Boolean(i)||o&&tr(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}(h.current,s,r,p);const f=d.useRef(!1);d.useInsertionEffect(()=>{m&&f.current&&m.update(s,c)});const x=s[rr],g=d.useRef(Boolean(x)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,x))&&(null===(i=window.MotionHasOptimisedAnimation)||void 0===i?void 0:i.call(window,x)));return Nn(()=>{m&&(f.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ar.render(m.render),g.current&&m.animationState&&m.animationState.animateChanges())}),d.useEffect(()=>{m&&(!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,x)}),g.current=!1))}),m}function lr(e){if(e)return!1!==e.options.allowProjection?e.projection:lr(e.parent)}function cr({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){var i,o;function l(e,i){let o;const l={...d.useContext(jn),...e,layoutId:dr(e)},{isStatic:c}=l,u=Jn(e),h=n(e,c);if(!c&&wn){d.useContext(In).strict;const e=function(e){const{drag:t,layout:s}=Bn;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==s?void 0:s.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);o=e.MeasureLayout,u.visualElement=or(a,h,l,t,e.ProjectionNode)}return r.jsxs(Kn.Provider,{value:u,children:[o&&u.visualElement?r.jsx(o,{visualElement:u.visualElement,...l}):null,s(a,e,sr(h,u.visualElement,i),h,c,u.visualElement)]})}e&&function(e){for(const t in e)Bn[t]={...Bn[t],...e[t]}}(e),l.displayName=`motion.${"string"==typeof a?a:`create(${null!==(o=null!==(i=a.displayName)&&void 0!==i?i:a.name)&&void 0!==o?o:""})`}`;const c=d.forwardRef(l);return c[er]=a,c}function dr({layoutId:e}){const t=d.useContext(yn).id;return t&&void 0!==e?t+"-"+e:e}const ur=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hr(e){return"string"==typeof e&&!e.includes("-")&&!!(ur.indexOf(e)>-1||/[A-Z]/u.test(e))}function mr(e){const t=[{},{}];return null==e||e.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function pr(e,t,s,n){if("function"==typeof t){const[r,a]=mr(n);t=t(void 0!==s?s:e.custom,r,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[r,a]=mr(n);t=t(void 0!==s?s:e.custom,r,a)}return t}const fr=e=>Array.isArray(e),xr=e=>fr(e)?e[e.length-1]||0:e,gr=e=>Boolean(e&&e.getVelocity);function vr(e){const t=gr(e)?e.get():e;return s=t,Boolean(s&&"object"==typeof s&&s.mix&&s.toValue)?t.toValue():t;var s}const yr=e=>(t,s)=>{const n=d.useContext(Kn),r=d.useContext(bn),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,r,a){const i={latestValues:br(n,r,a,e),renderState:t()};return s&&(i.onMount=e=>s({props:n,current:e,...i}),i.onUpdate=e=>s(e)),i}(e,t,n,r);return s?a():function(e){const t=d.useRef(null);return null===t.current&&(t.current=e()),t.current}(a)};function br(e,t,s,n){const r={},a=n(e,{});for(const h in a)r[h]=vr(a[h]);let{initial:i,animate:o}=e;const l=Qn(e),c=Xn(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!s&&!1===s.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!=typeof u&&!Yn(u)){const t=Array.isArray(u)?u:[u];for(let s=0;s<t.length;s++){const n=pr(e,t[s]);if(n){const{transitionEnd:e,transition:t,...s}=n;for(const n in s){let e=s[n];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[n]=e)}for(const n in e)r[n]=e[n]}}}return r}const jr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wr=new Set(jr),Nr=e=>t=>"string"==typeof t&&t.startsWith(e),Sr=Nr("--"),Pr=Nr("var(--"),Er=e=>!!Pr(e)&&Tr.test(e.split("/*")[0].trim()),Tr=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kr=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Cr=(e,t,s)=>s>t?t:s<e?e:s,Ar={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Rr={...Ar,transform:e=>Cr(0,1,e)},Dr={...Ar,default:1},Mr=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Fr=Mr("deg"),Lr=Mr("%"),Or=Mr("px"),Ir=Mr("vh"),Vr=Mr("vw"),Br={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(100*e)},zr={borderWidth:Or,borderTopWidth:Or,borderRightWidth:Or,borderBottomWidth:Or,borderLeftWidth:Or,borderRadius:Or,radius:Or,borderTopLeftRadius:Or,borderTopRightRadius:Or,borderBottomRightRadius:Or,borderBottomLeftRadius:Or,width:Or,maxWidth:Or,height:Or,maxHeight:Or,top:Or,right:Or,bottom:Or,left:Or,padding:Or,paddingTop:Or,paddingRight:Or,paddingBottom:Or,paddingLeft:Or,margin:Or,marginTop:Or,marginRight:Or,marginBottom:Or,marginLeft:Or,backgroundPositionX:Or,backgroundPositionY:Or},Ur={rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:Dr,scaleX:Dr,scaleY:Dr,scaleZ:Dr,skew:Fr,skewX:Fr,skewY:Fr,distance:Or,translateX:Or,translateY:Or,translateZ:Or,x:Or,y:Or,z:Or,perspective:Or,transformPerspective:Or,opacity:Rr,originX:Br,originY:Br,originZ:Or},$r={...Ar,transform:Math.round},_r={...zr,...Ur,zIndex:$r,size:Or,fillOpacity:Rr,strokeOpacity:Rr,numOctaves:$r},qr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kr=jr.length;function Wr(e,t,s){const{style:n,vars:r,transformOrigin:a}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(wr.has(l))i=!0;else if(Sr(l))r[l]=e;else{const t=kr(e,_r[l]);l.startsWith("origin")?(o=!0,a[l]=t):n[l]=t}}if(t.transform||(i||s?n.transform=function(e,t,s){let n="",r=!0;for(let a=0;a<Kr;a++){const i=jr[a],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||s){const e=kr(o,_r[i]);l||(r=!1,n+=`${qr[i]||i}(${e}) `),s&&(t[i]=e)}}return n=n.trim(),s?n=s(t,r?"":n):r&&(n="none"),n}(t,e.transform,s):n.transform&&(n.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:s=0}=a;n.transformOrigin=`${e} ${t} ${s}`}}const Yr={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hr={offset:"strokeDashoffset",array:"strokeDasharray"};function Gr(e,t,s){return"string"==typeof e?e:Or.transform(t+s*e)}function Qr(e,{attrX:t,attrY:s,attrScale:n,originX:r,originY:a,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},d,u){if(Wr(e,c,u),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:p}=e;h.transform&&(p&&(m.transform=h.transform),delete h.transform),p&&(void 0!==r||void 0!==a||m.transform)&&(m.transformOrigin=function(e,t,s){return`${Gr(t,e.x,e.width)} ${Gr(s,e.y,e.height)}`}(p,void 0!==r?r:.5,void 0!==a?a:.5)),void 0!==t&&(h.x=t),void 0!==s&&(h.y=s),void 0!==n&&(h.scale=n),void 0!==i&&function(e,t,s=1,n=0,r=!0){e.pathLength=1;const a=r?Yr:Hr;e[a.offset]=Or.transform(-n);const i=Or.transform(t),o=Or.transform(s);e[a.array]=`${i} ${o}`}(h,i,o,l,!1)}const Xr=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Jr=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Zr=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ea(e,{style:t,vars:s},n,r){Object.assign(e.style,t,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const ta=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sa(e,t,s,n){ea(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(ta.has(r)?r:nr(r),t.attrs[r])}const na={};function ra(e,{layout:t,layoutId:s}){return wr.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!na[e]||"opacity"===e)}function aa(e,t,s){var n;const{style:r}=e,a={};for(const i in r)(gr(r[i])||t.style&&gr(t.style[i])||ra(i,e)||void 0!==(null===(n=null==s?void 0:s.getValue(i))||void 0===n?void 0:n.liveStyle))&&(a[i]=r[i]);return a}function ia(e,t,s){const n=aa(e,t,s);for(const r in e)if(gr(e[r])||gr(t[r])){n[-1!==jr.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}const oa=["x","y","width","height","cx","cy","r"],la={useVisualState:yr({scrapeMotionValuesFromProps:ia,createRenderState:Jr,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:r})=>{if(!s)return;let a=!!e.drag;if(!a)for(const o in r)if(wr.has(o)){a=!0;break}if(!a)return;let i=!t;if(t)for(let o=0;o<oa.length;o++){const s=oa[o];e[s]!==t[s]&&(i=!0)}i&&Mn.read(()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(s){t.dimensions={x:0,y:0,width:0,height:0}}}(s,n),Mn.render(()=>{Qr(n,r,Zr(s.tagName),e.transformTemplate),sa(s,n)})})}})},ca={useVisualState:yr({scrapeMotionValuesFromProps:aa,createRenderState:Xr})};function da(e,t,s){for(const n in t)gr(t[n])||ra(n,s)||(e[n]=t[n])}function ua(e,t){const s={};return da(s,e.style||{},e),Object.assign(s,function({transformTemplate:e},t){return d.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{}};return Wr(s,t,e),Object.assign({},s.vars,s.style)},[t])}(e,t)),s}function ha(e,t){const s={},n=ua(e,t);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function ma(e,t,s,n){const r=d.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Qr(s,t,Zr(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const t={};da(t,e.style,e),r.style={...t,...r.style}}return r}function pa(e=!1){return(t,s,n,{latestValues:r},a)=>{const i=(hr(t)?ma:ha)(s,r,a,t),o=function(e,t,s){const n={};for(const r in e)"values"===r&&"object"==typeof e.values||($n(r)||!0===s&&Un(r)||!t&&!Un(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}(s,"string"==typeof t,e),l=t!==d.Fragment?{...o,...i,ref:n}:{},{children:c}=s,u=d.useMemo(()=>gr(c)?c.get():c,[c]);return d.createElement(t,{...l,children:u})}}function fa(e,t){return function(s,{forwardMotionProps:n}={forwardMotionProps:!1}){return cr({...hr(s)?la:ca,preloadedFeatures:e,useRender:pa(n),createVisualElement:t,Component:s})}}function xa(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function ga(e,t,s){const n=e.getProps();return pr(n,t,void 0!==s?s:n.custom,e)}const va=En(()=>void 0!==window.ScrollTimeline);class ya{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(s=>va()&&s.attachTimeline?s.attachTimeline(e):"function"==typeof t?t(s):void 0);return()=>{s.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ba extends ya{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function ja(e,t){return e?e[t]||e.default||e:void 0}const wa=2e4;function Na(e){let t=0;let s=e.next(t);for(;!s.done&&t<wa;)t+=50,s=e.next(t);return t>=wa?1/0:t}function Sa(e){return"function"==typeof e}function Pa(e,t){e.timeline=t,e.onfinish=null}const Ea=e=>Array.isArray(e)&&"number"==typeof e[0],Ta={linearEasing:void 0};function ka(e,t){const s=En(e);return()=>{var e;return null!==(e=Ta[t])&&void 0!==e?e:s()}}const Ca=ka(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Aa=(e,t,s=10)=>{let n="";const r=Math.max(Math.round(t/s),2);for(let a=0;a<r;a++)n+=e(Tn(0,r-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ra(e){return Boolean("function"==typeof e&&Ca()||!e||"string"==typeof e&&(e in Ma||Ca())||Ea(e)||Array.isArray(e)&&e.every(Ra))}const Da=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Ma={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Da([0,.65,.55,1]),circOut:Da([.55,0,1,.45]),backIn:Da([.31,.01,.66,-.59]),backOut:Da([.33,1.53,.69,.99])};function Fa(e,t){return e?"function"==typeof e&&Ca()?Aa(e,t):Ea(e)?Da(e):Array.isArray(e)?e.map(e=>Fa(e,t)||Ma.easeOut):Ma[e]:void 0}const La={x:!1,y:!1};function Oa(){return La.x||La.y}function Ia(e,t){const s=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),n=new AbortController;return[s,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function Va(e){return t=>{"touch"===t.pointerType||Oa()||e(t)}}const Ba=(e,t)=>!!t&&(e===t||Ba(e,t.parentElement)),za=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Ua=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const $a=new WeakSet;function _a(e){return t=>{"Enter"===t.key&&e(t)}}function qa(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Ka(e){return za(e)&&!Oa()}function Wa(e,t,s={}){const[n,r,a]=Ia(e,s),i=e=>{const n=e.currentTarget;if(!Ka(e)||$a.has(n))return;$a.add(n);const a=t(e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ka(e)&&$a.has(n)&&($a.delete(n),"function"==typeof a&&a(e,{success:t}))},o=e=>{i(e,s.useGlobalTarget||Ba(n,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return n.forEach(e=>{(function(e){return Ua.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(s.useGlobalTarget?window:e).addEventListener("pointerdown",i,r),e.addEventListener("focus",e=>((e,t)=>{const s=e.currentTarget;if(!s)return;const n=_a(()=>{if($a.has(s))return;qa(s,"down");const e=_a(()=>{qa(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>qa(s,"cancel"),t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)})(e,r),r)}),a}const Ya=new Set(["width","height","top","left","right","bottom",...jr]);let Ha;function Ga(){Ha=void 0}const Qa={now:()=>(void 0===Ha&&Qa.set(Ln.isProcessing||An?Ln.timestamp:performance.now()),Ha),set:e=>{Ha=e,queueMicrotask(Ga)}};function Xa(e,t){-1===e.indexOf(t)&&e.push(t)}function Ja(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Za{constructor(){this.subscriptions=[]}add(e){return Xa(this.subscriptions,e),()=>Ja(this.subscriptions,e)}notify(e,t,s){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,s);else for(let r=0;r<n;r++){const n=this.subscriptions[r];n&&n(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ei(e,t){return t?e*(1e3/t):0}class ti{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const s=Qa.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Qa.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Za);const s=this.events[e].add(t);return"change"===e?()=>{s(),Mn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qa.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ei(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(e,t){return new ti(e,t)}function ni(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,si(s))}function ri(e,t){const s=e.getValue("willChange");if(n=s,Boolean(gr(n)&&n.add))return s.add(t);var n}function ai(e){return e.props[rr]}const ii=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function oi(e,t,s,n){if(e===t&&s===n)return Sn;const r=t=>function(e,t,s,n,r){let a,i,o=0;do{i=t+(s-t)/2,a=ii(i,n,r)-e,a>0?s=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,s);return e=>0===e||1===e?e:ii(r(e),t,n)}const li=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ci=e=>t=>1-e(1-t),di=oi(.33,1.53,.69,.99),ui=ci(di),hi=li(ui),mi=e=>(e*=2)<1?.5*ui(e):.5*(2-Math.pow(2,-10*(e-1))),pi=e=>1-Math.sin(Math.acos(e)),fi=ci(pi),xi=li(pi),gi=e=>/^0[^.\s]+$/u.test(e);function vi(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||gi(e))}const yi=e=>Math.round(1e5*e)/1e5,bi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const ji=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wi=(e,t)=>s=>Boolean("string"==typeof s&&ji.test(s)&&s.startsWith(e)||t&&!function(e){return null==e}(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ni=(e,t,s)=>n=>{if("string"!=typeof n)return n;const[r,a,i,o]=n.match(bi);return{[e]:parseFloat(r),[t]:parseFloat(a),[s]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},Si={...Ar,transform:e=>Math.round((e=>Cr(0,255,e))(e))},Pi={test:wi("rgb","red"),parse:Ni("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Si.transform(e)+", "+Si.transform(t)+", "+Si.transform(s)+", "+yi(Rr.transform(n))+")"};const Ei={test:wi("#"),parse:function(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}},transform:Pi.transform},Ti={test:wi("hsl","hue"),parse:Ni("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Lr.transform(yi(t))+", "+Lr.transform(yi(s))+", "+yi(Rr.transform(n))+")"},ki={test:e=>Pi.test(e)||Ei.test(e)||Ti.test(e),parse:e=>Pi.test(e)?Pi.parse(e):Ti.test(e)?Ti.parse(e):Ei.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Pi.transform(e):Ti.transform(e)},Ci=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ai="number",Ri="color",Di=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mi(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let a=0;const i=t.replace(Di,e=>(ki.test(e)?(n.color.push(a),r.push(Ri),s.push(ki.parse(e))):e.startsWith("var(")?(n.var.push(a),r.push("var"),s.push(e)):(n.number.push(a),r.push(Ai),s.push(parseFloat(e))),++a,"${}")).split("${}");return{values:s,split:i,indexes:n,types:r}}function Fi(e){return Mi(e).values}function Li(e){const{split:t,types:s}=Mi(e),n=t.length;return e=>{let r="";for(let a=0;a<n;a++)if(r+=t[a],void 0!==e[a]){const t=s[a];r+=t===Ai?yi(e[a]):t===Ri?ki.transform(e[a]):e[a]}return r}}const Oi=e=>"number"==typeof e?0:e;const Ii={test:function(e){var t,s;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(bi))||void 0===t?void 0:t.length)||0)+((null===(s=e.match(Ci))||void 0===s?void 0:s.length)||0)>0},parse:Fi,createTransformer:Li,getAnimatableNone:function(e){const t=Fi(e);return Li(e)(t.map(Oi))}},Vi=new Set(["brightness","contrast","saturate","opacity"]);function Bi(e){const[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=s.match(bi)||[];if(!n)return e;const r=s.replace(n,"");let a=Vi.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+r+")"}const zi=/\b([a-z-]*)\(.*?\)/gu,Ui={...Ii,getAnimatableNone:e=>{const t=e.match(zi);return t?t.map(Bi).join(" "):e}},$i={..._r,color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:Ui,WebkitFilter:Ui},_i=e=>$i[e];function qi(e,t){let s=_i(e);return s!==Ui&&(s=Ii),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Ki=new Set(["auto","none","0"]);const Wi=e=>e===Ar||e===Or,Yi=(e,t)=>parseFloat(e.split(", ")[t]),Hi=(e,t)=>(s,{transform:n})=>{if("none"===n||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/u);if(r)return Yi(r[1],t);{const t=n.match(/^matrix\((.+)\)$/u);return t?Yi(t[1],e):0}},Gi=new Set(["x","y","z"]),Qi=jr.filter(e=>!Gi.has(e));const Xi={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Hi(4,13),y:Hi(5,14)};Xi.translateX=Xi.x,Xi.translateY=Xi.y;const Ji=new Set;let Zi=!1,eo=!1;function to(){if(eo){const e=Array.from(Ji).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{const t=function(e){const t=[];return Qi.forEach(s=>{const n=e.getValue(s);void 0!==n&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}(e);t.length&&(s.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=s.get(e);t&&t.forEach(([t,s])=>{var n;null===(n=e.getValue(t))||void 0===n||n.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eo=!1,Zi=!1,Ji.forEach(e=>e.complete()),Ji.clear()}function so(){Ji.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eo=!0)})}class no{constructor(e,t,s,n,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=n,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ji.add(this),Zi||(Zi=!0,Mn.read(so),Mn.resolveKeyframes(to))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:n}=this;for(let r=0;r<e.length;r++)if(null===e[r])if(0===r){const r=null==n?void 0:n.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(s&&t){const n=s.readValue(t,a);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===r&&n.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ji.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ji.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ro=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ao=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function io(e,t,s=1){const[n,r]=function(e){const t=ao.exec(e);if(!t)return[,];const[,s,n,r]=t;return[`--${null!=s?s:n}`,r]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return ro(e)?parseFloat(e):e}return Er(r)?io(r,t,s+1):r}const oo=e=>t=>t.test(e),lo=[Ar,Or,Lr,Fr,Vr,Ir,{test:e=>"auto"===e,parse:e=>e}],co=e=>lo.find(oo(e));class uo extends no{constructor(e,t,s,n,r){super(e,t,s,n,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let s=e[o];if("string"==typeof s&&(s=s.trim(),Er(s))){const n=io(s,t.current);void 0!==n&&(e[o]=n),o===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!Ya.has(s)||2!==e.length)return;const[n,r]=e,a=co(n),i=co(r);if(a!==i)if(Wi(a)&&Wi(i))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let n=0;n<e.length;n++)vi(e[n])&&s.push(n);s.length&&function(e,t,s){let n,r=0;for(;r<e.length&&!n;){const t=e[r];"string"==typeof t&&!Ki.has(t)&&Mi(t).values.length&&(n=e[r]),r++}if(n&&s)for(const a of t)e[a]=qi(s,n)}(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(s,n).jump(n,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Xi[s](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,s])=>{t.getValue(e).set(s)}),this.resolveNoneKeyframes()}}const ho=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Ii.test(e)&&"0"!==e||e.startsWith("url(")));const mo=e=>null!==e;function po(e,{repeat:t,repeatType:s="loop"},n){const r=e.filter(mo),a=t&&"loop"!==s&&t%2==1?0:r.length-1;return a&&void 0!==n?n:r[a]}class fo{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:a="loop",...i}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qa.now(),this.options={autoplay:e,delay:t,type:s,repeat:n,repeatDelay:r,repeatType:a,...i},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(so(),to()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Qa.now(),this.hasAttemptedResolve=!0;const{name:s,type:n,velocity:r,delay:a,onComplete:i,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,s,n){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=ho(r,t),o=ho(a,t);return!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||Sa(s))&&n)}(e,s,n,r)){if(!a)return o&&o(po(e,this.options,t)),i&&i(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xo=(e,t,s)=>e+(t-e)*s;function go(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function vo(e,t){return s=>s>0?t:e}const yo=(e,t,s)=>{const n=e*e,r=s*(t*t-n)+n;return r<0?0:Math.sqrt(r)},bo=[Ei,Pi,Ti];function jo(e){const t=(s=e,bo.find(e=>e.test(s)));var s;if(!Boolean(t))return!1;let n=t.parse(e);return t===Ti&&(n=function({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,s/=100;let r=0,a=0,i=0;if(t/=100){const n=s<.5?s*(1+t):s+t-s*t,o=2*s-n;r=go(o,n,e+1/3),a=go(o,n,e),i=go(o,n,e-1/3)}else r=a=i=s;return{red:Math.round(255*r),green:Math.round(255*a),blue:Math.round(255*i),alpha:n}}(n)),n}const wo=(e,t)=>{const s=jo(e),n=jo(t);if(!s||!n)return vo(e,t);const r={...s};return e=>(r.red=yo(s.red,n.red,e),r.green=yo(s.green,n.green,e),r.blue=yo(s.blue,n.blue,e),r.alpha=xo(s.alpha,n.alpha,e),Pi.transform(r))},No=(e,t)=>s=>t(e(s)),So=(...e)=>e.reduce(No),Po=new Set(["none","hidden"]);function Eo(e,t){return s=>xo(e,t,s)}function To(e){return"number"==typeof e?Eo:"string"==typeof e?Er(e)?vo:ki.test(e)?wo:Ao:Array.isArray(e)?ko:"object"==typeof e?ki.test(e)?wo:Co:vo}function ko(e,t){const s=[...e],n=s.length,r=e.map((e,s)=>To(e)(e,t[s]));return e=>{for(let t=0;t<n;t++)s[t]=r[t](e);return s}}function Co(e,t){const s={...e,...t},n={};for(const r in s)void 0!==e[r]&&void 0!==t[r]&&(n[r]=To(e[r])(e[r],t[r]));return e=>{for(const t in n)s[t]=n[t](e);return s}}const Ao=(e,t)=>{const s=Ii.createTransformer(t),n=Mi(e),r=Mi(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Po.has(e)&&!r.values.length||Po.has(t)&&!n.values.length?function(e,t){return Po.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}(e,t):So(ko(function(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=null!==(s=e.values[o])&&void 0!==s?s:0;n[a]=l,r[i]++}return n}(n,r),r.values),s):vo(e,t)};function Ro(e,t,s){if("number"==typeof e&&"number"==typeof t&&"number"==typeof s)return xo(e,t,s);return To(e)(e,t)}function Do(e,t,s){const n=Math.max(t-5,0);return ei(s-e(n),t-n)}const Mo=100,Fo=10,Lo=1,Oo=0,Io=800,Vo=.3,Bo=.3,zo={granular:.01,default:2},Uo={granular:.005,default:.5},$o=.01,_o=10,qo=.05,Ko=1,Wo=.001;function Yo({duration:e=Io,bounce:t=Vo,velocity:s=Oo,mass:n=Lo}){let r,a,i=1-t;i=Cr(qo,Ko,i),e=Cr($o,_o,Cn(e)),i<1?(r=t=>{const n=t*i,r=n*e,a=n-s,o=Go(t,i),l=Math.exp(-r);return Wo-a/o*l},a=t=>{const n=t*i*e,a=n*s+s,o=Math.pow(i,2)*Math.pow(t,2)*e,l=Math.exp(-n),c=Go(Math.pow(t,2),i);return(-r(t)+Wo>0?-1:1)*((a-o)*l)/c}):(r=t=>Math.exp(-t*e)*((t-s)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(s-t)));const o=function(e,t,s){let n=s;for(let r=1;r<Ho;r++)n-=e(n)/t(n);return n}(r,a,5/e);if(e=kn(e),isNaN(o))return{stiffness:Mo,damping:Fo,duration:e};{const t=Math.pow(o,2)*n;return{stiffness:t,damping:2*i*Math.sqrt(n*t),duration:e}}}const Ho=12;function Go(e,t){return e*Math.sqrt(1-t*t)}const Qo=["duration","bounce"],Xo=["stiffness","damping","mass"];function Jo(e,t){return t.some(t=>void 0!==e[t])}function Zo(e=Bo,t=Vo){const s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=s;const a=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:Oo,stiffness:Mo,damping:Fo,mass:Lo,isResolvedFromDuration:!1,...e};if(!Jo(e,Xo)&&Jo(e,Qo))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(1.2*s),r=n*n,a=2*Cr(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Lo,stiffness:r,damping:a}}else{const s=Yo(e);t={...t,...s,mass:Lo},t.isResolvedFromDuration=!0}return t}({...s,velocity:-Cn(s.velocity||0)}),p=h||0,f=c/(2*Math.sqrt(l*d)),x=i-a,g=Cn(Math.sqrt(l/d)),v=Math.abs(x)<5;let y;if(n||(n=v?zo.granular:zo.default),r||(r=v?Uo.granular:Uo.default),f<1){const e=Go(g,f);y=t=>{const s=Math.exp(-f*g*t);return i-s*((p+f*g*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}}else if(1===f)y=e=>i-Math.exp(-g*e)*(x+(p+g*x)*e);else{const e=g*Math.sqrt(f*f-1);y=t=>{const s=Math.exp(-f*g*t),n=Math.min(e*t,300);return i-s*((p+f*g*x)*Math.sinh(n)+e*x*Math.cosh(n))/e}}const b={calculatedDuration:m&&u||null,next:e=>{const t=y(e);if(m)o.done=e>=u;else{let s=0;f<1&&(s=0===e?kn(p):Do(y,e,t));const a=Math.abs(s)<=n,l=Math.abs(i-t)<=r;o.done=a&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(Na(b),wa),t=Aa(t=>b.next(e*t).value,e,30);return e+"ms "+t}};return b}function el({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},m=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=s*t;const f=u+p,x=void 0===i?f:i(f);x!==f&&(p=x-u);const g=e=>-p*Math.exp(-e/n),v=e=>x+g(e),y=e=>{const t=g(e),s=v(e);h.done=Math.abs(t)<=c,h.value=h.done?x:s};let b,j;const w=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(b=e,j=Zo({keyframes:[h.value,m(h.value)],velocity:Do(v,e,h.value),damping:r,stiffness:a,restDelta:c,restSpeed:d}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==b||(t=!0,y(e),w(e)),void 0!==b&&e>=b?j.next(e-b):(!t&&y(e),h)}}}const tl=oi(.42,0,1,1),sl=oi(0,0,.58,1),nl=oi(.42,0,.58,1),rl={linear:Sn,easeIn:tl,easeInOut:nl,easeOut:sl,circIn:pi,circInOut:xi,circOut:fi,backIn:ui,backInOut:hi,backOut:di,anticipate:mi},al=e=>{if(Ea(e)){Pn(4===e.length);const[t,s,n,r]=e;return oi(t,s,n,r)}return"string"==typeof e?rl[e]:e};function il(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const a=e.length;if(Pn(a===t.length),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,s){const n=[],r=s||Ro,a=e.length-1;for(let i=0;i<a;i++){let s=r(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Sn:t;s=So(e,s)}n.push(s)}return n}(t,n,r),l=o.length,c=s=>{if(i&&s<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(s<e[n+1]);n++);const r=Tn(e[n],e[n+1],s);return o[n](r)};return s?t=>c(Cr(e[0],e[a-1],t)):c}function ol(e){const t=[0];return function(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=Tn(0,t,n);e.push(xo(s,1,r))}}(t,e.length-1),t}function ll({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=(e=>Array.isArray(e)&&"number"!=typeof e[0])(n)?n.map(al):al(n),a={done:!1,value:t[0]},i=function(e,t){return e.map(e=>e*t)}(s&&s.length===t.length?s:ol(t),e),o=il(i,t,{ease:Array.isArray(r)?r:(l=t,c=r,l.map(()=>c||nl).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}const cl=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Mn.update(t,!0),stop:()=>Fn(t),now:()=>Ln.isProcessing?Ln.timestamp:Qa.now()}},dl={decay:el,inertia:el,tween:ll,keyframes:ll,spring:Zo},ul=e=>e/100;class hl extends fo{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:s,element:n,keyframes:r}=this.options,a=(null==n?void 0:n.KeyframeResolver)||no;this.resolver=new a(r,(e,t)=>this.onKeyframesResolved(e,t),t,s,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:r,velocity:a=0}=this.options,i=Sa(t)?t:dl[t]||ll;let o,l;i!==ll&&"number"!=typeof e[0]&&(o=So(ul,Ro(e[0],e[1])),e=[0,100]);const c=i({...this.options,keyframes:e});"mirror"===r&&(l=i({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===c.calculatedDuration&&(c.calculatedDuration=Na(c));const{calculatedDuration:d}=c,u=d+n;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:u,totalDuration:u*(s+1)-n}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:n,generator:r,mirroredGenerator:a,mapPercentToKeyframes:i,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=s;if(null===this.startTime)return r.next(0);const{delay:u,repeat:h,repeatType:m,repeatDelay:p,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-u*(this.speed>=0?1:-1),g=this.speed>=0?x<0:x>c;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,y=r;if(h){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===m?(s=1-s,p&&(s-=p/d)):"mirror"===m&&(y=a)),v=Cr(0,1,s)*d}const b=g?{done:!1,value:o[0]}:y.next(v);i&&(b.value=i(b.value));let{done:j}=b;g||null===l||(j=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&void 0!==n&&(b.value=po(o,this.options,n)),f&&f(b.value),w&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Cn(e.calculatedDuration):0}get time(){return Cn(this.currentTime)}set time(e){e=kn(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=cl,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=n):this.startTime=null!=s?s:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ml=new Set(["opacity","clipPath","filter","transform"]);function pl(e,t,s,{delay:n=0,duration:r=300,repeat:a=0,repeatType:i="loop",ease:o="easeInOut",times:l}={}){const c={[t]:s};l&&(c.offset=l);const d=Fa(o,r);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"})}const fl=En(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const xl={anticipate:mi,backInOut:hi,circInOut:xi};class gl extends fo{constructor(e){super(e);const{name:t,motionValue:s,element:n,keyframes:r}=this.options;this.resolver=new uo(r,(e,t)=>this.onKeyframesResolved(e,t),t,s,n),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:n,ease:r,type:a,motionValue:i,name:o,startTime:l}=this.options;if(!i.owner||!i.owner.current)return!1;var c;if("string"==typeof r&&Ca()&&r in xl&&(r=xl[r]),Sa((c=this.options).type)||"spring"===c.type||!Ra(c.ease)){const{onComplete:t,onUpdate:i,motionValue:o,element:l,...c}=this.options,d=function(e,t){const s=new hl({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const r=[];let a=0;for(;!n.done&&a<2e4;)n=s.sample(a),r.push(n.value),a+=10;return{times:void 0,keyframes:r,duration:a-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),s=d.duration,n=d.times,r=d.ease,a="keyframes"}const d=pl(i.owner.current,o,e,{...this.options,duration:s,times:n,ease:r});return d.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(Pa(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:s}=this.options;i.set(po(e,this.options,t)),s&&s(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:n,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Cn(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Cn(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=kn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Sn;const{animation:s}=t;Pa(s,e)}else this.pendingTimeline=e;return Sn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:n,type:r,ease:a,times:i}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,d=new hl({...c,keyframes:s,duration:n,type:r,ease:a,times:i,isGenerator:!0}),u=kn(this.time);e.setWithVelocity(d.sample(u-10).value,d.sample(u).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:n,repeatType:r,damping:a,type:i}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return fl()&&s&&ml.has(s)&&!o&&!l&&!n&&"mirror"!==r&&0!==a&&"inertia"!==i}}const vl={type:"spring",stiffness:500,damping:25,restSpeed:10},yl={type:"keyframes",duration:.8},bl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jl=(e,{keyframes:t})=>t.length>2?yl:wr.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:vl:bl;const wl=(e,t,s,n={},r,a)=>i=>{const o=ja(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c-=kn(l);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:r};(function({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:a,repeatType:i,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||(d={...d,...jl(e,d)}),d.duration&&(d.duration=kn(d.duration)),d.repeatDelay&&(d.repeatDelay=kn(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),u&&!a&&void 0!==t.get()){const e=po(d.keyframes,o);if(void 0!==e)return Mn.update(()=>{d.onUpdate(e),d.onComplete()}),new ba([])}return!a&&gl.supports(d)?new gl(d):new hl(d)};function Nl({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,n}function Sl(e,t,{delay:s=0,transitionOverride:n,type:r}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const u in l){const t=e.getValue(u,null!==(a=e.latestValues[u])&&void 0!==a?a:null),n=l[u];if(void 0===n||d&&Nl(d,u))continue;const r={delay:s,...ja(i||{},u)};let o=!1;if(window.MotionHandoffAnimation){const t=ai(e);if(t){const e=window.MotionHandoffAnimation(t,u,Mn);null!==e&&(r.startTime=e,o=!0)}}ri(e,u),t.start(wl(u,t,n,e.shouldReduceMotion&&Ya.has(u)?{type:!1}:r,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then(()=>{Mn.update(()=>{o&&function(e,t){const s=ga(e,t);let{transitionEnd:n={},transition:r={},...a}=s||{};a={...a,...n};for(const i in a)ni(e,i,xr(a[i]))}(e,o)})}),c}function Pl(e,t,s={}){var n;const r=ga(e,t,"exit"===s.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const i=r?()=>Promise.all(Sl(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(n=0)=>{const{delayChildren:r=0,staggerChildren:i,staggerDirection:o}=a;return function(e,t,s=0,n=0,r=1,a){const i=[],o=(e.variantChildren.size-1)*n,l=1===r?(e=0)=>e*n:(e=0)=>o-e*n;return Array.from(e.variantChildren).sort(El).forEach((e,n)=>{e.notify("AnimationStart",t),i.push(Pl(e,t,{...a,delay:s+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(i)}(e,t,r+n,i,o,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[i,o]:[o,i];return e().then(()=>t())}return Promise.all([i(),o(s.delay)])}function El(e,t){return e.sortNodePosition(t)}const Tl=Gn.length;function kl(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&kl(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let s=0;s<Tl;s++){const n=Gn[s],r=e.props[n];(Wn(r)||!1===r)&&(t[n]=r)}return t}const Cl=[...Hn].reverse(),Al=Hn.length;function Rl(e){return t=>Promise.all(t.map(({animation:t,options:s})=>function(e,t,s={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>Pl(e,t,s));n=Promise.all(r)}else if("string"==typeof t)n=Pl(e,t,s);else{const r="function"==typeof t?ga(e,t,s.custom):t;n=Promise.all(Sl(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,t,s)))}function Dl(e){let t=Rl(e),s=Ll(),n=!0;const r=t=>(s,n)=>{var r;const a=ga(e,n,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(a){const{transition:e,transitionEnd:t,...n}=a;s={...s,...n,...t}}return s};function a(a){const{props:i}=e,o=kl(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Al;t++){const h=Cl[t],m=s[h],p=void 0!==i[h]?i[h]:o[h],f=Wn(p),x=h===a?m.isActive:null;!1===x&&(u=t);let g=p===o[h]&&p!==i[h]&&f;if(g&&n&&e.manuallyAnimateOnMount&&(g=!1),m.protectedKeys={...d},!m.isActive&&null===x||!p&&!m.prevProp||Yn(p)||"boolean"==typeof p)continue;const v=Ml(m.prevProp,p);let y=v||h===a&&m.isActive&&!g&&f||t>u&&f,b=!1;const j=Array.isArray(p)?p:[p];let w=j.reduce(r(h),{});!1===x&&(w={});const{prevResolvedValues:N={}}=m,S={...N,...w},P=t=>{y=!0,c.has(t)&&(b=!0,c.delete(t)),m.needsAnimating[t]=!0;const s=e.getValue(t);s&&(s.liveStyle=!1)};for(const e in S){const t=w[e],s=N[e];if(d.hasOwnProperty(e))continue;let n=!1;n=fr(t)&&fr(s)?!xa(t,s):t!==s,n?null!=t?P(e):c.add(e):void 0!==t&&c.has(e)?P(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=w,m.isActive&&(d={...d,...w}),n&&e.blockInitialAnimation&&(y=!1);y&&(!(g&&v)||b)&&l.push(...j.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};c.forEach(s=>{const n=e.getBaseTarget(s),r=e.getValue(s);r&&(r.liveStyle=!0),t[s]=null!=n?n:null}),l.push({animation:t})}let h=Boolean(l.length);return!n||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(h=!1),n=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){var r;if(s[t].isActive===n)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach(e=>{var s;return null===(s=e.animationState)||void 0===s?void 0:s.setActive(t,n)}),s[t].isActive=n;const i=a(t);for(const e in s)s[e].protectedKeys={};return i},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=Ll(),n=!0}}}function Ml(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!xa(t,e)}function Fl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ll(){return{animate:Fl(!0),whileInView:Fl(),whileHover:Fl(),whileTap:Fl(),whileDrag:Fl(),whileFocus:Fl(),exit:Fl()}}class Ol{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Il=0;const Vl={animation:{Feature:class extends Ol{constructor(e){super(e),e.animationState||(e.animationState=Dl(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Ol{constructor(){super(...arguments),this.id=Il++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Bl(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function zl(e){return{point:{x:e.pageX,y:e.pageY}}}function Ul(e,t,s,n){return Bl(e,t,(e=>t=>za(t)&&e(t,zl(t)))(s),n)}const $l=(e,t)=>Math.abs(e-t);class _l{constructor(e,t,{transformPagePoint:s,contextWindow:n,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Wl(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,s=function(e,t){const s=$l(e.x,t.x),n=$l(e.y,t.y);return Math.sqrt(s**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!s)return;const{point:n}=e,{timestamp:r}=Ln;this.history.push({...n,timestamp:r});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ql(t,this.transformPagePoint),Mn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:s,onSessionEnd:n,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Wl("pointercancel"===e.type?this.lastMoveEventInfo:ql(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,a),n&&n(e,a)},!za(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.contextWindow=n||window;const a=ql(zl(e),this.transformPagePoint),{point:i}=a,{timestamp:o}=Ln;this.history=[{...i,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Wl(a,this.history)),this.removeListeners=So(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fn(this.updatePoint)}}function ql(e,t){return t?{point:t(e.point)}:e}function Kl(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wl({point:e},t){return{point:e,delta:Kl(e,Hl(t)),offset:Kl(e,Yl(t)),velocity:Gl(t,.1)}}function Yl(e){return e[0]}function Hl(e){return e[e.length-1]}function Gl(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=Hl(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>kn(t)));)s--;if(!n)return{x:0,y:0};const a=Cn(r.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(r.x-n.x)/a,y:(r.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ql(e){return e.max-e.min}function Xl(e,t,s,n=.5){e.origin=n,e.originPoint=xo(t.min,t.max,e.origin),e.scale=Ql(s)/Ql(t),e.translate=xo(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Jl(e,t,s,n){Xl(e.x,t.x,s.x,n?n.originX:void 0),Xl(e.y,t.y,s.y,n?n.originY:void 0)}function Zl(e,t,s){e.min=s.min+t.min,e.max=e.min+Ql(t)}function ec(e,t,s){e.min=t.min-s.min,e.max=e.min+Ql(t)}function tc(e,t,s){ec(e.x,t.x,s.x),ec(e.y,t.y,s.y)}function sc(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function nc(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}const rc=.35;function ac(e,t,s){return{min:ic(e,t),max:ic(e,s)}}function ic(e,t){return"number"==typeof e?e:e[t]||0}const oc=()=>({x:{min:0,max:0},y:{min:0,max:0}});function lc(e){return[e("x"),e("y")]}function cc({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function dc(e){return void 0===e||1===e}function uc({scale:e,scaleX:t,scaleY:s}){return!dc(e)||!dc(t)||!dc(s)}function hc(e){return uc(e)||mc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mc(e){return pc(e.x)||pc(e.y)}function pc(e){return e&&"0%"!==e}function fc(e,t,s){return s+t*(e-s)}function xc(e,t,s,n,r){return void 0!==r&&(e=fc(e,r,n)),fc(e,s,n)+t}function gc(e,t=0,s=1,n,r){e.min=xc(e.min,t,s,n,r),e.max=xc(e.max,t,s,n,r)}function vc(e,{x:t,y:s}){gc(e.x,t.translate,t.scale,t.originPoint),gc(e.y,s.translate,s.scale,s.originPoint)}const yc=.999999999999,bc=1.0000000000001;function jc(e,t){e.min=e.min+t,e.max=e.max+t}function wc(e,t,s,n,r=.5){gc(e,t,s,xo(e.min,e.max,r),n)}function Nc(e,t){wc(e.x,t.x,t.scaleX,t.scale,t.originX),wc(e.y,t.y,t.scaleY,t.scale,t.originY)}function Sc(e,t){return cc(function(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const Pc=({current:e})=>e?e.ownerDocument.defaultView:null,Ec=new WeakMap;class Tc{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new _l(e,{onSessionStart:e=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zl(e).point)},onStart:(e,t)=>{const{drag:s,dragPropagation:n,onDragStart:r}=this.getProps();if(s&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=s)||"y"===a?La[a]?null:(La[a]=!0,()=>{La[a]=!1}):La.x||La.y?null:(La.x=La.y=!0,()=>{La.x=La.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lc(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Lr.test(t)){const{projection:s}=this.visualElement;if(s&&s.layout){const n=s.layout.layoutBox[e];if(n){t=Ql(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&Mn.postRender(()=>r(e,t)),ri(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:s,dragDirectionLock:n,onDirectionLock:r,onDrag:a}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let s=null;Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x");return s}(i),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>lc(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:Pc(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:r}=this.getProps();r&&Mn.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:n}=this.getProps();if(!s||!kc(e,n,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:s},n){return void 0!==t&&e<t?e=n?xo(t,e,n.min):Math.max(e,t):void 0!==s&&e>s&&(e=n?xo(s,e,n.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&tr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,{top:t,left:s,bottom:n,right:r}){return{x:sc(e.x,s,r),y:sc(e.y,t,n)}}(n.layoutBox,t),this.elastic=function(e=rc){return!1===e?e=0:!0===e&&(e=rc),{x:ac(e,"left","right"),y:ac(e,"top","bottom")}}(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&lc(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const s={};return void 0!==t.min&&(s.min=t.min-e.min),void 0!==t.max&&(s.max=t.max-e.min),s}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!tr(e))return!1;const s=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const r=function(e,t,s){const n=Sc(e,s),{scroll:r}=t;return r&&(jc(n.x,r.offset.x),jc(n.y,r.offset.y)),n}(s,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:nc(e.x,t.x),y:nc(e.y,t.y)}}(n.layout.layoutBox,r);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=cc(e))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:n,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=lc(i=>{if(!kc(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u={type:"inertia",velocity:s?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return ri(this.visualElement,e),s.start(wl(e,s,0,t,this.visualElement,!1))}stopAnimation(){lc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lc(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),n=s[t];return n||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){lc(t=>{const{drag:s}=this.getProps();if(!kc(t,s,this.currentDirection))return;const{projection:n}=this.visualElement,r=this.getAxisMotionValue(t);if(n&&n.layout){const{min:s,max:a}=n.layout.layoutBox[t];r.set(e[t]-xo(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!tr(t)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};lc(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const s=t.get();n[e]=function(e,t){let s=.5;const n=Ql(e),r=Ql(t);return r>n?s=Tn(t.min,t.max-n,e.min):n>r&&(s=Tn(e.min,e.max-r,t.min)),Cr(0,1,s)}({min:s,max:s},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),lc(t=>{if(!kc(t,e,null))return;const s=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];s.set(xo(r,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;Ec.set(this.visualElement,this);const e=Ul(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:s=!0}=this.getProps();t&&s&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();tr(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,n=s.addEventListener("measure",t);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Mn.read(t);const r=Bl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(lc(t=>{const s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:r=!1,dragElastic:a=rc,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:n,dragConstraints:r,dragElastic:a,dragMomentum:i}}}function kc(e,t,s){return!(!0!==t&&t!==e||null!==s&&s!==e)}const Cc=e=>(t,s)=>{e&&Mn.postRender(()=>e(t,s))};const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dc={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Or.test(e))return e;e=parseFloat(e)}return`${Rc(e,t.target.x)}% ${Rc(e,t.target.y)}%`}},Mc={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=Ii.parse(e);if(r.length>5)return n;const a=Ii.createTransformer(e),i="number"!=typeof r[0]?1:0,o=s.x.scale*t.x,l=s.y.scale*t.y;r[0+i]/=o,r[1+i]/=l;const c=xo(o,l,.5);return"number"==typeof r[2+i]&&(r[2+i]/=c),"number"==typeof r[3+i]&&(r[3+i]/=c),a(r)}};class Fc extends d.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:n}=this.props,{projection:r}=e;var a;a=Oc,Object.assign(na,a),r&&(t.group&&t.group.add(r),s&&s.register&&n&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:n,isPresent:r}=this.props,a=s.projection;return a?(a.isPresent=r,n||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Mn.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ar.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lc(e){const[t,s]=function(e=!0){const t=d.useContext(bn);if(null===t)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=t,a=d.useId();d.useEffect(()=>{e&&r(a)},[e]);const i=d.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,i]:[!0]}(),n=d.useContext(yn);return r.jsx(Fc,{...e,layoutGroup:n,switchLayoutGroup:d.useContext(ir),isPresent:t,safeToRemove:s})}const Oc={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:Mc};const Ic=(e,t)=>e.depth-t.depth;class Vc{constructor(){this.children=[],this.isDirty=!1}add(e){Xa(this.children,e),this.isDirty=!0}remove(e){Ja(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ic),this.isDirty=!1,this.children.forEach(e)}}const Bc=["TopLeft","TopRight","BottomLeft","BottomRight"],zc=Bc.length,Uc=e=>"string"==typeof e?parseFloat(e):e,$c=e=>"number"==typeof e||Or.test(e);function _c(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const qc=Wc(0,.5,fi),Kc=Wc(.5,.95,Sn);function Wc(e,t,s){return n=>n<e?0:n>t?1:s(Tn(e,t,n))}function Yc(e,t){e.min=t.min,e.max=t.max}function Hc(e,t){Yc(e.x,t.x),Yc(e.y,t.y)}function Gc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qc(e,t,s,n,r){return e=fc(e-=t,1/s,n),void 0!==r&&(e=fc(e,1/r,n)),e}function Xc(e,t,[s,n,r],a,i){!function(e,t=0,s=1,n=.5,r,a=e,i=e){Lr.test(t)&&(t=parseFloat(t),t=xo(i.min,i.max,t/100)-i.min);if("number"!=typeof t)return;let o=xo(a.min,a.max,n);e===a&&(o-=t),e.min=Qc(e.min,t,s,o,r),e.max=Qc(e.max,t,s,o,r)}(e,t[s],t[n],t[r],t.scale,a,i)}const Jc=["x","scaleX","originX"],Zc=["y","scaleY","originY"];function ed(e,t,s,n){Xc(e.x,t,Jc,s?s.x:void 0,n?n.x:void 0),Xc(e.y,t,Zc,s?s.y:void 0,n?n.y:void 0)}function td(e){return 0===e.translate&&1===e.scale}function sd(e){return td(e.x)&&td(e.y)}function nd(e,t){return e.min===t.min&&e.max===t.max}function rd(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ad(e,t){return rd(e.x,t.x)&&rd(e.y,t.y)}function id(e){return Ql(e.x)/Ql(e.y)}function od(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ld{constructor(){this.members=[]}add(e){Xa(this.members,e),e.scheduleRender()}remove(e){if(Ja(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let s;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){s=e;break}}return!!s&&(this.promote(s),!0)}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const cd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},dd="undefined"!=typeof window&&void 0!==window.MotionDebug,ud=["","X","Y","Z"],hd={visibility:"hidden"};let md=0;function pd(e,t,s,n){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function fd(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=ai(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Mn,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&fd(n)}function xd({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(e={},s=(null==t?void 0:t())){this.id=md++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dd&&(cd.totalNodes=cd.resolvedTargetDeltas=cd.recalculatedProjection=0),this.nodes.forEach(yd),this.nodes.forEach(Ed),this.nodes.forEach(Td),this.nodes.forEach(bd),dd&&window.MotionDebug.record(cd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vc)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Za),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,s=this.root.hasTreeAnimated){if(this.instance)return;var n;this.isSVG=(n=t)instanceof SVGElement&&"svg"!==n.tagName,this.instance=t;const{layoutId:r,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(a||r)&&(this.isLayoutDirty=!0),e){let s;const n=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,s&&s(),s=function(e,t){const s=Qa.now(),n=({timestamp:r})=>{const a=r-s;a>=t&&(Fn(n),e(a-t))};return Mn.read(n,!0),()=>Fn(n)}(n,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(Pd))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:s,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const r=this.options.transition||i.getDefaultTransition()||Md,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!ad(this.targetLayout,n)||s,c=!t&&s;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...ja(r,"layout"),onPlay:a,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||Pd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kd),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(wd);this.isUpdating||this.nodes.forEach(Nd),this.isUpdating=!1,this.nodes.forEach(Sd),this.nodes.forEach(gd),this.nodes.forEach(vd),this.clearAllSnapshots();const e=Qa.now();Ln.delta=Cr(0,1e3/60,e-Ln.timestamp),Ln.timestamp=e,Ln.isProcessing=!0,On.update.process(Ln),On.preRender.process(Ln),On.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ar.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jd),this.sharedNodes.forEach(Cd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){this.path[s].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!sd(this.projectionDelta),s=this.getTransformTemplate(),n=s?s(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&(t||hc(this.latestValues)||a)&&(r(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let s=this.removeElementScroll(t);var n;return e&&(s=this.removeTransform(s)),Od((n=s).x),Od(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const s=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Vd))){const{scroll:e}=this.root;e&&(jc(s.x,e.offset.x),jc(s.y,e.offset.y))}return s}removeElementScroll(e){var t;const s={x:{min:0,max:0},y:{min:0,max:0}};if(Hc(s,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return s;for(let n=0;n<this.path.length;n++){const t=this.path[n],{scroll:r,options:a}=t;t!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&Hc(s,e),jc(s.x,r.offset.x),jc(s.y,r.offset.y))}return s}applyTransform(e,t=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};Hc(s,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Nc(s,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),hc(e.latestValues)&&Nc(s,e.latestValues)}return hc(this.latestValues)&&Nc(s,this.latestValues),s}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Hc(t,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];if(!e.instance)continue;if(!hc(e.latestValues))continue;uc(e.latestValues)&&e.updateSnapshot();const n=oc();Hc(n,e.measurePageBox()),ed(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return hc(this.latestValues)&&ed(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==s;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(this.layout&&(r||a)){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tc(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,Zl(i.x,o.x,l.x),Zl(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Hc(this.target,this.layout.layoutBox),vc(this.target,this.targetDelta)):Hc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tc(this.relativeTargetOrigin,this.target,e.target),Hc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}dd&&cd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!uc(this.parent.latestValues)&&!mc(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),s=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(n=!1),n)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;Hc(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,s,n=!1){const r=s.length;if(!r)return;let a,i;t.x=t.y=1;for(let o=0;o<r;o++){a=s[o],i=a.projectionDelta;const{visualElement:r}=a.options;r&&r.props.style&&"contents"===r.props.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Nc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,vc(e,i)),n&&hc(a.latestValues)&&Nc(e,a.latestValues))}t.x<bc&&t.x>yc&&(t.x=1),t.y<bc&&t.y>yc&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,s),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Gc(this.prevProjectionDelta.x,this.projectionDelta.x),Gc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Jl(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===o&&od(this.projectionDelta.x,this.prevProjectionDelta.x)&&od(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),dd&&cd.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const s=this.snapshot,n=s?s.latestValues:{},r={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Dd));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const s=t/1e3;var l,h,m,p,f,x;Ad(a.x,e.x,s),Ad(a.y,e.y,s),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tc(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,f=i,x=s,Rd(m.x,p.x,f.x,x),Rd(m.y,p.y,f.y,x),u&&(l=this.relativeTarget,h=u,nd(l.x,h.x)&&nd(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Hc(u,this.relativeTarget)),o&&(this.animationValues=r,function(e,t,s,n,r,a){r?(e.opacity=xo(0,void 0!==s.opacity?s.opacity:1,qc(n)),e.opacityExit=xo(void 0!==t.opacity?t.opacity:1,0,Kc(n))):a&&(e.opacity=xo(void 0!==t.opacity?t.opacity:1,void 0!==s.opacity?s.opacity:1,n));for(let i=0;i<zc;i++){const r=`border${Bc[i]}Radius`;let a=_c(t,r),o=_c(s,r);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||$c(a)===$c(o)?(e[r]=Math.max(xo(Uc(a),Uc(o),n),0),(Lr.test(o)||Lr.test(a))&&(e[r]+="%")):e[r]=o)}(t.rotate||s.rotate)&&(e.rotate=xo(t.rotate||0,s.rotate||0,n))}(r,n,this.latestValues,s,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mn.update(()=>{Ac.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,s){const n=gr(e)?e:si(e);return n.start(wl("",n,t,s)),n.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:s,layout:n,latestValues:r}=e;if(t&&s&&n){if(this!==e&&this.layout&&n&&Id(this.options.animationType,this.layout.layoutBox,n.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ql(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;const n=Ql(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+n}Hc(t,s),Nc(t,r),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ld);this.sharedNodes.get(e).add(t);const s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){const n=this.getStack();n&&n.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;const n={};s.z&&pd("z",e,n,this.animationValues);for(let r=0;r<ud.length;r++)pd(`rotate${ud[r]}`,e,n,this.animationValues),pd(`skew${ud[r]}`,e,n,this.animationValues);e.render();for(const r in n)e.setStaticValue(r,n[r]),this.animationValues&&(this.animationValues[r]=n[r]);e.scheduleRender()}getProjectionStyles(e){var t,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hd;const n={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=vr(null==e?void 0:e.pointerEvents)||"",n.transform=r?r(this.latestValues,""):"none",n;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=vr(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!hc(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}const i=a.animationValues||a.latestValues;this.applyTransformsToTarget(),n.transform=function(e,t,s){let n="";const r=e.x.translate/t.x,a=e.y.translate/t.y,i=(null==s?void 0:s.z)||0;if((r||a||i)&&(n=`translate3d(${r}px, ${a}px, ${i}px) `),1===t.x&&1===t.y||(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:i,skewY:o}=s;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),r&&(n+=`rotateX(${r}deg) `),a&&(n+=`rotateY(${a}deg) `),i&&(n+=`skewX(${i}deg) `),o&&(n+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(n+=`scale(${o}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),r&&(n.transform=r(i,n.transform));const{x:o,y:l}=this.projectionDelta;n.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,a.animationValues?n.opacity=a===this?null!==(s=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==s?s:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:n.opacity=a===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in na){if(void 0===i[c])continue;const{correct:e,applyTo:t}=na[c],s="none"===n.transform?i[c]:e(i[c],a);if(t){const e=t.length;for(let r=0;r<e;r++)n[t[r]]=s}else n[c]=s}return this.options.layoutId&&(n.pointerEvents=a===this?vr(null==e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(wd),this.root.sharedNodes.clear()}}}function gd(e){e.updateLayout()}function vd(e){var t;const s=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:r}=e.options,a=s.source!==e.layout.source;"size"===r?lc(e=>{const n=a?s.measuredBox[e]:s.layoutBox[e],r=Ql(n);n.min=t[e].min,n.max=n.min+r}):Id(r,s.layoutBox,t)&&lc(n=>{const r=a?s.measuredBox[n]:s.layoutBox[n],i=Ql(t[n]);r.max=r.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Jl(i,t,s.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Jl(o,e.applyTransform(n,!0),s.measuredBox):Jl(o,t,s.layoutBox);const l=!sd(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:r,layout:a}=n;if(r&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};tc(i,s.layoutBox,r.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};tc(o,t,a.layoutBox),ad(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:s,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function yd(e){dd&&cd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bd(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jd(e){e.clearSnapshot()}function wd(e){e.clearMeasurements()}function Nd(e){e.isLayoutDirty=!1}function Sd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Pd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ed(e){e.resolveTargetDelta()}function Td(e){e.calcProjection()}function kd(e){e.resetSkewAndRotation()}function Cd(e){e.removeLeadSnapshot()}function Ad(e,t,s){e.translate=xo(t.translate,0,s),e.scale=xo(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Rd(e,t,s,n){e.min=xo(t.min,s.min,n),e.max=xo(t.max,s.max,n)}function Dd(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Md={duration:.45,ease:[.4,0,.1,1]},Fd=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ld=Fd("applewebkit/")&&!Fd("chrome/")?Math.round:Sn;function Od(e){e.min=Ld(e.min),e.max=Ld(e.max)}function Id(e,t,s){return"position"===e||"preserve-aspect"===e&&(n=id(t),r=id(s),a=.2,!(Math.abs(n-r)<=a));var n,r,a}function Vd(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Bd=xd({attachResizeListener:(e,t)=>Bl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zd={current:void 0},Ud=xd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zd.current){const e=new Bd({});e.mount(window),e.setOptions({layoutScroll:!0}),zd.current=e}return zd.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),$d={pan:{Feature:class extends Ol{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new _l(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:Cc(e),onStart:Cc(t),onMove:s,onEnd:(e,t)=>{delete this.session,n&&Mn.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ol{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new Tc(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ud,MeasureLayout:Lc}};function _d(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===s);const r=n["onHover"+s];r&&Mn.postRender(()=>r(t,zl(t)))}function qd(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===s);const r=n["onTap"+("End"===s?"":s)];r&&Mn.postRender(()=>r(t,zl(t)))}const Kd=new WeakMap,Wd=new WeakMap,Yd=e=>{const t=Kd.get(e.target);t&&t(e)},Hd=e=>{e.forEach(Yd)};function Gd(e,t,s){const n=function({root:e,...t}){const s=e||document;Wd.has(s)||Wd.set(s,{});const n=Wd.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(Hd,{root:e,...t})),n[r]}(t);return Kd.set(e,s),n.observe(e),()=>{Kd.delete(e),n.unobserve(e)}}const Qd={some:0,all:1};const Xd={inView:{Feature:class extends Ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:n="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:"number"==typeof n?n:Qd[n]};return Gd(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:s,onViewportLeave:n}=this.node.getProps(),a=t?s:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ol{mount(){const{current:e}=this.node;e&&(this.unmount=Wa(e,e=>(qd(this.node,e,"Start"),(e,{success:t})=>qd(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=So(Bl(this.node.current,"focus",()=>this.onFocus()),Bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Ol{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){const[n,r,a]=Ia(e,s),i=Va(e=>{const{target:s}=e,n=t(e);if("function"!=typeof n||!s)return;const a=Va(e=>{n(e),s.removeEventListener("pointerleave",a)});s.addEventListener("pointerleave",a,r)});return n.forEach(e=>{e.addEventListener("pointerenter",i,r)}),a}(e,e=>(_d(this.node,e,"Start"),e=>_d(this.node,e,"End"))))}unmount(){}}}},Jd={layout:{ProjectionNode:Ud,MeasureLayout:Lc}},Zd={current:null},eu={current:!1};const tu=[...lo,ki,Ii],su=new WeakMap;const nu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ru{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:r,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=no,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Qa.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Mn.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:c}=a;this.onUpdate=c,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.blockInitialAnimation=Boolean(r),this.isControllingVariants=Qn(t),this.isVariantNode=Xn(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in u){const e=u[h];void 0!==o[h]&&gr(e)&&e.set(o[h],!1)}}mount(e){this.current=e,su.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),eu.current||function(){if(eu.current=!0,wn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zd.current=e.matches;e.addListener(t),t()}else Zd.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Zd.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){su.delete(this.current),this.projection&&this.projection.unmount(),Fn(this.notifyUpdate),Fn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=wr.has(e),n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Mn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Bn){const t=Bn[e];if(!t)continue;const{isEnabled:s,Feature:n}=t;if(!this.features[e]&&n&&s(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<nu.length;s++){const t=nu[s];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,s){for(const n in t){const r=t[n],a=s[n];if(gr(r))e.addValue(n,r);else if(gr(a))e.addValue(n,si(r,{owner:e}));else if(a!==r)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(n);e.addValue(n,si(void 0!==t?t:r,{owner:e}))}}for(const n in s)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=si(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let n=void 0===this.latestValues[e]&&this.current?null!==(s=this.getBaseTargetFromProps(this.props,e))&&void 0!==s?s:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(ro(n)||gi(n))?n=parseFloat(n):(r=n,!tu.find(oo(r))&&Ii.test(t)&&(n=qi(e,t))),this.setBaseTarget(e,gr(n)?n.get():n)),gr(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let n;if("string"==typeof s||"object"==typeof s){const r=pr(this.props,s,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);r&&(n=r[e])}if(s&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||gr(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Za),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class au extends ru{constructor(){super(...arguments),this.KeyframeResolver=uo}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class iu extends au{constructor(){super(...arguments),this.type="html",this.renderInstance=ea}readValueFromInstance(e,t){if(wr.has(t)){const e=_i(t);return e&&e.default||0}{const n=(s=e,window.getComputedStyle(s)),r=(Sr(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}var s}measureInstanceViewportBox(e,{transformPagePoint:t}){return Sc(e,t)}build(e,t,s){Wr(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return aa(e,t,s)}}class ou extends au{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oc}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wr.has(t)){const e=_i(t);return e&&e.default||0}return t=ta.has(t)?t:nr(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return ia(e,t,s)}build(e,t,s){Qr(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,n){sa(e,t,0,n)}mount(e){this.isSVGTag=Zr(e.tagName),super.mount(e)}}const lu=qn(fa({...Vl,...Xd,...$d,...Jd},(e,t)=>hr(e)?new ou(t):new iu(t,{allowProjection:e!==d.Fragment}))),cu={card:{base:"\n      bg-[#232937] backdrop-blur-sm\n      border border-[rgba(255,255,255,0.08)]\n      rounded-lg\n      transition-all duration-300\n    ",interactive:"\n      hover:bg-[#2D3548]\n      hover:border-[rgba(255,255,255,0.12)]\n      hover:shadow-xl hover:shadow-black/20\n      cursor-pointer\n    ",glow:"\n      hover:shadow-[0_0_30px_rgba(59,130,246,0.15)]\n    "},input:{base:"\n      w-full px-4 py-2\n      bg-[#1A1F2E] text-white\n      border border-[rgba(255,255,255,0.08)]\n      rounded-lg\n      transition-all duration-200\n      placeholder:text-[#64748B]\n      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n    ",variants:{default:"\n        hover:border-[rgba(255,255,255,0.12)]\n      ",error:"\n        border-red-500 focus:ring-red-500 focus:border-red-500\n      ",success:"\n        border-green-500 focus:ring-green-500 focus:border-green-500\n      "}}},du=({variant:e="primary",size:t="md",className:s,children:n,...a})=>{const i=Et("btn",`btn-${e}`,`btn-${t}`,s);return r.jsx(lu.button,{className:i,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1},...a,children:n})},uu=({interactive:e=!1,glow:t=!1,className:s,children:n,...a})=>{const i=Et(cu.card.base,e&&cu.card.interactive,t&&cu.card.glow,"card-hover",s);return r.jsx(lu.div,{className:i,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:e?{y:-4}:void 0,...a,children:n})},hu=({variant:e="default",label:t,error:s,className:n,...a})=>{const i=Et(cu.input.base,cu.input.variants[e],s&&cu.input.variants.error,n);return r.jsxs("div",{className:"space-y-1",children:[t&&r.jsx("label",{className:"block text-sm font-medium",style:{color:qs.colors.text.secondary},children:t}),r.jsx(lu.input,{className:i,whileFocus:{scale:1.01},transition:{duration:.1},...a}),s&&r.jsx(lu.p,{className:"text-sm",style:{color:qs.colors.status.error},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s})]})};function mu({href:e,children:t,className:s,onClick:n,preserveState:a=!1}){return r.jsx(m,{href:e,className:s,onClick:()=>{if(!e)return;const t=window.location.pathname;a&&e.startsWith("/products/")?t===He&&hn.updatePreviousPath(t):(e.startsWith("/products")||hn.clearState(He),hn.updatePreviousPath(t)),n&&n()},children:t})}function pu({product:e,viewMode:t="grid",compact:s=!1}){const n=e.images?.[0],a="string"==typeof n?n:n?.url,i=a&&a.length>0;return s?r.jsx(mu,{href:lt(e.id),preserveState:!0,children:r.jsxs(rs,{className:"overflow-hidden bg-card-hover cursor-pointer",children:[i?r.jsx("img",{src:a,alt:e.name,className:"w-full h-32 object-cover"}):r.jsx("div",{className:"w-full h-32 bg-bg-card-bg flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-text-muted",children:[r.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“¦"}),r.jsx("div",{className:"text-xs",children:"No Image"})]})}),r.jsxs("div",{className:"p-3",children:[r.jsx("h4",{className:"font-semibold text-sm line-clamp-2 mb-1",children:e.name}),r.jsxs("p",{className:"text-accent-blue font-bold text-sm",children:["$",e.price]})]})]})}):"list"===t?r.jsx(rs,{className:"p-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx(mu,{href:lt(e.id),preserveState:!0,children:r.jsx("div",{className:"w-32 h-32 flex-shrink-0 overflow-hidden rounded-lg cursor-pointer group",children:i?r.jsx("img",{src:a,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):r.jsx("div",{className:"w-full h-full bg-bg-card-bg flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-text-muted",children:[r.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“¦"}),r.jsx("div",{className:"text-xs",children:"No Image"})]})})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(mu,{href:lt(e.id),preserveState:!0,children:r.jsx("h3",{className:"font-semibold text-lg hover:text-accent-blue transition-colors cursor-pointer line-clamp-2",children:e.name})}),r.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.brand&&r.jsx(ds,{variant:"outline",className:"bg-card border-bg-card-border text-xs",children:e.brand}),r.jsx(ds,{variant:"outline",className:"bg-card border-bg-card-border text-xs",children:e.condition.replace("_"," ").toUpperCase()}),r.jsx(ns,{stock:e.stockQuantity,size:"small"})]}),e.description&&r.jsx("p",{className:"text-text-secondary text-sm mt-2 line-clamp-2",children:e.description})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsx(ss,{price:e.price,size:"large",className:"mb-2"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(ts,{productId:e.id,stock:e.stockQuantity,size:"sm",className:""})})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-xs text-text-muted",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ae,{size:12}),r.jsxs("span",{children:[e.views||0," views"]})]}),e.weight&&r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("span",{children:[e.weight," lbs"]})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ce,{size:12}),r.jsxs("span",{children:["Listed ",new Date(e.createdAt).toLocaleDateString()]})]})]})]})]})}):r.jsxs("div",{className:"group relative bg-gray-800/30 rounded-lg overflow-hidden hover:shadow-xl hover:scale-[1.02] transition-all duration-300 animate-fade-in",children:[1===e.stockQuantity&&r.jsx("div",{className:"absolute top-3 left-3 z-20 animate-bounce-subtle",children:r.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-medium",children:"Only 1 left"})}),r.jsx(mu,{href:lt(e.id),preserveState:!0,children:r.jsxs("div",{className:"cursor-pointer",children:[r.jsxs("div",{className:"aspect-square relative bg-gray-900/30 group-hover:bg-gray-900/40 transition-colors overflow-hidden",children:[i?r.jsx("img",{src:a,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 ease-out"}):r.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-gray-900/50",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2 group-hover:animate-bounce-subtle",children:"ðŸ“¦"}),r.jsx("div",{className:"text-xs font-medium",children:"No Image"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),r.jsxs("div",{className:"p-4 pb-2",children:[r.jsx("h3",{className:"font-medium text-white mb-1 line-clamp-1 group-hover:text-slate-100 transition-colors duration-200",children:e.name}),e.brand&&r.jsx("p",{className:"text-gray-400 text-sm mb-3 group-hover:text-gray-300 transition-colors",children:e.brand}),r.jsxs("p",{className:"text-2xl font-bold text-white mb-4 group-hover:text-slate-100 transition-colors",children:["$",e.price]})]})]})}),r.jsx("div",{className:"px-4 pb-4",onClick:e=>e.stopPropagation(),children:r.jsx(ts,{productId:e.id,stock:e.stockQuantity,size:"sm",className:"w-full"})})]})}function fu(){const{data:e=[],isLoading:t}=i({queryKey:["/api/categories","active"],queryFn:async()=>{const e=await fetch("/api/categories?active=true");if(!e.ok)throw new Error("Failed to fetch categories");return e.json()},staleTime:0,refetchInterval:3e4});if(t)return r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:6}).map((e,t)=>r.jsx("div",{className:"aspect-square glass rounded-lg animate-pulse",children:r.jsx("div",{className:"w-full h-full bg-white/10 rounded-lg"})},t))});if(!e.length)return r.jsxs(uu,{className:"p-12 text-center",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:qs.colors.text.primary},children:"No Categories Available"}),r.jsx("p",{style:{color:qs.colors.text.secondary},children:"Categories will appear here once they are added by administrators."})]});const s=e=>{const t=new URLSearchParams;t.set("category",e.slug);const s=e.filterConfig||{};return s.brand?.length&&t.set("brand",Array.isArray(s.brand)?s.brand.join(","):s.brand),s.condition?.length&&t.set("condition",Array.isArray(s.condition)?s.condition.join(","):s.condition),void 0!==s.priceMin&&t.set("priceMin",s.priceMin.toString()),void 0!==s.priceMax&&t.set("priceMax",s.priceMax.toString()),s.tags?.length&&t.set("tags",Array.isArray(s.tags)?s.tags.join(","):s.tags),`/products?${t.toString()}`};return r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(e=>r.jsx(m,{href:s(e),className:"group relative overflow-hidden rounded-lg glass hover:scale-105 transition-transform duration-200",children:r.jsxs("div",{className:"aspect-square relative",children:[e.imageUrl?r.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-accent-blue/20 to-purple-500/20 flex items-center justify-center",children:r.jsx("span",{className:"text-4xl font-bebas text-white/80",children:e.name.charAt(0)})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[r.jsx("h3",{className:"text-white font-semibold text-lg font-bebas tracking-wide",children:e.name.toUpperCase()}),r.jsxs("p",{className:"text-white/80 text-sm",children:[e.productCount," ",1===e.productCount?"item":"items"]})]})]})},e.id))})}function xu(){const e=d.useRef(null),[t,s]=d.useState("connecting"),[n,r]=d.useState(0),a=d.useRef(),i=d.useRef([]),[o,l]=d.useState(null),c=d.useCallback(()=>{if(e.current?.readyState===WebSocket.OPEN)return;s("connecting"),console.log("ðŸ”„ Connecting to WebSocket...");const t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}/ws`;try{e.current=new WebSocket(t),e.current.onopen=()=>{s("connected"),r(0),console.log("âœ… WebSocket connected");const t=localStorage.getItem("user");if(t)try{const s=JSON.parse(t);s?.id&&e.current?.send(JSON.stringify({type:"auth",userId:s.id,role:s.role}))}catch(n){console.error("Failed to parse user data:",n)}for(;i.current.length>0;){const t=i.current.shift();t&&e.current?.send(JSON.stringify(t))}},e.current.onmessage=e=>{try{const t=JSON.parse(e.data);l(t),u(t)}catch(t){console.error("WebSocket message parse error:",t)}},e.current.onclose=e=>{s("disconnected"),console.log("âŒ WebSocket disconnected:",e.code,e.reason);const t=Math.min(1e3*Math.pow(2,n),3e4);r(e=>e+1),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{n<5&&(console.log(`Reconnecting... (attempt ${n+1})`),c())},t)},e.current.onerror=e=>{s("error"),console.error("WebSocket error:",e)}}catch(o){s("error"),console.error("WebSocket connection failed:",o)}},[]),u=d.useCallback(e=>{switch(console.log("ðŸ“¨ WebSocket message:",e),e.type){case"connection":break;case"product_update":window.dispatchEvent(new CustomEvent("refresh_products",{detail:e}));break;case"category_update":window.dispatchEvent(new CustomEvent("refresh_categories",{detail:e}));break;case"user_update":window.dispatchEvent(new CustomEvent("refresh_users",{detail:e}));break;case"submission_update":window.dispatchEvent(new CustomEvent("refresh_submissions",{detail:e}));break;case"wishlist_update":window.dispatchEvent(new CustomEvent("refresh_wishlist",{detail:e}));break;case"order_update":window.dispatchEvent(new CustomEvent("refresh_orders",{detail:e}));break;case"stripe_sync_complete":window.dispatchEvent(new CustomEvent("refresh_stripe",{detail:e}));break;default:console.log("Unknown message type:",e.type)}},[]),h=d.useCallback(s=>{const n={...s,timestamp:(new Date).toISOString()};e.current?.readyState===WebSocket.OPEN?e.current.send(JSON.stringify(n)):(i.current.push(n),"disconnected"===t&&c())},[t]);return d.useEffect(()=>(c(),()=>{console.log("ðŸ§¹ Cleaning up WebSocket"),a.current&&clearTimeout(a.current),e.current&&(e.current.close(),e.current=null)}),[]),{send:h,sendMessage:h,status:t,isConnected:"connected"===t,reconnectAttempts:n,lastMessage:o}}function gu(){const e=a(),{lastMessage:t,isConnected:s}=xu(),{data:n,refetch:o}=i({queryKey:["/api/products/featured"],refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0,gcTime:0,refetchInterval:3e4});return d.useEffect(()=>{"product_update"===t?.type&&(console.log("ðŸ”„ Product update received, refreshing featured products..."),o(),e.invalidateQueries({queryKey:["/api/products"]}))},[t,o,e]),d.useEffect(()=>{const t=()=>{console.log("ðŸ”„ Legacy product update event, refreshing..."),o()},s=()=>{console.log("ðŸ”„ Refresh products event, invalidating cache..."),o(),e.invalidateQueries({queryKey:["/api/products"]})};return ut.addEventListener("productUpdated",t),window.addEventListener("productUpdated",t),window.addEventListener("refresh_products",s),window.addEventListener("storageChanged",t),()=>{ut.removeEventListener("productUpdated",t),window.removeEventListener("productUpdated",t),window.removeEventListener("refresh_products",s),window.removeEventListener("storageChanged",t)}},[o,e]),r.jsxs(lu.div,{className:"min-h-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[r.jsx("section",{className:"min-h-screen flex items-center justify-center pt-20 pb-12 px-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[r.jsxs(lu.div,{className:"mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[r.jsxs("h1",{className:"font-bebas text-6xl md:text-8xl mb-6 tracking-wider leading-tight",children:[r.jsx("span",{style:{color:qs.colors.text.primary},children:"THE WEIGHTLIFTING"}),r.jsx("br",{}),r.jsx("span",{style:{color:qs.colors.brand.blue},children:"EQUIPMENT EXCHANGE"})]}),r.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto mb-12",style:{color:qs.colors.text.secondary},children:"Turn your unused gear into cash. Buy quality equipment you can trust."})]}),r.jsxs(lu.div,{className:"grid md:grid-cols-2 gap-8 mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[r.jsxs(uu,{interactive:!0,glow:!0,className:"p-10 text-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(Re,{className:"mb-6 mx-auto",size:64,style:{color:qs.colors.brand.green}}),r.jsx("h2",{className:"font-bebas text-4xl mb-3",style:{color:qs.colors.text.primary},children:"SELLING?"}),r.jsx("p",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Cash for your equipment"})]}),r.jsx(m,{href:"/sell-to-us",children:r.jsx(du,{variant:"success",size:"lg",className:"w-full text-lg",children:"Get Cash Offer"})})]}),r.jsxs(uu,{interactive:!0,glow:!0,className:"p-10 text-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(De,{className:"mb-6 mx-auto",size:64,style:{color:qs.colors.brand.blue}}),r.jsx("h2",{className:"font-bebas text-4xl mb-3",style:{color:qs.colors.text.primary},children:"BUYING?"}),r.jsx("p",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Verified quality gear"})]}),r.jsx(m,{href:"/products",children:r.jsx(du,{variant:"primary",size:"lg",className:"w-full text-lg",children:"Shop Equipment"})})]})]}),r.jsxs(lu.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[r.jsxs(uu,{className:"flex flex-col items-center p-4",children:[r.jsx(de,{className:"mb-2",size:24,style:{color:qs.colors.brand.blue}}),r.jsx("span",{className:"font-bold text-lg",style:{color:qs.colors.text.primary},children:"452"}),r.jsx("span",{className:"text-sm",style:{color:qs.colors.text.muted},children:"Transactions"})]}),r.jsxs(uu,{className:"flex flex-col items-center p-4",children:[r.jsx(Me,{className:"mb-2",size:24,style:{color:qs.colors.brand.blue}}),r.jsx("span",{className:"font-bold text-lg",style:{color:qs.colors.text.primary},children:"Asheville"}),r.jsx("span",{className:"text-sm",style:{color:qs.colors.text.muted},children:"Local"})]}),r.jsxs(uu,{className:"flex flex-col items-center p-4",children:[r.jsx(ce,{className:"mb-2",size:24,style:{color:qs.colors.brand.blue}}),r.jsx("span",{className:"font-bold text-lg",style:{color:qs.colors.text.primary},children:"Same Day"}),r.jsx("span",{className:"text-sm",style:{color:qs.colors.text.muted},children:"Cash"})]}),r.jsxs(uu,{className:"flex flex-col items-center p-4",children:[r.jsx(oe,{className:"mb-2",size:24,style:{color:qs.colors.brand.green}}),r.jsx("span",{className:"font-bold text-lg",style:{color:qs.colors.text.primary},children:"Inspected"}),r.jsx("span",{className:"text-sm",style:{color:qs.colors.text.muted},children:"Every Item"})]})]})]})}),r.jsx("section",{className:"min-h-screen flex items-center py-12 px-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsxs(lu.div,{className:"space-y-12",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[r.jsx("h2",{className:"font-bebas text-5xl mb-12 tracking-wider",style:{color:qs.colors.text.primary},children:"SIMPLE PROCESS"}),r.jsxs(uu,{className:"p-8",children:[r.jsx("h3",{className:"font-bebas text-3xl mb-8 tracking-wider",style:{color:qs.colors.brand.green},children:"SELL YOUR EQUIPMENT"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:qs.colors.brand.green,color:qs.colors.text.primary},children:"1"}),r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Submit photos online"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:qs.colors.brand.green,color:qs.colors.text.primary},children:"2"}),r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Get cash offer in 48hrs"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:qs.colors.brand.green,color:qs.colors.text.primary},children:"3"}),r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"We pick up & pay cash"})]})]}),r.jsx(m,{href:"/sell-to-us",children:r.jsx(du,{variant:"success",size:"lg",className:"w-full mt-8",children:"Start Selling â†’"})})]}),r.jsxs(uu,{className:"p-8",children:[r.jsx("h3",{className:"font-bebas text-3xl mb-8 tracking-wider",style:{color:qs.colors.brand.blue},children:"BUY QUALITY GEAR"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:qs.colors.brand.blue,color:qs.colors.text.primary},children:"1"}),r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Browse verified equipment"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:qs.colors.brand.blue,color:qs.colors.text.primary},children:"2"}),r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Secure checkout"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",style:{backgroundColor:qs.colors.brand.blue,color:qs.colors.text.primary},children:"3"}),r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Fast delivery or pickup"})]})]}),r.jsx(m,{href:"/products",children:r.jsx(du,{variant:"primary",size:"lg",className:"w-full mt-8",children:"Start Shopping â†’"})})]})]}),r.jsxs(lu.div,{className:"space-y-8",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:[r.jsx("h3",{className:"font-bebas text-4xl tracking-wider",style:{color:qs.colors.text.primary},children:"LATEST ACTIVITY"}),r.jsx(uu,{className:"p-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Items Available"}),r.jsx("span",{className:"font-bold text-2xl",style:{color:qs.colors.brand.blue},children:"234"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Sold This Week"}),r.jsx("span",{className:"font-bold text-2xl",style:{color:qs.colors.brand.green},children:"18"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"People Shopping"}),r.jsx("span",{className:"font-bold text-2xl",style:{color:qs.colors.status.warning},children:"12"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-2 h-2 rounded-full "+(s?"bg-green-500":"bg-red-500")}),r.jsx("span",{className:"text-xs",style:{color:qs.colors.text.muted},children:s?"Live Updates Active":"Connecting..."})]}),n&&n.length>0?r.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.slice(0,4).map(e=>r.jsx(pu,{product:e,compact:!0},e.id))}):r.jsx(uu,{className:"p-8 text-center",children:r.jsx("span",{className:"text-lg",style:{color:qs.colors.text.secondary},children:void 0===n?"Loading latest items...":"No items available yet"})})]})]})})}),r.jsx("section",{className:"py-24 px-6 spacing-section",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(lu.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("h2",{className:"font-bebas text-5xl mb-4",style:{color:qs.colors.text.primary},children:"SHOP BY CATEGORY"}),r.jsx("p",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Find exactly what you need for your home gym"})]}),r.jsx(fu,{})]})})]})}function vu({products:e,loading:t}){return t?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((e,t)=>r.jsxs("div",{className:"bg-card rounded-xl p-4 animate-pulse",children:[r.jsx("div",{className:"bg-white/10 h-48 rounded-lg mb-4"}),r.jsx("div",{className:"bg-white/10 h-4 rounded mb-2"}),r.jsx("div",{className:"bg-white/10 h-4 rounded w-3/4 mb-4"}),r.jsx("div",{className:"bg-white/10 h-8 rounded"})]},t))}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>r.jsx(pu,{product:e,viewMode:"grid"},e.id))})}var yu=["PageUp","PageDown"],bu=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ju={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wu="Slider",[Nu,Su,Pu]=K(wu),[Eu,Tu]=O(wu,[Pu]),[ku,Cu]=Eu(wu),Au=d.forwardRef((e,t)=>{const{name:s,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:h,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:x,...g}=e,v=d.useRef(new Set),y=d.useRef(0),b="horizontal"===o?Mu:Fu,[j=[],w]=_({prop:h,defaultProp:u,onChange:e=>{const t=[...v.current];t[y.current]?.focus(),m(e)}}),N=d.useRef(j);function S(e,t,{commit:s}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(i),o=function(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}(Math.round((e-n)/i)*i+n,r),l=Y(o,[n,a]);w((e=[])=>{const n=function(e=[],t,s){const n=[...e];return n[s]=t,n.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const s=function(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}(e);return Math.min(...s)>=t}return!0}(n,c*i)){y.current=n.indexOf(l);const t=String(n)!==String(e);return t&&s&&p(n),t?n:e}return e})}return r.jsx(ku,{scope:e.__scopeSlider,name:s,disabled:l,min:n,max:a,valueIndexToChangeRef:y,thumbs:v.current,values:j,orientation:o,form:x,children:r.jsx(Nu.Provider,{scope:e.__scopeSlider,children:r.jsx(Nu.Slot,{scope:e.__scopeSlider,children:r.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:z(g.onPointerDown,()=>{l||(N.current=j)}),min:n,max:a,inverted:f,onSlideStart:l?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const s=e.map(e=>Math.abs(e-t)),n=Math.min(...s);return s.indexOf(n)}(j,e);S(e,t)},onSlideMove:l?void 0:function(e){S(e,y.current)},onSlideEnd:l?void 0:function(){const e=N.current[y.current];j[y.current]!==e&&p(j)},onHomeKeyDown:()=>!l&&S(n,0,{commit:!0}),onEndKeyDown:()=>!l&&S(a,j.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!l){const s=yu.includes(e.key)||e.shiftKey&&bu.includes(e.key)?10:1,n=y.current;S(j[n]+i*s*t,n,{commit:!0})}}})})})})});Au.displayName=wu;var[Ru,Du]=Eu(wu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Mu=d.forwardRef((e,t)=>{const{min:s,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[m,p]=d.useState(null),f=W(t,e=>p(e)),x=d.useRef(void 0),g=$(a),v="ltr"===g,y=v&&!i||!v&&i;function b(e){const t=x.current||m.getBoundingClientRect(),r=Ku([0,t.width],y?[s,n]:[n,s]);return x.current=t,r(e-t.left)}return r.jsx(Ru,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:r.jsx(Lu,{dir:g,"data-orientation":"horizontal",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=b(e.clientX);o?.(t)},onSlideMove:e=>{const t=b(e.clientX);l?.(t)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{const t=ju[y?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),Fu=d.forwardRef((e,t)=>{const{min:s,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),m=W(t,h),p=d.useRef(void 0),f=!a;function x(e){const t=p.current||h.current.getBoundingClientRect(),r=Ku([0,t.height],f?[n,s]:[s,n]);return p.current=t,r(e-t.top)}return r.jsx(Ru,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:r.jsx(Lu,{"data-orientation":"vertical",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=x(e.clientY);i?.(t)},onSlideMove:e=>{const t=x(e.clientY);o?.(t)},onSlideEnd:()=>{p.current=void 0,l?.()},onStepKeyDown:e=>{const t=ju[f?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),Lu=d.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=Cu(wu,s);return r.jsx(L.span,{...d,ref:t,onKeyDown:z(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):yu.concat(bu).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:z(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():n(e)}),onPointerMove:z(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:z(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),i(e))})})}),Ou="SliderTrack",Iu=d.forwardRef((e,t)=>{const{__scopeSlider:s,...n}=e,a=Cu(Ou,s);return r.jsx(L.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});Iu.displayName=Ou;var Vu="SliderRange",Bu=d.forwardRef((e,t)=>{const{__scopeSlider:s,...n}=e,a=Cu(Vu,s),i=Du(Vu,s),o=d.useRef(null),l=W(t,o),c=a.values.length,u=a.values.map(e=>qu(e,a.min,a.max)),h=c>1?Math.min(...u):0,m=100-Math.max(...u);return r.jsx(L.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:m+"%"}})});Bu.displayName=Vu;var zu="SliderThumb",Uu=d.forwardRef((e,t)=>{const s=Su(e.__scopeSlider),[n,a]=d.useState(null),i=W(t,e=>a(e)),o=d.useMemo(()=>n?s().findIndex(e=>e.ref.current===n):-1,[s,n]);return r.jsx($u,{...e,ref:i,index:o})}),$u=d.forwardRef((e,t)=>{const{__scopeSlider:s,index:n,name:a,...i}=e,o=Cu(zu,s),l=Du(zu,s),[c,u]=d.useState(null),h=W(t,e=>u(e)),m=!c||(o.form||!!c.closest("form")),p=H(c),f=o.values[n],x=void 0===f?0:qu(f,o.min,o.max),g=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(n,o.values.length),v=p?.[l.size],y=v?function(e,t,s){const n=e/2,r=Ku([0,50],[0,n]);return(n-r(t)*s)*s}(v,x,l.direction):0;return d.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[r.jsx(Nu.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(L.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:void 0===f?{display:"none"}:e.style,onFocus:z(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&r.jsx(_u,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});Uu.displayName=zu;var _u=d.forwardRef(({__scopeSlider:e,value:t,...s},n)=>{const a=d.useRef(null),i=W(a,n),o=G(t);return d.useEffect(()=>{const e=a.current;if(!e)return;const s=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(s,"value").set;if(o!==t&&n){const s=new Event("input",{bubbles:!0});n.call(e,t),e.dispatchEvent(s)}},[o,t]),r.jsx(L.input,{style:{display:"none"},...s,ref:i,defaultValue:t})});function qu(e,t,s){return Y(100/(s-t)*(e-t),[0,100])}function Ku(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(s-e[0])}}_u.displayName="RadioBubbleInput";var Wu=Au,Yu=Iu,Hu=Bu,Gu=Uu;const Qu=d.forwardRef(({className:e,...t},s)=>r.jsxs(Wu,{ref:s,className:Et("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Yu,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Hu,{className:"absolute h-full bg-primary"})}),r.jsx(Gu,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-secondary ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));function Xu({filters:e,onFiltersChange:t}){const[s,n]=d.useState(e),[a,o]=d.useState([e.minPrice||0,e.maxPrice||1e3]),{data:l=[]}=i({queryKey:["/api/categories"],queryFn:async()=>{const e=await fetch("/api/categories?active=true");if(!e.ok)throw new Error("Failed to fetch categories");return e.json()}}),{data:c=[]}=i({queryKey:["/api/brands"],queryFn:async()=>{const e=await fetch("/api/brands");if(!e.ok)throw new Error("Failed to fetch brands");return e.json()}}),u=[{value:"new",label:"New",color:"bg-green-500"},{value:"like_new",label:"Like New",color:"bg-blue-500"},{value:"good",label:"Good",color:"bg-yellow-500"},{value:"fair",label:"Fair",color:"bg-orange-500"},{value:"needs_repair",label:"Needs Repair",color:"bg-red-500"}],h=c.length>0?c:["Rogue Fitness","Eleiko","Rep Fitness","American Barbell","York Barbell","CAP Barbell","PowerBlock","Ironmaster","Bowflex","NordicTrack"];d.useEffect(()=>{n(e),o([e.minPrice||0,e.maxPrice||1e3])},[e]);const m=(e,r)=>{const a={...s,[e]:r};Object.keys(a).forEach(e=>{const t=e;""!==a[t]&&void 0!==a[t]||delete a[t]}),n(a),t(a)},p=Object.keys(s).filter(e=>"search"!==e&&void 0!==s[e]&&""!==s[e]).length,f=s.sortBy&&s.sortOrder?`${s.sortBy}-${s.sortOrder}`:"createdAt-desc";return r.jsxs(rs,{className:"p-6 sticky top-32",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fe,{size:20}),r.jsx("h3",{className:"font-bebas text-xl",children:"FILTERS"}),p>0&&r.jsx(ds,{variant:"secondary",className:"bg-secondary border-bg-secondary-border",children:p})]}),p>0&&r.jsxs(Kt,{variant:"ghost",size:"sm",onClick:()=>{const s={search:e.search};n(s),o([0,1e3]),t(s)},className:"text-text-secondary hover:text-primary hover:bg-white/10",children:[r.jsx(Le,{size:14,className:"mr-1"}),"Clear"]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Sort By"}),r.jsx("div",{className:"space-y-2",children:[{value:"createdAt-desc",label:"Newest First"},{value:"createdAt-asc",label:"Oldest First"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"views-desc",label:"Most Viewed"}].map(e=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"sort",value:e.value,checked:f===e.value,onChange:e=>(e=>{const[r,a]=e.split("-"),i={...s,sortBy:r,sortOrder:a};n(i),t(i)})(e.target.value),className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsx("span",{className:"text-sm",children:e.label})]},e.value))})]}),r.jsx(_s,{className:"bg-bg-secondary-border"}),l.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Category"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"category",value:"",checked:!s.category&&!s.categoryId,onChange:()=>{const e={...s};delete e.category,delete e.categoryId,delete e.categorySlug,n(e),t(e)},className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsx("span",{className:"text-sm",children:"All Categories"})]}),l.map(e=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"category",value:e.id,checked:s.categoryId===e.id||s.category===e.slug,onChange:()=>{const r={...s,categoryId:e.id,categorySlug:e.slug,category:e.slug};n(r),t(r)},className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsxs("span",{className:"text-sm",children:[e.name,r.jsxs("span",{className:"text-xs opacity-70 ml-2",children:["(",e.productCount||0,")"]})]})]},e.id))]})]}),r.jsx(_s,{className:"bg-bg-secondary-border"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Price Range"}),r.jsxs("div",{className:"px-2",children:[r.jsx(Qu,{value:a,onValueChange:e=>{o(e);const r={...s,minPrice:e[0]>0?e[0]:void 0,maxPrice:e[1]<1e3?e[1]:void 0};n(r),t(r)},max:1e3,min:0,step:10,className:"mb-4"}),r.jsxs("div",{className:"flex justify-between text-sm text-text-secondary",children:[r.jsxs("span",{children:["$",a[0]]}),r.jsxs("span",{children:["$",a[1]]})]})]})]}),r.jsx(_s,{className:"bg-bg-secondary-border"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Condition"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"condition",value:"",checked:!s.condition,onChange:()=>m("condition",void 0),className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsx("span",{className:"text-sm",children:"Any Condition"})]}),u.map(e=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"condition",value:e.value,checked:s.condition===e.value,onChange:e=>m("condition",e.target.value),className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsx("div",{className:`w-3 h-3 rounded-full ${e.color} mr-1`}),r.jsx("span",{className:"text-sm",children:e.label})]},e.value))]})]}),r.jsx(_s,{className:"bg-bg-secondary-border"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Brand"}),r.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"brand",value:"",checked:!s.brand,onChange:()=>m("brand",void 0),className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsx("span",{className:"text-sm",children:"Any Brand"})]}),h.map(e=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"brand",value:e,checked:s.brand===e,onChange:e=>m("brand",e.target.value),className:"w-4 h-4 text-accent-blue bg-transparent border-gray-600 focus:ring-accent-blue"}),r.jsx("span",{className:"text-sm",children:e})]},e))]})]})]}),p>0&&r.jsxs(r.Fragment,{children:[r.jsx(_s,{className:"bg-bg-secondary-border my-6"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Active Filters"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.category&&r.jsxs(ds,{variant:"secondary",className:"bg-secondary border-bg-secondary-border",children:[l.find(e=>e.id===s.category)?.name||s.category,r.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>m("category",void 0),className:"ml-1 p-0 h-auto hover:bg-transparent",children:r.jsx(J,{size:12})})]}),s.condition&&r.jsxs(ds,{variant:"secondary",className:"bg-secondary border-bg-secondary-border",children:[u.find(e=>e.value===s.condition)?.label||s.condition,r.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>m("condition",void 0),className:"ml-1 p-0 h-auto hover:bg-transparent",children:r.jsx(J,{size:12})})]}),s.brand&&r.jsxs(ds,{variant:"secondary",className:"bg-secondary border-bg-secondary-border",children:[s.brand,r.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>m("brand",void 0),className:"ml-1 p-0 h-auto hover:bg-transparent",children:r.jsx(J,{size:12})})]}),(s.minPrice||s.maxPrice)&&r.jsxs(ds,{variant:"secondary",className:"bg-secondary border-bg-secondary-border",children:["$",s.minPrice||0," - $",s.maxPrice||1e3,r.jsx(Kt,{variant:"ghost",size:"sm",onClick:()=>{m("minPrice",void 0),m("maxPrice",void 0),o([0,1e3])},className:"ml-1 p-0 h-auto hover:bg-transparent",children:r.jsx(J,{size:12})})]})]})]})]})]})}function Ju({label:e,onRemove:t}){return r.jsxs(ds,{variant:"secondary",className:"bg-slate-600/20 text-slate-300 border-slate-500/30 pr-1 flex items-center gap-1",children:[e,r.jsx("button",{onClick:t,className:"ml-1 hover:text-red-400 transition-colors p-0.5 rounded-sm hover:bg-red-400/20",children:r.jsx(J,{size:14})})]})}function Zu({className:e,...t}){return r.jsx("div",{className:Et("animate-pulse rounded-md bg-muted",e),...t})}function eh(){const[e]=h(),t=d.useRef(!1),[s,n]=d.useState(()=>{const e=hn.getState("/products");if(hn.isFromProductDetail()&&e?.filters)return e.filters;const t=new URLSearchParams(window.location.search),s={};return t.get("category")&&(s.category=t.get("category")),t.get("categoryId")&&(s.categoryId=t.get("categoryId")),t.get("categorySlug")&&(s.categorySlug=t.get("categorySlug")),t.get("search")&&(s.search=t.get("search")),t.get("minPrice")&&(s.minPrice=Number(t.get("minPrice"))),t.get("maxPrice")&&(s.maxPrice=Number(t.get("maxPrice"))),t.get("priceMin")&&(s.priceMin=Number(t.get("priceMin"))),t.get("priceMax")&&(s.priceMax=Number(t.get("priceMax"))),t.get("condition")&&(s.condition=t.get("condition").split(",")),t.get("brand")&&(s.brand=t.get("brand").split(",")),t.get("tags")&&(s.tags=t.get("tags").split(",")),t.get("sortBy")&&(s.sortBy=t.get("sortBy")),t.get("sortOrder")&&(s.sortOrder=t.get("sortOrder")),s}),[a,o]=d.useState(()=>{const e=hn.getState("/products");return hn.isFromProductDetail()&&e?.currentPage?e.currentPage:0}),[l,c]=d.useState(()=>{const e=hn.getState("/products");return hn.isFromProductDetail()&&e?.viewMode?e.viewMode:"grid"}),[u,m]=d.useState(()=>{const e=hn.getState("/products");return!(!hn.isFromProductDetail()||!e||!0!==e.showFilters)});d.useEffect(()=>{const e=hn.getState("/products");hn.isFromProductDetail()&&e?.scrollPosition&&!t.current&&(t.current=!0,setTimeout(()=>{window.scrollTo(0,e.scrollPosition)},100))},[]),d.useEffect(()=>()=>{(()=>{const t={filters:s,currentPage:a,viewMode:l,showFilters:u,scrollPosition:window.scrollY};hn.saveState("/products",t,e)})()},[s,a,l,u,e]),d.useEffect(()=>{hn.isFromProductDetail()||hn.clearState("/products")},[]);const p=(e,t)=>{const r={...s};if("brand"===e||"condition"===e||"tags"===e){const s=Array.isArray(r[e])?r[e]:[];r[e]=s.filter(e=>e!==t),0===r[e].length&&delete r[e]}else delete r[e];n(r),o(0),hn.clearState("/products")},f=Object.entries(s).filter(([e,t])=>("category"!==e||"all"!==t)&&(Array.isArray(t)?t.length>0:null!=t&&""!==t)).length,{data:x,isLoading:g,error:v,refetch:y}=i({queryKey:["/api/products",{...s,limit:20,offset:20*a}],refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:12e4,gcTime:3e5,retry:(e,t)=>!(t instanceof Error&&t.message.includes("401"))&&e<2});d.useEffect(()=>{const e=()=>{y()},t=()=>{y()};return window.addEventListener("productUpdated",e),window.addEventListener("storageChanged",t),()=>{window.removeEventListener("productUpdated",e),window.removeEventListener("storageChanged",t)}},[y]);const b=e=>{n(e),o(0);const t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{void 0!==s&&""!==s&&t.set(e,s.toString())}),window.history.replaceState({},"",`${window.location.pathname}?${t.toString()}`)},j=x?Math.ceil(x.total/20):0;return v?(console.error("Products loading error:",v),r.jsx("div",{className:"min-h-screen pt-32 px-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Products Temporarily Unavailable"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"We're experiencing technical difficulties. Please try again in a moment."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>y(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mr-3",children:"Try Again"}),r.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Return Home"})]})]})})})):r.jsx(lu.div,{className:"min-h-screen pt-32 px-6 pb-12",style:{backgroundColor:qs.colors.bg.primary},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"font-bebas text-4xl md:text-6xl mb-4",style:{color:qs.colors.text.primary},children:s.category&&"all"!==s.category?s.category.replace("-"," & ").toUpperCase():"SHOP EQUIPMENT"}),r.jsx("p",{className:"text-lg",style:{color:qs.colors.text.secondary},children:"Discover premium weightlifting equipment inspected and verified by our team."}),f>0&&r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx("span",{className:"text-sm",style:{color:qs.colors.text.secondary},children:"Active filters:"}),s.brand&&Array.isArray(s.brand)&&s.brand.map(e=>r.jsx(Ju,{label:e,onRemove:()=>p("brand",e)},`brand-${e}`)),s.condition&&Array.isArray(s.condition)&&s.condition.map(e=>r.jsx(Ju,{label:e,onRemove:()=>p("condition",e)},`condition-${e}`)),s.priceMin&&r.jsx(Ju,{label:`Min: $${s.priceMin}`,onRemove:()=>p("priceMin","")}),s.priceMax&&r.jsx(Ju,{label:`Max: $${s.priceMax}`,onRemove:()=>p("priceMax","")}),s.tags&&Array.isArray(s.tags)&&s.tags.map(e=>r.jsx(Ju,{label:`#${e}`,onRemove:()=>p("tags",e)},`tag-${e}`)),r.jsx(Kt,{variant:"danger",size:"sm",onClick:()=>{n({}),o(0),m(!1),hn.clearState("/products")},children:"Reset All"})]})})]}),r.jsxs(uu,{className:"p-6 mb-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsx("div",{className:"flex-1 max-w-md",children:r.jsx(un,{onSearch:e=>b({search:e}),placeholder:"Search weightlifting equipment...",className:"w-full",variant:"page"})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center glass rounded-lg p-1 gap-1",children:[r.jsx("div",{className:"glass glass-hover rounded-lg p-1 transition-all duration-300 "+("grid"===l?"ring-2 ring-blue-400 bg-blue-500/20 shadow-lg shadow-blue-500/20":"ring-1 ring-blue-500/20 hover:ring-blue-400/40"),children:r.jsx(Kt,{variant:"grid"===l?"primary":"ghost",size:"sm",onClick:()=>{c("grid");const t={filters:s,currentPage:a,viewMode:"grid",showFilters:u,scrollPosition:window.scrollY};hn.saveState("/products",t,e)},children:r.jsx(Oe,{size:16})})}),r.jsx("div",{className:"glass glass-hover rounded-lg p-1 transition-all duration-300 "+("list"===l?"ring-2 ring-blue-400 bg-blue-500/20 shadow-lg shadow-blue-500/20":"ring-1 ring-blue-500/20 hover:ring-blue-400/40"),children:r.jsx(Kt,{variant:"list"===l?"primary":"ghost",size:"sm",onClick:()=>{c("list");const t={filters:s,currentPage:a,viewMode:"list",showFilters:u,scrollPosition:window.scrollY};hn.saveState("/products",t,e)},children:r.jsx(Ie,{size:16})})})]}),r.jsx("div",{className:"glass glass-hover rounded-lg p-1 ring-1 ring-blue-500/20 hover:ring-blue-400/40 transition-all duration-300",children:r.jsxs(Kt,{variant:"secondary",size:"sm",onClick:()=>{const t=!u;m(t);const n={filters:s,currentPage:a,viewMode:l,showFilters:t,scrollPosition:window.scrollY};hn.saveState("/products",n,e)},className:"relative gap-2",children:[r.jsx(Fe,{size:16}),"Filters",f>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center shadow-lg shadow-blue-500/30",children:f})]})})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-text-secondary",children:[r.jsx("span",{children:g&&!x?r.jsx(Zu,{className:"h-4 w-32"}):`${x?.total||0} products found`}),x&&x.total>20&&r.jsxs("span",{children:["Page ",a+1," of ",j]})]})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:"transition-all duration-300 ease-in-out flex-shrink-0 "+(u?"w-80 opacity-100":"w-0 opacity-0 overflow-hidden"),children:r.jsx("div",{className:"w-80 "+(u?"block":"hidden"),children:r.jsx(Xu,{filters:s,onFiltersChange:b})})}),r.jsx("div",{className:"flex-1",children:g&&!x?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>r.jsxs(uu,{className:"p-4",children:[r.jsx(Zu,{className:"w-full h-48 mb-4"}),r.jsx(Zu,{className:"h-6 w-3/4 mb-2"}),r.jsx(Zu,{className:"h-4 w-1/2 mb-2"}),r.jsx(Zu,{className:"h-6 w-1/4"})]},t))}):x&&x.products.length>0?r.jsxs(r.Fragment,{children:[r.jsx(vu,{products:x.products}),j>1&&r.jsx("div",{className:"mt-12 flex justify-center",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Kt,{variant:"secondary",disabled:0===a,onClick:()=>o(a-1),children:"Previous"}),Array.from({length:Math.min(j,5)},(e,t)=>{const s=a<3?t:a-2+t;return s>=j?null:r.jsx(Kt,{variant:s===a?"primary":"secondary",onClick:()=>o(s),children:s+1},s)}),r.jsx(Kt,{variant:"secondary",disabled:a===j-1,onClick:()=>o(a+1),children:"Next"})]})})]}):r.jsxs(uu,{className:"p-12 text-center",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"No products found"}),r.jsx("p",{className:"text-text-secondary mb-6",children:"Try adjusting your search terms or filters to find what you're looking for."}),r.jsx(Kt,{onClick:()=>b({}),variant:"primary",children:"Clear Filters"})]})})]})]})})}function th(e){const[t]=h(),s=d.useCallback(e=>{const s=t,n=JSON.parse(sessionStorage.getItem("navigationStates")||"{}");n[s]={...e,timestamp:Date.now()},sessionStorage.setItem("navigationStates",JSON.stringify(n))},[t]),n=d.useCallback(()=>{const e=t;return JSON.parse(sessionStorage.getItem("navigationStates")||"{}")[e]||null},[t]);return d.useEffect(()=>{const e=JSON.parse(sessionStorage.getItem("navigationStates")||"{}"),t=Date.now();Object.keys(e).forEach(s=>{t-e[s].timestamp>18e5&&delete e[s]}),sessionStorage.setItem("navigationStates",JSON.stringify(e))},[]),{saveState:s,restoreState:n}}function sh(){d.useEffect(()=>{const e=e=>{const t=e.state;t?.scrollPosition&&setTimeout(()=>{window.scrollTo(0,t.scrollPosition)},0)};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[])}function nh(){const{id:e}=p(),[t,s]=h(),{toast:n}=wt(),[a,o]=d.useState(0),[l,c]=d.useState(!1),[u,m]=d.useState(1);d.useEffect(()=>{const e=e=>{"Escape"===e.key&&l&&c(!1)};return l&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[l]),th(),sh();d.useEffect(()=>{hn.updatePreviousPath(t)},[t]),e&&"string"==typeof e||console.error("Invalid product ID:",e,typeof e);const{data:f,isLoading:x,error:g,refetch:v}=i({queryKey:[`/api/products/${e}`],enabled:!!e&&"string"==typeof e&&"[object Object]"!==e,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0,gcTime:0,refetchInterval:3e4,retry:!1});if(d.useEffect(()=>{const t=t=>{const{productId:s,action:n}=t.detail||{};s&&s!==e||v()};return ut.addEventListener("productUpdated",t),window.addEventListener("productUpdated",t),window.addEventListener("storageChanged",t),()=>{ut.removeEventListener("productUpdated",t),window.removeEventListener("productUpdated",t),window.removeEventListener("storageChanged",t)}},[e,v]),x)return r.jsx("div",{className:"min-h-screen pt-32 px-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx("div",{className:"animate-pulse",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[r.jsx("div",{className:"bg-glass-bg rounded-xl h-96"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"h-8 bg-glass-bg rounded"}),r.jsx("div",{className:"h-6 bg-glass-bg rounded w-3/4"}),r.jsx("div",{className:"h-6 bg-glass-bg rounded w-1/2"})]})]})})})});if(g||!f)return r.jsx("div",{className:"min-h-screen pt-32 px-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs(rs,{className:"p-8 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Product Not Found"}),r.jsx("p",{className:"text-text-secondary mb-6",children:"The product you're looking for doesn't exist or has been removed."}),r.jsx(mu,{href:"/products",children:r.jsx(Kt,{className:"bg-accent-blue hover:bg-blue-500",children:"Browse Products"})})]})})});const y=f.images||[],b=y[a],j=y.length>0&&b&&b.length>0,w=f.stockQuantity&&0!==f.stockQuantity?f.stockQuantity<=3?{text:`${f.stockQuantity} left`,color:"text-red-400",dot:"bg-red-400"}:{text:"In Stock",color:"text-green-400",dot:"bg-green-400"}:{text:"Out of Stock",color:"text-gray-400",dot:"bg-gray-400"};return r.jsxs("div",{className:"min-h-screen pt-32 px-6 pb-12",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>{hn.updatePreviousPath(t),window.history.length>1?s(-1):s("/products")},className:"flex items-center gap-2 mb-4 text-gray-400 hover:text-white transition-colors",children:[r.jsx(Ve,{className:"w-4 h-4"}),"Back to Products"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-text-secondary",children:[r.jsx(mu,{href:"/",children:"Home"}),r.jsx("span",{children:"/"}),r.jsx(mu,{href:"/products",children:"Products"}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-white",children:f.name})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(rs,{className:"overflow-hidden",children:r.jsxs("div",{className:"relative group cursor-pointer",onClick:j?()=>c(!0):void 0,children:[j?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:b,alt:f.name,className:"w-full h-96 object-cover transition-transform duration-300 group-hover:scale-105"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:r.jsx(Be,{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",size:32})})]}):r.jsx("div",{className:"w-full h-96 bg-glass-bg flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-text-muted",children:[r.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),r.jsx("div",{className:"text-xl",children:"No Image Available"}),r.jsx("div",{className:"text-sm mt-2",children:"This product currently has no images"})]})}),j&&y.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:e=>{e.stopPropagation(),o(a>0?a-1:y.length-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 glass p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ve,{size:20})}),r.jsx("button",{onClick:e=>{e.stopPropagation(),o(a<y.length-1?a+1:0)},className:"absolute right-4 top-1/2 -translate-y-1/2 glass p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(ze,{size:20})})]})]})}),j&&y.length>1&&r.jsx("div",{className:"grid grid-cols-6 gap-2",children:y.slice(0,6).map((e,t)=>r.jsx("button",{onClick:()=>o(t),className:"glass overflow-hidden transition-all duration-200 "+(t===a?"ring-2 ring-accent-blue":"hover:opacity-80"),children:r.jsx("img",{src:e,alt:`${f.name} ${t+1}`,className:"w-full h-16 object-cover"})},t))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"font-bebas text-4xl mb-2",children:f.name}),r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs("span",{className:"text-3xl font-bold text-accent-blue",children:["$",f.price]}),f.brand&&r.jsx(ds,{variant:"outline",className:"glass border-border",children:f.brand})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${w.dot}`}),r.jsx("span",{className:`text-sm font-medium ${w.color}`,children:w.text})]}),r.jsx(ds,{className:`${(e=>{switch(e){case"new":return"bg-green-500";case"like_new":return"bg-blue-500";case"good":return"bg-yellow-500";case"fair":return"bg-orange-500";case"needs_repair":return"bg-red-500";default:return"bg-gray-500"}})(f.condition)} text-white`,children:f.condition.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-text-muted",children:[r.jsx(Ae,{size:16}),r.jsxs("span",{children:[f.views||0," views"]})]})]}),r.jsx(_s,{className:"bg-glass-border"}),f.description&&r.jsx("div",{children:r.jsx("p",{className:"text-text-secondary leading-relaxed",children:f.description})}),f.specifications&&Object.keys(f.specifications).length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Key Specifications"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(f.specifications).slice(0,4).map(([e,t])=>r.jsxs("div",{className:"glass p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-text-muted",children:e}),r.jsx("div",{className:"font-medium",children:t})]},e))})]}),r.jsx(_s,{className:"bg-glass-border"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("label",{className:"text-sm font-medium",children:"Quantity:"}),r.jsxs("div",{className:"flex items-center glass rounded-lg",children:[r.jsx("button",{onClick:()=>m(Math.max(1,u-1)),className:"p-2 hover:bg-white/10 transition-colors",disabled:u<=1,children:"-"}),r.jsx("span",{className:"px-4 py-2 min-w-[3rem] text-center",children:u}),r.jsx("button",{onClick:()=>m(u+1),className:"p-2 hover:bg-white/10 transition-colors",disabled:!f.stockQuantity||u>=f.stockQuantity,children:"+"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(ts,{productId:f.id,stock:f.stockQuantity,quantity:u,className:""})}),r.jsx("div",{className:"flex gap-3 mt-4",children:r.jsxs(Kt,{variant:"outline",onClick:async()=>{if(navigator.share)try{await navigator.share({title:f.name,text:f.description||"",url:window.location.href})}catch(e){navigator.clipboard.writeText(window.location.href),n({title:"Link Copied",description:"Product link has been copied to clipboard."})}else navigator.clipboard.writeText(window.location.href),n({title:"Link Copied",description:"Product link has been copied to clipboard."})},className:"glass border-border flex-1",children:[r.jsx(Ue,{size:20,className:"mr-2"}),"Share Product"]})})]}),r.jsx(rs,{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx($e,{className:"mx-auto mb-2 text-accent-blue",size:24}),r.jsx("div",{className:"text-sm font-medium",children:"Fast Shipping"}),r.jsx("div",{className:"text-xs text-text-muted",children:"2-3 business days"})]}),r.jsxs("div",{children:[r.jsx(_e,{className:"mx-auto mb-2 text-green-400",size:24}),r.jsx("div",{className:"text-sm font-medium",children:"Inspected"}),r.jsx("div",{className:"text-xs text-text-muted",children:"Quality guaranteed"})]}),r.jsxs("div",{children:[r.jsx(Le,{className:"mx-auto mb-2 text-orange-400",size:24}),r.jsx("div",{className:"text-sm font-medium",children:"30-Day Returns"}),r.jsx("div",{className:"text-xs text-text-muted",children:"Easy returns"})]})]})})]})]}),r.jsx("div",{className:"mt-16",children:r.jsxs(Ls,{defaultValue:"description",className:"w-full",children:[r.jsxs(Os,{className:"glass w-full justify-start",children:[r.jsx(Is,{value:"description",children:"Description"}),r.jsx(Is,{value:"specifications",children:"Specifications"}),r.jsx(Is,{value:"shipping",children:"Shipping Info"}),r.jsx(Is,{value:"returns",children:"Return Policy"})]}),r.jsx(Vs,{value:"description",className:"mt-6",children:r.jsxs(rs,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Description"}),r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("p",{className:"text-text-secondary leading-relaxed",children:f.description||"No detailed description available for this product."})})]})}),r.jsx(Vs,{value:"specifications",className:"mt-6",children:r.jsxs(rs,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Specifications"}),f.specifications&&Object.keys(f.specifications).length>0?r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(f.specifications).map(([e,t])=>r.jsxs("div",{className:"flex justify-between p-3 glass rounded-lg",children:[r.jsxs("span",{className:"font-medium",children:[e,":"]}),r.jsx("span",{className:"text-text-secondary",children:t})]},e))}):r.jsx("p",{className:"text-text-secondary",children:"No specifications available for this product."})]})}),r.jsx(Vs,{value:"shipping",className:"mt-6",children:r.jsxs(rs,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Shipping Information"}),r.jsxs("div",{className:"space-y-4 text-text-secondary",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Delivery Options"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:"â€¢ Standard Shipping: 3-5 business days"}),r.jsx("li",{children:"â€¢ Expedited Shipping: 1-2 business days"}),r.jsx("li",{children:"â€¢ Local Pickup: Available in Asheville, NC"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Shipping Costs"}),r.jsx("p",{children:"Shipping costs are calculated at checkout based on weight and destination."})]})]})]})}),r.jsx(Vs,{value:"returns",className:"mt-6",children:r.jsxs(rs,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Return Policy"}),r.jsxs("div",{className:"space-y-4 text-text-secondary",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"30-Day Return Window"}),r.jsx("p",{children:"You have 30 days from delivery to return items in original condition."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Return Process"}),r.jsxs("ol",{className:"space-y-1",children:[r.jsx("li",{children:"1. Contact our support team"}),r.jsx("li",{children:"2. Receive return authorization"}),r.jsx("li",{children:"3. Pack items securely"}),r.jsx("li",{children:"4. Ship with provided label"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Refund Timeline"}),r.jsx("p",{children:"Refunds are processed within 5-7 business days after we receive your return."})]})]})]})})]})})]}),l&&j&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 cursor-pointer overflow-hidden",onClick:()=>c(!1),children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 md:p-8",onClick:()=>c(!1),children:r.jsxs("div",{className:"relative cursor-default",onClick:e=>e.stopPropagation(),children:[r.jsx("img",{src:b,alt:f.name,className:"max-w-full max-h-[85vh] w-auto h-auto object-contain rounded-lg"}),y.length>1&&r.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:y.map((e,t)=>r.jsx("button",{onClick:e=>{e.stopPropagation(),o(t)},className:"w-3 h-3 rounded-full transition-all hover:scale-125 "+(t===a?"bg-white":"bg-white/50 hover:bg-white/70")},t))})]})}),y.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:e=>{e.stopPropagation(),o(a>0?a-1:y.length-1)},className:"fixed left-4 md:left-8 top-1/2 -translate-y-1/2 w-12 h-12 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all hover:scale-110 z-50",children:r.jsx(Ve,{className:"w-6 h-6"})}),r.jsx("button",{onClick:e=>{e.stopPropagation(),o(a<y.length-1?a+1:0)},className:"fixed right-4 md:right-8 top-1/2 -translate-y-1/2 w-12 h-12 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all hover:scale-110 z-50",children:r.jsx(ze,{className:"w-6 h-6"})})]}),r.jsx("button",{onClick:e=>{e.stopPropagation(),c(!1)},className:"fixed top-4 right-4 w-12 h-12 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all hover:scale-110 z-50",children:"âœ•"}),r.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 text-white/60 text-sm pointer-events-none z-50",children:"Click outside or press ESC to close"})]})]})}function rh({children:e,requireDeveloper:t=!1}){const{user:s,isLoading:n}=Ut(),[,a]=h();return d.useEffect(()=>{n||s||a("/auth")},[s,n,a]),n?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(se,{className:"h-8 w-8 animate-spin text-blue-500"})}):s?t&&"developer"!==s.role?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-slate-300",children:"You don't have permission to access this page."})]})}):r.jsx(r.Fragment,{children:e}):null}function ah(){const{cartItems:e,updateQuantity:t,removeFromCart:s,cartTotal:n,cartCount:a,isLoading:i}=Vt();d.useEffect(()=>{o();const e=()=>{o()};return window.addEventListener("productUpdated",e),window.addEventListener("productDeleted",e),()=>{window.removeEventListener("productUpdated",e),window.removeEventListener("productDeleted",e)}},[]);const o=async()=>{try{await fetch("/api/cart/validate",{method:"POST",credentials:"include"})}catch(e){console.error("Cart validation error:",e)}};if(i)return r.jsx("div",{className:"min-h-screen pt-32 px-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-glass-bg rounded w-48 mb-8"}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:Array.from({length:3}).map((e,t)=>r.jsx("div",{className:"h-32 bg-glass-bg rounded-xl"},t))}),r.jsx("div",{className:"h-64 bg-glass-bg rounded-xl"})]})]})})});if(0===e.length)return r.jsx("div",{className:"min-h-screen pt-32 px-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"font-bebas text-4xl md:text-6xl mb-8",children:"YOUR CART"}),r.jsxs(rs,{className:"p-12 text-center",children:[r.jsx(Pe,{className:"mx-auto mb-6 text-gray-400",size:64}),r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-text-secondary mb-8",children:"Looks like you haven't added any items to your cart yet. Start shopping to fill it up!"}),r.jsx(m,{href:"/products",children:r.jsx(Kt,{className:"bg-accent-blue hover:bg-blue-500 text-white",children:"Start Shopping"})})]})]})});const l=n,c=l>100?0:25,u=.08*l,h=l+c+u;return r.jsx("div",{className:"min-h-screen pt-32 px-6 pb-12",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h1",{className:"font-bebas text-4xl md:text-6xl",children:"YOUR CART"}),r.jsxs("div",{className:"text-text-secondary",children:[a," ",1===a?"item":"items"]})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx(rs,{className:"divide-y divide-glass-border",children:e.map(e=>{return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:e.product.images&&e.product.images.length>0?r.jsx("img",{src:(n=e.product.images[0],(n?"string"==typeof n?n:n?.url:null)||""),alt:e.product.name,className:"w-24 h-24 object-cover rounded-lg"}):r.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-2xl mb-1",children:"ðŸ“¦"}),r.jsx("div",{className:"text-xs",children:"No Image"})]})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx(m,{href:`/products/${e.product.id}`,children:r.jsx("h3",{className:"font-semibold text-lg hover:text-accent-blue transition-colors cursor-pointer",children:e.product.name})}),e.product.brand&&r.jsx("p",{className:"text-text-muted text-sm",children:e.product.brand})]}),r.jsx("button",{onClick:()=>s(e.id),className:"text-gray-400 hover:text-red-400 transition-colors p-1",children:r.jsx(Ee,{size:18})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center glass rounded-lg",children:[r.jsx("button",{onClick:()=>t(e.id,Math.max(0,e.quantity-1)),className:"p-2 hover:bg-white/10 transition-colors",disabled:e.quantity<=1,children:r.jsx(Te,{size:16})}),r.jsx("span",{className:"px-4 py-2 min-w-[3rem] text-center",children:e.quantity}),r.jsx("button",{onClick:()=>t(e.id,e.quantity+1),className:"p-2 hover:bg-white/10 transition-colors",disabled:!e.product.stockQuantity||e.quantity>=e.product.stockQuantity,children:r.jsx(ke,{size:16})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-lg",children:["$",(Number(e.product.price)*e.quantity).toFixed(2)]}),r.jsxs("div",{className:"text-text-muted text-sm",children:["$",e.product.price," each"]})]})]}),e.product.stockQuantity&&e.product.stockQuantity<=3&&r.jsxs("div",{className:"mt-3 text-red-400 text-sm",children:["Only ",e.product.stockQuantity," left in stock"]})]})]})},e.id);var n})}),r.jsx("div",{className:"mt-6",children:r.jsx(m,{href:"/products",children:r.jsx(Kt,{variant:"outline",className:"glass border-border",children:"Continue Shopping"})})})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(rs,{className:"p-6 sticky top-32",children:[r.jsx("h2",{className:"font-bebas text-2xl mb-6",children:"ORDER SUMMARY"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",l.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsx("span",{children:0===c?r.jsx("span",{className:"text-green-400",children:"Free"}):`$${c.toFixed(2)}`})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",u.toFixed(2)]})]}),r.jsx(_s,{className:"bg-glass-border"}),r.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["$",h.toFixed(2)]})]})]}),c>0&&r.jsxs("div",{className:"mt-4 p-3 glass rounded-lg text-sm text-text-secondary",children:[r.jsx("p",{children:"Free shipping on orders over $100"}),r.jsxs("p",{className:"text-accent-blue",children:["Add $",(100-l).toFixed(2)," more to qualify"]})]}),r.jsx(m,{href:"/checkout",children:r.jsxs(Kt,{className:"w-full mt-6",children:["Proceed to Checkout",r.jsx(Ce,{className:"ml-2",size:18})]})}),r.jsx("div",{className:"mt-4 text-center text-sm text-text-muted",children:"ðŸ”’ Secure checkout with 256-bit SSL encryption"})]})})]})]})})}function ih(){return r.jsx(rh,{children:r.jsx(ah,{})})}function oh(){return r.jsx(_t,{status:404})}Qu.displayName=Wu.displayName;const lh=d.lazy(()=>We(()=>import("./checkout-Cdup2RM8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),ch=d.lazy(()=>We(()=>import("./sell-to-us-DkMJWBTx.js"),__vite__mapDeps([10,1,2,11,4,12,8,5,6,7,9]))),dh=d.lazy(()=>We(()=>import("./track-submission-813g5FW1.js"),__vite__mapDeps([13,1,2,4,8,6,9]))),uh=d.lazy(()=>We(()=>import("./dashboard-D8hFeivZ.js"),__vite__mapDeps([14,1,2,4,6,15,8,9]))),hh=d.lazy(()=>We(()=>import("./admin-ByVNSJrL.js"),__vite__mapDeps([16,1,2,4,8,9,3,6]))),mh=d.lazy(()=>We(()=>import("./ProductForm-WcynsP3_.js"),__vite__mapDeps([17,1,2,4,11,12,8,6,9])).then(e=>({default:e.ProductForm}))),ph=d.lazy(()=>We(()=>import("./orders-D8qCjTqm.js"),__vite__mapDeps([18,1,2,4,12,8,6,9]))),fh=d.lazy(()=>We(()=>import("./about-13tKJNtH.js"),__vite__mapDeps([19,1,2,4,8,6,9]))),xh=d.lazy(()=>We(()=>import("./contact-7WWhq9mu.js"),__vite__mapDeps([20,1,2,4,12,8,5,6,7,9]))),gh=d.lazy(()=>We(()=>import("./auth-XFhg63hM.js"),__vite__mapDeps([21,1,2,4,15,8,6,9]))),vh=d.lazy(()=>We(()=>import("./forgot-password-dAU48W75.js"),__vite__mapDeps([22,1,2,7,5,6,4,23,8,9]))),yh=d.lazy(()=>We(()=>import("./reset-password-CzCup4Ah.js"),__vite__mapDeps([24,1,2,7,5,6,4,23,8,9])));function bh(){const[e]=h();return d.useEffect(()=>{if("undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{document.documentElement.classList.add("loaded")}):document.documentElement.classList.add("loaded")),e.includes("#")){const t=e.split("#")[1],s=document.querySelector(`#${t}`);return void s?.scrollIntoView({behavior:"smooth"})}const t=sessionStorage.getItem(`scroll-${e}`);t?setTimeout(()=>{window.scrollTo(0,parseInt(t))},100):window.scrollTo(0,0)},[e]),d.useEffect(()=>{const t=()=>{sessionStorage.setItem(`scroll-${e}`,window.scrollY.toString())};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[e]),null}function jh(){return r.jsx($t,{children:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("div",{className:"gym-atmosphere"}),r.jsx(pn,{}),r.jsx(xn,{}),r.jsx(bh,{}),r.jsx("main",{className:"flex-1",children:r.jsx(d.Suspense,{fallback:r.jsx(gn,{}),children:r.jsxs(f,{children:[r.jsx(x,{path:Ye,component:gu}),r.jsx(x,{path:He,component:eh}),r.jsx(x,{path:Ge,component:nh}),r.jsx(x,{path:it,component:fh}),r.jsx(x,{path:ot,component:xh}),r.jsx(x,{path:Qe,component:ih}),r.jsx(x,{path:Xe,component:lh}),r.jsx(x,{path:Je,component:gh}),r.jsx(x,{path:"/forgot-password",component:vh}),r.jsx(x,{path:"/reset-password",component:yh}),r.jsx(x,{path:Ze,component:uh}),r.jsx(x,{path:et,component:ph}),r.jsx(x,{path:tt,component:ch}),r.jsx(x,{path:st,component:dh}),r.jsx(x,{path:"/admin/:tab?",component:hh}),r.jsx(x,{path:nt,component:hh}),r.jsx(x,{path:rt,component:mh}),r.jsx(x,{path:at,component:mh}),r.jsx(x,{component:oh})]})})}),r.jsx(fn,{})]})})}function wh(){return d.useEffect(()=>{vn.disableReplitEmbeds();const e=window.addEventListener;return window.addEventListener=function(t,s,n){if("beforeunload"!==t||!s?.toString().includes("replit"))return e.call(this,t,s,n)},()=>{window.onbeforeunload=null}},[]),r.jsx(l,{client:ht,children:r.jsx(Lt,{children:r.jsx(zt,{children:r.jsxs(It,{children:[r.jsx(Ft,{}),r.jsx(jh,{})]})})})})}e(document.getElementById("root")).render(r.jsx($t,{children:r.jsx(wh,{})}));export{Ls as A,Kt as B,rs as C,Ks as D,Os as E,Is as F,Vs as G,dn as H,us as I,os as J,Pt as K,fs as L,rh as P,_s as S,xs as T,wt as a,dt as b,Ut as c,uu as d,ds as e,Et as f,qs as g,qt as h,th as i,sh as j,mu as k,Hs as l,Gs as m,Qs as n,xu as o,mt as p,as as q,is as r,ls as s,jt as t,Vt as u,lu as v,du as w,hu as x,cn as y,mn as z};
