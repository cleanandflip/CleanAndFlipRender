import{a as e,j as s}from"./vendor-query-CoA2KGsa.js";import{L as a}from"./vendor-router-CuiUI5dJ.js";import{C as r,B as t,I as l,e as n}from"./index-D83mCZbl.js";import{r as d}from"./vendor-react-Bg7tF2Ta.js";import{S as i}from"./UnifiedDropdown-D25oL3E9.js";import{K as c,d as o,$ as m,B as x,_ as u}from"./vendor-icons-owZ3yLAb.js";import"./vendor-ui-BRIy5LFq.js";import"./vendor-utils-CrFdsnXa.js";const h="temp-user-id";function g(){const[g,p]=d.useState(""),[b,j]=d.useState("all"),[N,v]=d.useState("newest"),{data:f=[],isLoading:y,error:w}=e({queryKey:["/api/orders",{userId:h}]}),S=e=>{switch(e){case"pending":return"bg-yellow-500";case"confirmed":return"bg-blue-500";case"processing":return"bg-purple-500";case"shipped":return"bg-green-500";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}},C=e=>{switch(e){case"pending":return s.jsx(u,{size:16});case"confirmed":case"processing":case"delivered":default:return s.jsx(m,{size:16});case"shipped":return s.jsx(x,{size:16})}},D=(f||[]).filter(e=>{const s=e.id.toLowerCase().includes(g.toLowerCase()),a="all"===b||e.status===b;return s&&a}).sort((e,s)=>{switch(N){case"newest":return new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime();case"oldest":return new Date(e.createdAt).getTime()-new Date(s.createdAt).getTime();case"amount-high":return Number(s.total)-Number(e.total);case"amount-low":return Number(e.total)-Number(s.total);default:return 0}});return y?s.jsx("div",{className:"min-h-screen pt-32 px-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-12 bg-glass-bg rounded"}),Array.from({length:5}).map((e,a)=>s.jsx("div",{className:"h-32 bg-glass-bg rounded-xl"},a))]})})}):w?s.jsx("div",{className:"min-h-screen pt-32 px-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(r,{className:"p-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Error Loading Orders"}),s.jsx("p",{className:"text-text-secondary",children:"Please try again later."})]})})}):s.jsx("div",{className:"min-h-screen pt-32 px-6 pb-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"font-bebas text-4xl md:text-6xl mb-2",children:"ORDER HISTORY"}),s.jsx("p",{className:"text-text-secondary",children:"Track your orders and view purchase history"})]}),s.jsx(a,{href:"/dashboard",children:s.jsxs(t,{variant:"outline",className:"glass border-border",children:[s.jsx(c,{className:"mr-2",size:18}),"Back to Dashboard"]})})]}),s.jsx(r,{className:"p-6 mb-8",children:s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(l,{placeholder:"Search by order ID...",value:g,onChange:e=>p(e.target.value),className:"glass border-border pl-10"})]}),s.jsx(i,{value:b,onChange:j,placeholder:"Filter by status",options:[{value:"all",label:"All Orders"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),s.jsx(i,{value:N,onChange:v,placeholder:"Sort by",options:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"amount-high",label:"Amount: High to Low"},{value:"amount-low",label:"Amount: Low to High"}]}),s.jsxs("div",{className:"flex items-center text-sm text-text-secondary",children:[D.length," of ",(f||[]).length," orders"]})]})}),0===D.length?s.jsxs(r,{className:"p-12 text-center",children:[s.jsx(m,{className:"mx-auto mb-6 text-gray-400",size:64}),s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:0===(f||[]).length?"No orders yet":"No orders found"}),s.jsx("p",{className:"text-text-secondary mb-8",children:0===(f||[]).length?"Start shopping to see your order history here.":"Try adjusting your search or filter criteria."}),0===(f||[]).length?s.jsx(a,{href:"/products",children:s.jsx(t,{className:"bg-accent-blue hover:bg-blue-500",children:"Browse Products"})}):s.jsx(t,{onClick:()=>{p(""),j("all")},className:"bg-accent-blue hover:bg-blue-500",children:"Clear Filters"})]}):s.jsx("div",{className:"space-y-6",children:D.map(e=>s.jsxs(r,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${S(e.status||"pending")} text-white`,children:C(e.status||"pending")}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",e.id.slice(-8)]}),s.jsxs("p",{className:"text-text-secondary text-sm",children:["Placed on ",new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.total]}),s.jsx(n,{className:`${S(e.status||"pending")} text-white mt-1`,children:(e.status||"pending").replace("_"," ").toUpperCase()})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-text-muted",children:"Subtotal:"}),s.jsxs("span",{className:"ml-2 font-medium",children:["$",e.subtotal]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-text-muted",children:"Shipping:"}),s.jsxs("span",{className:"ml-2 font-medium",children:["$",e.shipping]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-text-muted",children:"Tax:"}),s.jsxs("span",{className:"ml-2 font-medium",children:["$",e.tax]})]})]}),e.trackingNumber&&s.jsx("div",{className:"mb-4 p-3 glass rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Tracking Number:"}),s.jsx("code",{className:"text-accent-blue font-mono text-sm",children:e.trackingNumber})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(a,{href:`/orders/${e.id}`,children:s.jsx(t,{className:"bg-accent-blue hover:bg-blue-500",children:"View Details"})}),"delivered"===e.status&&s.jsx(t,{variant:"outline",className:"glass border-border",children:"Reorder"}),"shipped"===e.status&&e.trackingNumber&&s.jsx(t,{variant:"outline",className:"glass border-border",children:"Track Package"}),("pending"===e.status||"confirmed"===e.status)&&s.jsx(t,{variant:"outline",className:"glass border-border text-red-400 border-red-400",children:"Cancel Order"})]})]},e.id))}),D.length>=20&&s.jsx("div",{className:"mt-8 text-center",children:s.jsx(t,{variant:"outline",className:"glass border-border",children:"Load More Orders"})})]})})}export{g as default};
