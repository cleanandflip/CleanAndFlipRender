import{j as e}from"./vendor-query-CoA2KGsa.js";import{r as o}from"./vendor-react-Bg7tF2Ta.js";import{f as r,y as t}from"./index-BM-Jcr-U.js";import{X as l,f as s,C as a}from"./vendor-icons-owZ3yLAb.js";const n=function({options:n,value:c,onChange:i,placeholder:d="Select...",label:u,error:p,disabled:m=!1,required:b=!1,clearable:x=!1,multiple:h=!1,className:y="",variant:f="default"}){const[v,g]=o.useState(!1),w=o.useRef(null),j=(n||[]).map(e=>"string"==typeof e?{value:e,label:e}:e),N=Array.isArray(c)?c:[c].filter(Boolean),C=j.filter(e=>N.includes(e.value));o.useEffect(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&g(!1)};return v&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",e=>{"Escape"===e.key&&g(!1)})),()=>{document.removeEventListener("mousedown",e)}},[v]);const k={default:r("w-full px-3 py-2 rounded-md","text-left flex items-center justify-between","transition-all duration-200","border h-10",!m&&"hover:border-opacity-60",m&&"opacity-50 cursor-not-allowed",v&&"ring-2 ring-opacity-40",p&&"border-red-500"),ghost:r("px-3 py-2 rounded-lg","text-left flex items-center gap-2","transition-all duration-200",!m&&"hover:bg-white hover:bg-opacity-10",m&&"opacity-50 cursor-not-allowed"),nav:r("flex items-center gap-2 px-3 py-2","rounded-lg transition-all duration-200",!m&&"hover:bg-white hover:bg-opacity-10",m&&"opacity-50 cursor-not-allowed")},S={backgroundColor:t.colors.cardBg,borderColor:t.colors.border,backdropFilter:t.effects.blur,color:t.colors.textPrimary},E={backgroundColor:"ghost"===f||"nav"===f?"transparent":"var(--input)",borderColor:"var(--border)",color:"var(--input-foreground)",...v&&{borderColor:t.colors.accent,boxShadow:`0 0 0 3px ${t.colors.accentFocus}`}};return e.jsxs("div",{className:r("relative",y),ref:w,children:[u&&e.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:t.colors.textSecondary},children:[u," ",b&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("button",{type:"button",onClick:()=>!m&&g(!v),disabled:m,className:k[f],style:E,children:[e.jsx("span",{className:r("truncate",!C.length&&"text-white"),style:{color:C.length?"var(--input-foreground)":"white"},children:h?C.length>0?`${C.length} selected`:d:C[0]?.label||d}),e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[x&&N.length>0&&!m&&e.jsx(l,{className:"w-4 h-4 opacity-60 hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),i(h?[]:"")},style:{color:t.colors.textSecondary}}),e.jsx(s,{className:r("w-4 h-4 transition-transform",v&&"rotate-180"),style:{color:t.colors.textSecondary}})]})]}),p&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:p}),v&&!m&&e.jsx("div",{className:"absolute z-50 w-full mt-2 rounded-lg shadow-xl dropdown-scrollable overflow-hidden",style:{...S,boxShadow:t.effects.shadow,animation:"slideDown 0.2s ease-out"},children:0===j.length?e.jsx("div",{className:"px-4 py-3 text-center",style:{color:t.colors.textSecondary},children:"No options available"}):j.map((o,l)=>e.jsxs("button",{type:"button",onClick:()=>(e=>{if(!e.disabled)if(h){const o=N.includes(e.value)?N.filter(o=>o!==e.value):[...N,e.value];i(o)}else i(e.value),g(!1)})(o),disabled:o.disabled,className:r("w-full px-4 py-2.5 text-left","flex items-center justify-between","transition-colors duration-150",!o.disabled&&"hover:bg-white hover:bg-opacity-5",o.disabled&&"opacity-50 cursor-not-allowed",0!==l&&"border-t"),style:{color:t.colors.textPrimary,borderColor:t.colors.border,...N.includes(o.value)&&{backgroundColor:t.colors.selected}},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[o.icon&&e.jsx("span",{className:"w-5 h-5",children:o.icon}),e.jsx("span",{children:o.label})]}),N.includes(o.value)&&e.jsx(a,{className:"w-4 h-4",style:{color:t.colors.accent}})]},o.value))})]})};export{n as S};
