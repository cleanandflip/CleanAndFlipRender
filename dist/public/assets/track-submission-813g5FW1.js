import{a as e,j as s}from"./vendor-query-CoA2KGsa.js";import{r as t,a}from"./vendor-react-Bg7tF2Ta.js";import{u as r}from"./vendor-router-CuiUI5dJ.js";import{a as c,C as i,I as n,B as l,e as d,b as o}from"./index-D83mCZbl.js";import{d as m,b as x,Q as u,c as p,_ as h,$ as b,e as j}from"./vendor-icons-owZ3yLAb.js";import"./vendor-ui-BRIy5LFq.js";import"./vendor-utils-CrFdsnXa.js";function N(){const[N]=r(),f=new URLSearchParams(N.split("?")[1]||""),[g,v]=t.useState(f.get("ref")||""),[y,w]=t.useState(f.get("ref")||""),{toast:S}=c(),{data:k,isLoading:E,error:I}=e({queryKey:["track-submission",y],queryFn:async()=>y?await o("GET",`/api/submissions/track/${y}`):null,enabled:!!y}),R={pending:{label:"Pending Review",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:j,description:"Your submission is waiting to be reviewed by our team."},under_review:{label:"Under Review",color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:b,description:"Our team is currently evaluating your equipment."},accepted:{label:"Offer Made",color:"bg-green-500/20 text-green-400 border-green-500/30",icon:p,description:"We've made an offer! Check your email for details."},declined:{label:"Declined",color:"bg-red-500/20 text-red-400 border-red-500/30",icon:x,description:"Unfortunately, we cannot accept this item at this time."},scheduled:{label:"Pickup Scheduled",color:"bg-purple-500/20 text-purple-400 border-purple-500/30",icon:h,description:"Pickup has been scheduled. We'll see you soon!"},completed:{label:"Completed",color:"bg-gray-500/20 text-gray-400 border-gray-500/30",icon:p,description:"This submission has been completed. Thank you!"}};return s.jsx("div",{className:"min-h-screen pt-32 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"font-bebas text-4xl mb-4",children:"TRACK YOUR SUBMISSION"}),s.jsx("p",{className:"text-text-secondary",children:"Enter your reference number to track the status of your equipment submission"})]}),s.jsx(i,{className:"p-6 mb-8",children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),g.trim()&&w(g.toUpperCase().trim())},className:"flex gap-4",children:[s.jsx(n,{type:"text",placeholder:"Enter reference number (e.g., REF-20250731-1234)",value:g,onChange:e=>v(e.target.value),className:"flex-1 glass border-border"}),s.jsxs(l,{type:"submit",className:"bg-accent-blue hover:bg-blue-600",children:[s.jsx(m,{className:"w-4 h-4 mr-2"}),"Track"]})]})}),E&&s.jsxs(i,{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-blue mx-auto"}),s.jsx("p",{className:"mt-4 text-text-secondary",children:"Loading submission details..."})]}),I&&s.jsxs(i,{className:"p-8 text-center border-red-500/30",children:[s.jsx(x,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),s.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Submission Not Found"}),s.jsxs("p",{className:"text-text-muted",children:["No submission found with reference: ",s.jsx("code",{className:"bg-gray-800 px-2 py-1 rounded",children:y})]}),s.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Please check your reference number and try again."})]}),k&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(i,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-bebas text-2xl mb-2",children:"SUBMISSION STATUS"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("code",{className:"text-sm bg-gray-800 px-3 py-1 rounded text-accent-blue",children:k.referenceNumber}),s.jsx(l,{variant:"ghost",size:"icon",onClick:()=>{k?.referenceNumber&&(navigator.clipboard.writeText(k.referenceNumber),S({title:"Reference copied!",description:"You can share this with others to track the submission."}))},className:"h-8 w-8",children:s.jsx(u,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-text-muted mb-1",children:"Submitted"}),s.jsx("p",{className:"text-sm",children:new Date(k.createdAt).toLocaleDateString()})]})]}),s.jsx("div",{className:"space-y-4",children:R[k.status]&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[a.createElement(R[k.status].icon,{className:"w-6 h-6"}),s.jsx(d,{className:R[k.status].color,children:R[k.status].label})]}),s.jsx("p",{className:"text-text-secondary",children:R[k.status].description})]})})]}),s.jsxs(i,{className:"p-6",children:[s.jsx("h3",{className:"font-bebas text-xl mb-4",children:"EQUIPMENT DETAILS"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Equipment"}),s.jsx("p",{className:"font-medium",children:k.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Brand"}),s.jsx("p",{className:"font-medium",children:k.brand||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Condition"}),s.jsx("p",{className:"font-medium capitalize",children:(k.condition||"unknown").replace("_"," ")})]}),k.offerAmount&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-muted",children:"Offer Amount"}),s.jsxs("p",{className:"font-medium text-green-400",children:["$",k.offerAmount]})]})]})]}),k.scheduledPickupDate&&s.jsxs(i,{className:"p-6",children:[s.jsx("h3",{className:"font-bebas text-xl mb-4",children:"PICKUP INFORMATION"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:"w-4 h-4 text-accent-blue"}),s.jsx("span",{children:new Date(k.scheduledPickupDate).toLocaleDateString()})]}),k.pickupWindowStart&&k.pickupWindowEnd&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j,{className:"w-4 h-4 text-accent-blue"}),s.jsxs("span",{children:[k.pickupWindowStart," - ",k.pickupWindowEnd]})]})]})]}),"declined"===k.status&&k.declineReason&&s.jsxs(i,{className:"p-6 border-red-500/30",children:[s.jsx("h3",{className:"font-bebas text-xl mb-4 text-red-400",children:"DECLINE REASON"}),s.jsx("p",{className:"text-text-secondary",children:k.declineReason})]})]})]})})}export{N as default};
