import{j as e}from"./vendor-query-CoA2KGsa.js";import{r as s}from"./vendor-react-Bg7tF2Ta.js";import{u as t,L as a}from"./vendor-router-CuiUI5dJ.js";import{I as i,B as l,c as r,z as n,A as c,E as d,F as o,G as x,d as m,L as u}from"./index-BM-Jcr-U.js";import{A as h}from"./address-autocomplete-Dyu79K15.js";import{an as p,E as g,L as j,J as f,c as N,s as v,T as b}from"./vendor-icons-owZ3yLAb.js";import"./vendor-ui-BRIy5LFq.js";import"./vendor-utils-CrFdsnXa.js";function w({id:t,name:a,placeholder:r,required:n=!1,className:c,value:d,onChange:o,onFocus:x,onBlur:m}){const[u,h]=s.useState(!1);return e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:t,name:a,type:u?"text":"password",placeholder:r,required:n,className:c,value:d,onChange:o,onFocus:x,onBlur:m}),e.jsx(l,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>{h(!u)},children:u?e.jsx(p,{className:"h-4 w-4 text-text-muted hover:text-text-secondary"}):e.jsx(g,{className:"h-4 w-4 text-text-muted hover:text-text-secondary"})})]})}function y(){const[,p]=t(),{user:g,isLoading:y,loginMutation:C,registerMutation:F}=r(),[P,A]=s.useState("login"),[E,S]=s.useState(""),[q,k]=s.useState(""),[I,z]=s.useState(!0),[L,R]=s.useState(!1),[T,D]=s.useState(!1),[B,M]=s.useState({street:"",city:"",state:"",zipCode:"",fullAddress:"",latitude:void 0,longitude:void 0}),O=s.useRef(null),$=s.useRef(null),U=s.useRef(null);s.useEffect(()=>{!y&&g&&p("/")},[g,y,p]);const G=()=>{O.current&&O.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},J=e=>e.length>=8&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/\d/.test(e)&&/[!@#$%^&*]/.test(e);return y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(j,{className:"h-8 w-8 animate-spin text-accent-blue"})}):e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12",children:e.jsxs("div",{className:"w-full max-w-xl",ref:O,children:[e.jsx(n,{size:"lg",textOnly:!0,className:"mb-8"}),e.jsxs(c,{value:P,onValueChange:e=>{A(e),setTimeout(G,100)},className:"w-full",children:[e.jsxs(d,{className:"grid w-full grid-cols-2 mb-8 glass h-14 text-lg",children:[e.jsx(o,{value:"login",className:"data-[state=active]:bg-accent-blue data-[state=active]:text-white font-medium transition-all duration-200 text-lg",children:"Sign In"}),e.jsx(o,{value:"register",className:"data-[state=active]:bg-accent-blue data-[state=active]:text-white font-medium transition-all duration-200 text-lg",children:"Sign Up"})]}),e.jsx(x,{value:"login",className:"transition-all duration-300 ease-in-out",children:e.jsxs(m,{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"font-bebas text-3xl text-white tracking-wider mb-3",children:"WELCOME BACK"}),e.jsx("p",{className:"text-white",children:"Sign in to your account to continue"})]}),e.jsxs("form",{ref:$,onSubmit:e=>{e.preventDefault(),G();const s=new FormData(e.currentTarget);C.mutate({email:s.get("email"),password:s.get("password")})},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{htmlFor:"email",className:"text-white font-medium text-xl",children:"Email"}),e.jsx(i,{id:"email",name:"email",type:"email",required:!0,className:"field h-20 text-2xl px-8",placeholder:"Enter your email",onFocus:G})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{htmlFor:"password",className:"text-white font-medium text-xl",children:"Password"}),e.jsx(i,{id:"password",name:"password",type:"password",required:!0,className:"field h-20 text-2xl px-8",placeholder:"Enter your password",onFocus:G}),e.jsx("div",{className:"text-right",children:e.jsx(a,{href:"/forgot-password",children:e.jsx("button",{type:"button",className:"text-accent-blue hover:text-blue-300 text-sm underline transition-colors",children:"Forgot Password?"})})})]}),e.jsx(l,{type:"submit",variant:"primary",size:"lg",className:"w-full h-16 text-xl",loading:C.isPending,disabled:C.isPending,children:C.isPending?"Signing In...":"Sign In"})]})]})}),e.jsx(x,{value:"register",className:"transition-all duration-300 ease-in-out",children:e.jsxs(m,{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-bebas text-3xl text-white tracking-wider mb-2",children:"CREATE ACCOUNT"}),e.jsx("p",{className:"text-white",children:"Join Clean & Flip to buy and sell equipment"})]}),e.jsxs("form",{ref:U,onSubmit:e=>{e.preventDefault(),G();const s=new FormData(e.currentTarget),t=s.get("password"),a=s.get("confirmPassword");if(t!==a)return void z(!1);const i=["28801","28802","28803","28804","28805","28806","28810","28813","28814","28815","28816"].includes(B.zipCode);F.mutate({email:s.get("email"),password:t,confirmPassword:a,firstName:s.get("firstName"),lastName:s.get("lastName"),phone:s.get("phone")||void 0,latitude:B.latitude||void 0,longitude:B.longitude||void 0,isLocalCustomer:i,fullAddress:`${B.street}, ${B.city}, ${B.state} ${B.zipCode}`})},className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(i,{id:"firstName",name:"firstName",type:"text",required:!0,className:"field h-12 px-4",placeholder:"First Name",onFocus:G}),e.jsx(i,{id:"lastName",name:"lastName",type:"text",required:!0,className:"field h-12 px-4",placeholder:"Last Name",onFocus:G})]}),e.jsx(i,{id:"email",name:"email",type:"email",required:!0,className:"field h-12 px-4",placeholder:"Email Address",onFocus:G}),e.jsx(i,{id:"phone",name:"phone",type:"tel",className:"field h-12 px-4",placeholder:"Phone Number (Optional)",onFocus:G}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"address",className:"text-text-secondary text-sm",children:"Address"}),e.jsx(h,{id:"address",name:"address",value:B.fullAddress,onChange:e=>{M({street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,fullAddress:e.fullAddress,latitude:e.coordinates?.lat,longitude:e.coordinates?.lng})},placeholder:"Start typing your address...",className:"h-12 px-4 transition-all duration-200 focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/30 placeholder:text-white text-white",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"relative",children:e.jsx(w,{id:"password",name:"password",placeholder:"Password",required:!0,className:"h-12 px-4 transition-all duration-200 focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/30 placeholder:text-white text-white "+(E&&!J(E)?"border-red-500/50":E&&J(E)?"border-green-500/50":""),value:E,onChange:e=>{const s=e.target.value;S(s),z(!q||s===q)},onFocus:()=>{R(!0),G()},onBlur:()=>R(!1)})}),e.jsx("div",{className:"text-xs text-text-muted",children:"Min 8 characters, include numbers & symbols"}),L&&E&&!J(E)&&e.jsx("div",{className:"text-xs text-red-400",children:"Need: uppercase, lowercase, number, special character"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(w,{id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",required:!0,className:"h-12 px-4 transition-all duration-200 focus:border-accent-blue focus:ring-2 focus:ring-accent-blue/30 placeholder:text-white text-white "+(!I&&q?"border-red-500/50":I&&q&&E?"border-green-500/50":""),value:q,onChange:e=>{const s=e.target.value;k(s),z(!E||E===s)},onFocus:G}),!I&&q&&e.jsx("div",{className:"text-xs text-red-400",children:"Passwords do not match"})]}),e.jsx(l,{type:"submit",variant:"primary",size:"lg",className:"w-full h-12 text-lg mt-6",loading:F.isPending,disabled:F.isPending||!I||!!E&&!J(E),children:F.isPending?"Creating Account...":"Create Account"})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-border/50",children:[e.jsxs("button",{type:"button",onClick:()=>D(!T),className:"text-sm text-text-muted hover:text-text-secondary transition-colors duration-200 flex items-center gap-2",children:[e.jsx(f,{className:"h-3 w-3"}),"Secure Registration • Learn about our security",e.jsx("span",{className:"transition-transform duration-200 "+(T?"rotate-180":""),children:"▼"})]}),T&&e.jsxs("div",{className:"mt-3 p-3 glass rounded border border-border text-sm text-text-secondary space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-green-400"}),e.jsx("span",{children:"256-bit encryption protects your data"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-green-400"}),e.jsx("span",{children:"Passwords never stored in plain text"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-green-400"}),e.jsx("span",{children:"PCI compliant payment processing"})]})]})]})]})})]})]})}),e.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center p-12",children:e.jsxs("div",{className:"max-w-xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full glass mb-8 transition-all duration-300 hover:scale-110",children:e.jsx(v,{className:"h-12 w-12 text-accent-blue"})}),e.jsx("h2",{className:"font-bebas text-6xl text-white tracking-wider mb-6",children:"TRUSTED MARKETPLACE"}),e.jsx("p",{className:"text-text-secondary text-xl leading-relaxed",children:"Join hundreds of fitness enthusiasts buying and selling quality equipment with expert inspection and fair pricing."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(m,{className:"p-8 glass-hover transition-all duration-300 hover:scale-[1.02]",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-16 h-16 bg-success rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(N,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bebas text-2xl text-white tracking-wider mb-3",children:"VERIFIED QUALITY"}),e.jsx("p",{className:"text-text-secondary text-lg",children:"All equipment professionally inspected and guaranteed before sale"})]})]})}),e.jsx(m,{className:"p-8 glass-hover transition-all duration-300 hover:scale-[1.02]",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-16 h-16 bg-accent-blue rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(f,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bebas text-2xl text-white tracking-wider mb-3",children:"EXPERT KNOWLEDGE"}),e.jsx("p",{className:"text-text-secondary text-lg",children:"Weightlifting specialists with years of experience in quality equipment"})]})]})}),e.jsx(m,{className:"p-8 glass-hover transition-all duration-300 hover:scale-[1.02]",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-16 h-16 bg-warning rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(b,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bebas text-2xl text-white tracking-wider mb-3",children:"FAIR PRICING"}),e.jsx("p",{className:"text-text-secondary text-lg",children:"Best market value for both buyers and sellers in the fitness community"})]})]})})]})]})})]})}export{y as default};
