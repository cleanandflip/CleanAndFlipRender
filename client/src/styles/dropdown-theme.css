/* Unified Dropdown Theme System */

/* Base dropdown container - uses global theme variables */
.dropdown-container {
  background-color: hsl(var(--secondary) / 0.98);
  border: 1px solid hsl(var(--border));
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  border-radius: 0.75rem;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.dropdown-container-mobile {
  border-radius: 0.75rem 0.75rem 0 0;
}

/* Dropdown item base */
.dropdown-item {
  width: 100%;
  padding: 0.625rem 1rem;
  text-align: left;
  color: hsl(var(--muted-foreground));
  border-radius: 0.5rem;
  transition: all 200ms;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.dropdown-item:hover {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

.dropdown-item:focus {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
  outline: none;
}

.dropdown-item.selected {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

/* Dropdown sections */
.dropdown-section-header {
  padding: 0.5rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.dropdown-section-title {
  font-size: 0.75rem;
  font-weight: 600;
  color: hsl(var(--muted-foreground));
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.dropdown-divider {
  border-top: 1px solid hsl(var(--border));
  margin: 0.5rem 0;
}

/* Search result specific items */
.dropdown-product-item {
  width: 100%;
  padding: 0.75rem 1rem;
  text-align: left;
  color: hsl(var(--muted-foreground));
  border-radius: 0.5rem;
  transition: all 200ms;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.dropdown-product-item:hover {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

.dropdown-product-item .product-image {
  width: 4rem;
  height: 4rem;
  background-color: hsl(var(--muted));
  border-radius: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.dropdown-product-item .product-details {
  flex: 1;
  text-align: left;
  min-width: 0;
}

.dropdown-product-item .product-title {
  color: hsl(var(--foreground));
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: colors 200ms;
}

.dropdown-product-item:hover .product-title {
  color: hsl(var(--accent-foreground));
}

.dropdown-product-item .product-meta {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: hsl(var(--muted-foreground));
}

.dropdown-product-item .product-price {
  color: hsl(var(--foreground));
  font-weight: 600;
}

.dropdown-product-item .product-stock {
  font-size: 0.75rem;
  color: hsl(var(--muted-foreground));
}

/* Loading and empty states */
.dropdown-loading {
  @apply py-12 text-center;
}

.dropdown-loading .spinner {
  @apply w-8 h-8 animate-spin text-text-muted mx-auto mb-3;
}

.dropdown-loading .text {
  @apply text-sm text-text-muted;
}

.dropdown-empty {
  @apply py-12 text-center;
}

.dropdown-empty .icon {
  @apply w-12 h-12 text-text-muted mx-auto mb-3;
}

.dropdown-empty .title {
  @apply text-text-secondary mb-2;
}

.dropdown-empty .subtitle {
  @apply text-sm text-text-muted;
}

/* Error state */
.dropdown-error {
  @apply py-12 text-center;
}

.dropdown-error .title {
  @apply text-red-400 mb-2;
}

.dropdown-error .subtitle {
  @apply text-sm text-text-muted;
}

/* Highlight matching text */
.highlight-match {
  @apply bg-yellow-500/30 text-yellow-200 px-0.5 rounded;
}

/* Custom scrollbar for dropdowns */
.dropdown-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground)) transparent;
}

.dropdown-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.dropdown-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.dropdown-scrollbar::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted-foreground));
  border-radius: 3px;
}

.dropdown-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--accent-foreground));
}

/* Animation classes */
.dropdown-enter {
  opacity: 0;
  transform: scale(0.95);
}

.dropdown-enter-active {
  opacity: 1;
  transform: scale(1);
  transition: opacity 150ms ease-out, transform 150ms ease-out;
}

.dropdown-exit {
  opacity: 1;
  transform: scale(1);
}

.dropdown-exit-active {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 150ms ease-out, transform 150ms ease-out;
}

/* Search input using field theme */
.search-input {
  width: 100%;
  height: 3rem;
  padding-left: 3rem;
  padding-right: 3rem;
  background-color: hsl(var(--secondary));
  border: 1px solid hsl(var(--border));
  border-radius: 0.75rem;
  color: hsl(var(--foreground));
  transition: all 200ms;
  outline: none;
}

.search-input::placeholder {
  color: hsl(var(--muted-foreground));
}

.search-input:hover {
  border-color: hsl(var(--accent));
}

.search-input:focus {
  border-color: hsl(var(--ring));
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2), 0 0 30px rgba(59, 130, 246, 0.15);
}

/* Search icon container */
.search-icon-container {
  @apply absolute left-0 top-0 bottom-0 w-12 flex items-center justify-center pointer-events-none z-10;
}

.search-clear-button {
  @apply absolute right-0 top-0 bottom-0 w-12 flex items-center justify-center;
}

.search-clear-button button {
  @apply h-8 w-8 flex items-center justify-center;
  @apply hover:bg-accent rounded-md transition-all duration-200;
}

/* Mobile specific styles */
@media (max-width: 768px) {
  .dropdown-container-mobile {
    max-height: 80vh;
    overflow-y: auto;
  }
  
  .search-modal-open {
    overflow: hidden;
  }
}

/* Focus trap for accessibility */
.dropdown-container:focus-within {
  @apply ring-2 ring-ring ring-offset-2;
}